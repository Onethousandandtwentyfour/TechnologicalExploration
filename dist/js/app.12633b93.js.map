{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MusicButton.vue?8bf5","webpack:///./src/util/alert.js","webpack:///./src/components/HButtonFrame.vue?e1bf","webpack:///./src/components/BasePage.vue?3cd4","webpack:///./src/components/UploadPage.vue?bf50","webpack:///./src/App.vue?dce0","webpack:///./src/util/nav-controller.js","webpack:///./src/util/rem.js","webpack:///./src/util/page-turning-manager.js","webpack:///./src/util/bgMusicSoundJs.js","webpack:///./src/components/BasePage.vue?9db0","webpack:///src/components/BasePage.vue","webpack:///./src/components/BasePage.vue?6d8e","webpack:///./src/components/BasePage.vue","webpack:///./src/components/MusicButton.vue?86ae","webpack:///src/components/MusicButton.vue","webpack:///./src/components/MusicButton.vue?b6da","webpack:///./src/components/MusicButton.vue","webpack:///./src/components/PageLoading.vue?8409","webpack:///./src/util/image-load.js","webpack:///src/components/PageLoading.vue","webpack:///./src/components/PageLoading.vue?5ec5","webpack:///./src/components/PageLoading.vue","webpack:///./src/components/MovieClip.vue?af78","webpack:///src/components/MovieClip.vue","webpack:///./src/components/MovieClip.vue?c1ee","webpack:///./src/components/MovieClip.vue","webpack:///./src/components/UploadPage.vue?2f53","webpack:///src/components/UploadPage.vue","webpack:///./src/components/UploadPage.vue?139e","webpack:///./src/components/UploadPage.vue","webpack:///./src/components/BgMusicHint.vue?f319","webpack:///src/components/BgMusicHint.vue","webpack:///./src/components/BgMusicHint.vue?a29d","webpack:///./src/components/BgMusicHint.vue","webpack:///./src/components/ShakePage.vue?c055","webpack:///src/components/ShakePage.vue","webpack:///./src/components/ShakePage.vue?1aad","webpack:///./src/components/ShakePage.vue","webpack:///./src/components/HButton.vue?e177","webpack:///./src/components/HButtonFrame.vue?4980","webpack:///src/components/HButtonFrame.vue","webpack:///./src/components/HButtonFrame.vue?0b92","webpack:///./src/components/HButtonFrame.vue","webpack:///src/components/HButton.vue","webpack:///./src/components/HButton.vue?b40c","webpack:///./src/components/HButton.vue","webpack:///./src/util/herdsric-statistic.js","webpack:///src/App.vue","webpack:///./src/App.vue?8c18","webpack:///./src/App.vue","webpack:///./src/util/soundjs.js","webpack:///./src/util/store.js","webpack:///./src/main.js","webpack:///./src/components/HButton.vue?bbb4","webpack:///./src/App.vue?158d","webpack:///./src/components/MovieClip.vue?3291","webpack:///./src/components/PageLoading.vue?a99b","webpack:///./src/components/ShakePage.vue?a90f","webpack:///./src/components/BgMusicHint.vue?65a1","webpack:///./public/imgs/logo.png","webpack:///./public/imgs/3.jpg","webpack:///./src/util/vconsole.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","console","log","alert","iframe","document","createElement","style","display","setAttribute","documentElement","appendChild","frames","parentNode","removeChild","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","handleLoadComplete","_e","class","pageClass","nextPageClick","_v","buttonLoading","butClick","but2Click","movieClipInfo","imageArray","fps","startPlay","loop","reversePlay","pause","playToEnd","movieClipPlayClickHandler","_s","movieClipLoopClickHandler","movieClipReverseClickHandler","uploadPageNextPageHandler","shakePageNextPageHandler","backgroundMusicPauseHandler","backgroundMusicPlayHandler","showBgMusicHint","bgMusicConfirmHandler","bgMusicCancelHandler","staticRenderFns","navController","isIE","isAndroid","isIos","isWX","isDD","isKB","isWB","isQQSpace","isWebApp","isMac","isEdge","isQQBrowser","isMobile","isIpad","isPC","init","u","navigator","userAgent","v","trident","indexOf","presto","webKit","gecko","mobile","match","ios","android","iPhone","iPad","webApp","mac","edge","qqBrowser","ua","toLowerCase","output","JSON","stringify","wx","getWindowSize","width","height","wBody","hBody","wDocument","hDocument","wWindow","hWindow","body","clientWidth","clientHeight","innerWidth","innerHeight","makeRem750","unit","fontSize","PageTurningManager","currentIndex","nextIndex","nextDuration","pageIndex","duration","Promise","res","setTimeout","turnToPage","index","isNaN","_PageTurningManager","BGMusicSoundJs","id","sound","createjs","Sound","bgInstanceLoaded","bgInstance","autoPlay","alternateExtensions","loadComplete","registerSound","event","src","play","paused","stop","pageClick","_t","component","sharedState","backgrundMusicIsPlaying","transform","rotateAngleDeg","musicButtonClick","rotateAnglePerFrame","lastRotateTime","store","state","rotateAngle","computed","methods","setBackgroundMusicPause","$emit","setBackgroundMusicPlaying","rotate","time","ROTATE_FPS","initRotate","currentTime","requestAnimationFrame","mounted","backgroundImage","finalImageSrcBg","loadPercent","ImageLoad","images","imageUrls","imagesLoaded","imagesFailedToLoad","imagesIndex","imageLoadingProgress","getImage","a","imageLoadedCallback","imageLoadedErrorCallback","loadImage","e","Image","addEventListener","loadImages","queueImage","toString","forEach","imageLoadingProgressCallback","setInterval","clearInterval","_l","item","opacity","isFrameShow","$event","uploadFuns","uploadSrc","nextPageHandler","directives","rawName","expression","askPermission","shaking","deviceIsShaking","pageHintClickHandler","type","classes","borderColor","disabled","handleClick","text","borderClicked","borderWaveIn","statisticsAll","action","label","opt","option","category","g","b","hmtPush","_hmt","gaStatistics","gtag","event_category","event_label","assign","SoundJS","version","buildDate","extend","subclass","superclass","constructor","promote","prefix","subP","supP","getPrototypeOf","__proto__","deprecate","fallbackMethod","msg","warn","arguments","array","searchElement","proxy","method","scope","aArgs","Array","concat","BrowserDetect","agent","isWindowPhone","isFirefox","isOpera","opera","isChrome","isIOS","isBlackberry","EventDispatcher","_listeners","_captureListeners","initialize","target","removeEventListener","off","removeAllEventListeners","hasEventListener","dispatchEvent","_dispatchEvent","willTrigger","listener","useCapture","listeners","arr","once","handleEvent","evt","remove","eventObj","bubbles","cancelable","Event","clone","parent","top","list","propagationStopped","defaultPrevented","captureListeners","eventPhase","currentTarget","removed","immediatePropagationStopped","timeStamp","Date","getTime","preventDefault","stopPropagation","stopImmediatePropagation","set","props","ErrorEvent","title","message","Event_constructor","ProgressEvent","loaded","total","progress","LoadItem","maintainOrder","callback","Methods","GET","values","headers","withCredentials","mimeType","crossOrigin","loadTimeout","LOAD_TIMEOUT_DEFAULT","Error","Types","el","createTextNode","Elements","container","getHead","visibility","position","overflow","msTransform","webkitTransform","oTransform","getBody","head","getElementsByTagName","HTMLImageElement","HTMLAudioElement","HTMLVideoElement","DomUtils","IMAGE","BINARY","TEXT","MANIFEST","XML","CSS","SVG","JAVASCRIPT","SPRITESHEET","extension","SOUND","VIDEO","RequestUtils","path","info","absolute","relative","protocol","hostname","port","pathname","search","hash","host","parser","href","queryIndex","substr","ABSOLUTE_PATT","test","RELATIVE_PATT","EXTENSION_PATT","query","params","escape","join","idx","q","split","formatQueryString","location","crossdomain","URLUtils","AbstractLoader","loadItem","preferXHR","EventDispatcher_constructor","canceled","resultFormatter","_item","_preferXHR","_result","_rawResult","_loadedItems","_tagSrcAttribute","_tag","defineProperties","POST","FONT","FONTCSS","JSONP","getItem","getResult","raw","getTag","setTag","tag","load","_createRequest","_request","loader","cancel","destroy","_loadItems","getLoadedItems","XHRRequest","TagRequest","_createTag","_sendLoadStart","_isCanceled","_sendProgress","Infinity","_sendComplete","rawResult","_sendError","_response","Function","_resultFormatSuccess","_resultFormatFailed","toUpperCase","AbstractMediaLoader","AbstractLoader_constructor","_formatResult","_updateXHR","preload","AbstractLoader_load","MediaTagRequest","setResponseType","_loadedHandler","onstalled","URL","webkitURL","createObjectURL","AbstractRequest","srcAttribute","AbstractRequest_constructor","_handleTagComplete","_addedToDOM","onload","onreadystatechange","_handleReadyStateChange","onerror","_handleError","_loadTimeout","_handleTimeout","appendToBody","_clean","AbstractRequest_destroy","clearTimeout","readyState","_handleStalled","sc","_stalledCallback","pc","_handleProgress","TagRequest_load","newEvent","_progressCallback","TagRequest__clean","_xhrLevel","_rawResponse","_canceled","_handleLoadStartProxy","_handleLoadStart","_handleProgressProxy","_handleAbortProxy","_handleAbort","_handleErrorProxy","_handleTimeoutProxy","_handleLoadProxy","_handleLoad","_handleReadyStateChangeProxy","_createXHR","ACTIVEX_VERSIONS","abort","onloadstart","onprogress","onabort","ontimeout","send","error","_responseType","responseType","getAllResponseHeaders","getResponseHeader","header","_checkError","_getResponse","Blob","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","builder","append","getBlob","status","parseInt","response","responseText","responseXML","isCrossDomain","req","XMLHttpRequest","undefined","XDomainRequest","axVersion","ActiveXObject","isText","overrideMimeType","buildURI","open","origin","setRequestHeader","SoundLoader","AbstractMediaLoader_constructor","isAudioTag","canLoadItem","audio","autoplay","PlayPropsConfig","interrupt","delay","offset","volume","pan","startTime","SoundChannel","max","INTERRUPT_ANY","INTERRUPT_EARLY","INTERRUPT_LATE","INTERRUPT_NONE","PLAY_INITED","PLAY_SUCCEEDED","PLAY_INTERRUPTED","PLAY_FINISHED","PLAY_FAILED","SUPPORTED_EXTENSIONS","EXTENSION_MAP","m4a","FILE_PATTERN","defaultInterruptBehavior","activePlugin","_masterVolume","_getMasterVolume","getVolume","_setMasterVolume","Number","Math","min","setVolume","instances","_instances","setMasterVolume","_masterMute","_getMute","getMute","_setMute","setMute","setMasterMute","_getCapabilities","_capabilities","getCapabilities","muted","capabilities","_pluginsRegistered","_lastID","_idHash","_preloadHash","_defaultPlayPropsHash","getPreloadHandlers","initLoad","types","extensions","_handleLoadComplete","sprite","_handleLoadError","_registerPlugin","plugin","isSupported","registerPlugins","plugins","initializeDefaultPlugins","WebAudioPlugin","HTMLAudioPlugin","isReady","_registerSound","details","_parseSrc","_parsePath","numChannels","channels","audioSprite","sp","defaultPlayProps","register","maxPerChannel","basePath","registerSounds","sounds","returnValues","manifest","removeSound","_getSrcById","prop","removeSrc","removeSounds","removeAllSounds","removeAll","ext","replace","ret","lastIndexOf","playProps","instance","createInstance","ok","_playInstance","_playFailed","DefaultSoundInstance","applyPlayProps","uniqueId","setDefaultPlayProps","getDefaultPlayProps","_beginPlaying","delayTimeoutId","add","_playFinished","channel","_removeAll","_add","_remove","maxDefault","_get","_getSlot","replacement","playState","_interrupt","AbstractSoundInstance","playbackResource","_volume","_getVolume","_setVolume","_pan","_getPan","_setPan","getPan","setPan","_startTime","_getStartTime","_setStartTime","getStartTime","setStartTime","_duration","_getDuration","_setDuration","getDuration","setDuration","_playbackResource","_getPlaybackResource","_setPlaybackResource","getPlaybackResource","setPlaybackResource","_position","_getPosition","_setPosition","getPosition","setPosition","_loop","_getLoop","_setLoop","getLoop","setLoop","_muted","_getMuted","_setMuted","getMuted","setMuted","_paused","_getPaused","_setPaused","getPaused","setPaused","_cleanUp","_handleStop","_pause","_resume","_updateVolume","_updatePan","_calculateCurrentPosition","_updatePosition","_updateStartTime","_updateDuration","_setDurationFromSource","_removeLooping","_addLooping","_sendEvent","_handleCleanUp","_handleSoundReady","_handleSoundComplete","_handleLoop","AbstractPlugin","_loaders","_audioSources","_soundInstances","_loaderClass","_soundInstanceClass","_handlePreloadComplete","_handlePreloadError","isPreloadStarted","isPreloadComplete","si","Loader","context","decodeAudioData","_handleAudioDecoded","decodedAudio","AbstractLoader__sendComplete","WebAudioLoader","WebAudioSoundInstance","AbstractSoundInstance_constructor","gainNode","createGain","panNode","createPanner","panningModel","_panningModel","connect","sourceNode","_soundCompleteTimeout","_sourceNodeNext","_playbackStartTime","_endedHandler","_scratchBuffer","destinationNode","AbstractSoundInstance_destroy","disconnect","_cleanUpAudioNode","_createAndPlayAudioNode","numberOfOutputs","audioNode","buffer","dur","pos","createBufferSource","start","newVolume","gain","AbstractPlugin_constructor","dynamicsCompressorNode","createDynamicsCompressor","destination","_addPropsToClasses","_unlocked","DEFAULT_SAMPLE_RATE","isMobilePhoneGap","_isFileXHRSupported","_generateCapabilities","playEmptySound","source","supported","xhr","canPlayType","_createAudioContext","createBuffer","_compatibilitySetUp","_unlock","panning","tracks","supportedExtensions","extensionMap","playType","numberOfChannels","AudioCtor","AudioContext","webkitAudioContext","sampleRate","dummy","close","createGainNode","noteGrainOn","noteOff","HTMLAudioTagPool","TagPool","_tags","_tagPool","_tagUsed","pop","HTMLAudioSoundInstance","_audioSpriteStopTime","_delayTimeoutId","_readyHandler","_handleTagReady","_stalledHandler","_audioSpriteEndHandler","_handleAudioSpriteLoop","_loopHandler","isMuted","_AUDIO_SEEKED","_AUDIO_ENDED","_AUDIO_READY","_AUDIO_STALLED","_TIME_UPDATE","AbstractSoundInstance__beginPlaying","_handleSetPositionSeek","MAX_INSTANCES","AbstractPlugin_register","AbstractPlugin_removeSound","AbstractPlugin_create","debug","sourceArrayPreLoad","sourceArrayLoading","testArr","handler","Reflect","initStore","obj","entries","Proxy","require","Vue","config","productionTip","render","h","App","$mount","vConsole","Vconsole"],"mappings":"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","file":"js/app.12633b93.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MusicButton.vue?vue&type=style&index=0&lang=css&\"","// 将alert 去除域名\nconsole.log('alert js: loading...');\n(function() {\n    window.alert = function(name) {\n        var iframe = document.createElement('IFRAME');\n        iframe.style.display = 'none';\n        iframe.setAttribute('src', 'data:text/plain');\n        document.documentElement.appendChild(iframe);\n        window.frames[0].window.alert(name);\n        iframe.parentNode.removeChild(iframe);\n    };\n})();\nconsole.log('alert js: no title alert loaded');\n// (function() {\n//     window.confirm = function(name) {\n//         var iframe = document.createElement('IFRAME');\n//         iframe.style.display = 'none';\n//         iframe.setAttribute('src', 'data:text/plain');\n//         document.documentElement.appendChild(iframe);\n//         var ret = window.frames[0].window.confirm(name);\n//         iframe.parentNode.removeChild(iframe);\n//         return ret;\n//     };\n// })();\nconsole.log('alert js: load complete.');\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButtonFrame.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BasePage.vue?vue&type=style&index=0&id=32b9d32a&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadPage.vue?vue&type=style&index=0&id=369cbc99&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",attrs:{\"id\":\"app\"}},[(_vm.pageLoadingShow)?_c('PageLoading',{on:{\"loadComplete\":_vm.handleLoadComplete}}):_vm._e(),_c('BasePage',{class:_vm.pageClass(1),attrs:{\"id\":\"page-1\"},on:{\"commonclick\":_vm.nextPageClick}},[_c('div',{staticClass:\"page1-bg\"},[_c('div',{staticClass:\"page-hint\"},[_vm._v(\"Page 1, click go to next page\")])])]),_c('BasePage',{class:_vm.pageClass(2)},[_c('div',{staticClass:\"page2-bg\"},[_c('herdsric-button',{staticClass:\"herdsric-button\",attrs:{\"border-color\":\"#ffffff\",\"show-loading\":_vm.buttonLoading},on:{\"click\":_vm.butClick}},[_vm._v(\"test\")]),_c('herdsric-button',{on:{\"click\":_vm.but2Click}},[_vm._v(\"Test2\")]),_c('herdsric-button',{attrs:{\"disabled\":true},on:{\"click\":_vm.but2Click}},[_vm._v(\"Test3\")]),_c('herdsric-button',{attrs:{\"show-loading\":_vm.buttonLoading,\"type\":\"image\",\"src\":\"./imgs/music-off.png\"},on:{\"click\":_vm.but2Click}},[_vm._v(\"Test4\")]),_c('MovieClip',{staticClass:\"movie-clip-demo\",attrs:{\"imageArray\":_vm.movieClipInfo.imageArray,\"fps\":_vm.movieClipInfo.fps,\"startPlay\":_vm.movieClipInfo.startPlay,\"loop\":_vm.movieClipInfo.loop,\"reversePlay\":_vm.movieClipInfo.reversePlay,\"pause\":_vm.movieClipInfo.pause},on:{\"frameEnd\":_vm.playToEnd}}),_c('herdsric-button',{staticClass:\"herdsric-button\",attrs:{\"show-loading\":_vm.buttonLoading},on:{\"click\":_vm.movieClipPlayClickHandler}},[_vm._v(\"\\n                \"+_vm._s(_vm.movieClipInfo.startPlay\n                ? '点击暂停序列帧'\n                : '点击开始序列帧')+\"\\n            \")]),_c('div',{staticClass:\"page-hint\",on:{\"click\":_vm.movieClipPlayClickHandler}},[_vm._v(\"\\n                \"+_vm._s(_vm.movieClipInfo.startPlay\n                ? '点击暂停序列帧'\n                : '点击开始序列帧')+\"\\n            \")]),_c('div',{staticClass:\"page-hint\",on:{\"click\":_vm.movieClipLoopClickHandler}},[_vm._v(\"\\n                \"+_vm._s(_vm.movieClipInfo.loop\n                ? '点击序列帧单次播放'\n                : '点击序列帧循环播放')+\"\\n            \")]),_c('div',{staticClass:\"page-hint\",on:{\"click\":_vm.movieClipReverseClickHandler}},[_vm._v(\"\\n                \"+_vm._s(_vm.movieClipInfo.reversePlay\n                ? '切换到正序播放'\n                : '切换到倒序播放')+\"\\n            \")]),_c('div',{staticClass:\"page-hint\",attrs:{\"id\":\"page-2\"},on:{\"click\":_vm.nextPageClick}},[_vm._v(\"Page 2, click go to next page\")])],1)]),_c('UploadPage',{class:_vm.pageClass(3),on:{\"nextPage\":_vm.uploadPageNextPageHandler}}),_c('ShakePage',{class:_vm.pageClass(4),on:{\"nextPage\":_vm.shakePageNextPageHandler}}),_c('MusicButton',{on:{\"backgroundMusicPause\":_vm.backgroundMusicPauseHandler,\"backgroundMusicPlay\":_vm.backgroundMusicPlayHandler}}),_c('BgMusicHint',{attrs:{\"showBgMusicHint\":_vm.showBgMusicHint},on:{\"confirm\":_vm.bgMusicConfirmHandler,\"cancel\":_vm.bgMusicCancelHandler}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 获取浏览器\nlet navController = {\n    isIE: false,\n    isAndroid: false,\n    isIos: false,\n    isWX: false,\n    isDD: false,\n    isKB: false,\n    isWB: false,\n    isQQSpace: false,\n    isWebApp: false,\n    isMac: false,\n    isEdge: false,\n    isQQBrowser: false,\n    isMobile: false,\n    isIpad: false,\n    isPC: false,\n    init: function() {\n        let u = navigator.userAgent;\n        let v = {\n            //移动终端浏览器版本信息\n            trident: u.indexOf('Trident') > -1, //IE内核\n            presto: u.indexOf('Presto') > -1, //opera内核\n            webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核\n            gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核\n            mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端\n            android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或uc浏览器\n            iPhone: u.indexOf('iPhone') > -1, //是否为iPhone或者QQHD浏览器\n            iPad: u.indexOf('iPad') > -1, //是否iPad\n            webApp: u.indexOf('Safari') == -1, //是否web应该程序，没有头部与底部\n            mac: u.indexOf('Mac') > -1,\n            edge: u.indexOf('Edge') > -1,\n            qqBrowser: u.indexOf('QQBrowser') > -1,\n        };\n\n        // let language = (navigator.browserLanguage || navigator.language).toLowerCase();\n\n        // IE内核\n        this.isIE = v.trident;\n        this.isEdge = v.edge;\n        this.isMac = v.mac;\n        this.isQQBrowser = v.qqBrowser;\n        this.isMobile = v.mobile;\n        this.isIpad = v.iPad;\n        this.isIos = v.ios;\n        this.isAndroid = v.android;\n        this.isWebApp = v.webApp;\n\n        if (v.mobile) {\n            // 移动端设备细化判断是从什么浏览器打开\n            let ua = u.toLowerCase(); //获取判断用的对象\n\n            if (ua.match(/MicroMessenger/i) == 'micromessenger') {\n                //在微信中打开\n                this.isWX = true;\n            }\n            if (ua.match(/WeiBo/i) == 'weibo') {\n                //在新浪微博客户端打开\n                this.isWB = true;\n            }\n            if (ua.match(/QQ/i) == 'qq') {\n                //在QQ空间打开\n                this.isQQSpace = true;\n            }\n            if (ua.match(/koubeidefined/i) == 'koubeidefined') {\n                //在口碑打开\n                this.isKB = true;\n            }\n            if (ua.match(/dingtalk/i) == 'dingtalk') {\n                //在口碑打开\n                this.isDD = true;\n            }\n        }\n    },\n    output: function() {\n        console.log(`navi controller: ${navigator.userAgent}`);\n        console.log(\n            `navi controller: ${JSON.stringify({\n                wx: this.isWX,\n                ios: this.isIos,\n            })}`\n        );\n    },\n};\n\nnavController.init();\n\nexport default navController;\n","// 获取尺寸\nfunction getWindowSize() {\n    /**\n     * 分别用三组数据获取页面的宽高，分别是\n     * window.innerWidth window.innerHeight\n     * document.body.clientWidth document.body.clientHeight\n     * document.documentElement.clientWidth document.documentElement.clientHeight\n     * 优先级依次是 document.body.clientWidth > document.documentElement.clientWidth > window.innerWidth\n     * 优先级的原因在于，window.innerWidth会包含视口滚动条的宽度，document.documentElement不包含滚动条，指的是<html>渲染区域的高度，document.body也不包含滚动条，指的是<body>渲染区域的高度\n     * 而由于我们代码都是写在<body>当中，拿到body的高度是更精确的，而body和html之间的差异基本没有，更多的考虑是在于浏览器兼容，所以才有了这样的排序\n     */\n\n    let width;\n    let height;\n\n    let wBody, hBody;\n    let wDocument, hDocument;\n    let wWindow, hWindow;\n\n    if (window.body) {\n        wBody = document.body.clientWidth;\n        hBody = document.body.clientHeight;\n    }\n\n    if (window.documentElement) {\n        wDocument = document.documentElement.clientWidth;\n        hDocument = document.documentElement.clientHeight;\n    }\n\n    wWindow = window.innerWidth;\n    hWindow = window.innerHeight;\n\n    width = wBody || wDocument;\n    height = hBody || hDocument;\n\n    if (!width && !height) {\n        width = wWindow;\n        height = hWindow;\n    }\n\n    return {\n        width,\n        height,\n    };\n}\n\nfunction makeRem750() {\n    // 我们希望整个屏幕的宽度是一个定值，比如7.5rem，6.4rem。这是借鉴了微信小程序中，屏幕宽度永远是750rpx的做法。那具体是7.5rem还是6.4rem，取决于设计图的尺寸是750px还是640px来决定的\n    // 即 640px = 6.4rem\n    //    750px = 7.5rem\n    // 默认值是7.5rem，因为目前所有项目中使用到的设计图尺寸都统一到750px了\n    // chrome下最小字体是13px，所以不能用设计图的宽度来设定rem的宽度，比如设计图是640px,直接用640rem换算的话font-size就会过小，所以做*100处理\n    // 更新：将px改用vw，更容易理解，同时可以省去计算屏幕宽度的操作 update by 3c 2019-11-04 1056\n\n    let unit = 100 / 7.5;\n    document.documentElement.style.fontSize = unit + 'vw';\n    return unit;\n}\n\nmakeRem750();\n\nexport { getWindowSize };\n","/**\n * 翻页管理器\n * 这个管理器是为了处理翻页的时候所遇到的一些比如页面延迟时间，页面是否正在翻页这些状态而产生的。\n * 所以这个管理器的功能仅仅是负责两页间的切换，它不需要知道整个场景里有几个页面，也不需要知道这个页面对应的内容具体是什么，它只负责记录当前页面，以及正在翻页页面的序号而已。\n */\nclass PageTurningManager {\n    constructor() {\n        this.currentIndex = null; // 当前页面序号，指的是当前显示在最前的，静态展示的页面\n        this.nextIndex = null; // 下一页面序号，在翻页的过程中，下一页可以被代表为“即将出现的”，“正在做动画的”这些状态。\n        this.nextDuration = 500; // 下一页变为当前页的延迟时间，单位是毫秒。设置nextIndex后多少毫秒后，nextIndex赋值为currentIndex\n    }\n\n    /**\n     * 翻到指定页\n     * @param {Number} pageIndex 翻到的页面序号\n     * @param {Number} duration 表示翻页的持续时间，单位是毫秒，指经过指定毫秒后，pageIndex会完成翻页，成为当前页\n     */\n    turnToPage(pageIndex, duration = 0) {\n        if (duration <= 0) {\n            this.currentIndex = pageIndex;\n            this.nextIndex = null;\n            return new Promise(res => {\n                res();\n            });\n        }\n\n        this.nextIndex = pageIndex;\n\n        return new Promise(res => {\n            setTimeout(() => {\n                console.log(`this is ${JSON.stringify(this)}`);\n                this.nextIndex = null;\n                this.currentIndex = pageIndex;\n                res();\n            }, duration);\n        });\n    }\n\n    /**\n     * 自动翻到下一页，如果上次翻页有动画延时，那这次会继续执行动画延时\n     */\n    turnToNextPageAutomatically() {\n        return this.turnToPage(this.currentIndex + 1, this.nextDuration);\n    }\n\n    /**\n     * 这个页面是否是当前展示页\n     * @param {Number} index 页码\n     */\n    isCurrentPage(index) {\n        if (isNaN(index)) {\n            return false;\n        }\n\n        return index == this.currentIndex;\n    }\n\n    /**\n     * 这个页面页面是否是下一页（正在翻的页）\n     * @param {Number} index 页码\n     */\n    isNextPage(index) {\n        if (isNaN(index)) {\n            return false;\n        }\n\n        return index == this.nextIndex;\n    }\n\n    toString() {\n        console.log(\n            `page manager: ${JSON.stringify({\n                currentIndex: this.currentIndex,\n                nextIndex: this.nextIndex,\n                nextDuration: this.nextDuration,\n            })}`\n        );\n    }\n}\n\nlet _PageTurningManager = new PageTurningManager();\n\nexport default _PageTurningManager;\n","/**\n * 使用soundjs实现的背景音乐加载和播放\n */\nclass BGMusicSoundJs {\n    constructor() {\n        this.id = 'bg';\n        this.sound = window.createjs.Sound;\n        this.bgInstanceLoaded = false;\n        this.bgInstance = null;\n        this.autoPlay = true;\n    }\n\n    /**\n     * 加载背景音乐，如果设置了背景音乐自动播放，那背景音乐在加载完成后会进行自动播放\n     * 注意,如果在微信浏览器环境中，这个load方法必须写在WeixinJSBridgeReady回调函数内才行,否则下方window.createjs.Sound.play就会无效\n     */\n    load() {\n        if (this.bgInstanceLoaded) {\n            console.log(`BGMusic: background music has already been loaded`);\n            return;\n        }\n        this.sound.alternateExtensions = ['mp3'];\n        this.sound.on('fileload', this.loadComplete, this);\n\n        this.sound.registerSound(\n            process.env.BASE_URL + 'imgs/bgmusic.mp3',\n            this.id\n        );\n    }\n\n    loadComplete(event) {\n        console.log(\n            `BGMusic: background music load complete! src: ${event.src}`\n        );\n        this.bgInstanceLoaded = true;\n        if (this.autoPlay) {\n            this.play();\n        }\n    }\n\n    play() {\n        if (!this.bgInstanceLoaded) {\n            console.log(\n                `BGMusic: background music has not been loaded yet, play quit!`\n            );\n        }\n        this.bgInstance = this.sound.play(this.id, { loop: -1 }); // 发挥使用ID。也可以使用完整的源路径或event.src。\n    }\n\n    pause() {\n        if (!this.bgInstance) {\n            console.log(`BGMusic: background music do not exist, pause quit!`);\n        }\n        this.bgInstance.paused = true;\n    }\n\n    resume() {\n        if (!this.bgInstance) {\n            console.log(`BGMusic: background music do not exist, resume quit!`);\n        }\n        this.bgInstance.paused = false;\n    }\n\n    stop() {\n        if (!this.bgInstance) {\n            console.log(`BGMusic: background music do not exist, stop quit!`);\n        }\n        this.bgInstance.stop();\n    }\n}\n\nexport default BGMusicSoundJs;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\",on:{\"click\":_vm.pageClick}},[_vm._t(\"default\",[_c('div',{staticClass:\"page page-common-default\"},[_vm._v(\"This is default page, click go to next page\")])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"page\" @click=\"pageClick\">\n        <slot>\n            <div class=\"page page-common-default\">This is default page, click go to next page</div>\n        </slot>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'pagecommon',\n    data: function() {\n        return {};\n    },\n    methods: {\n        pageClick(event) {\n            this.$emit('commonclick', event);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n$page-div-color: transparent;\n\n.page-common-default {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: $page-div-color;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BasePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BasePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BasePage.vue?vue&type=template&id=32b9d32a&scoped=true&\"\nimport script from \"./BasePage.vue?vue&type=script&lang=js&\"\nexport * from \"./BasePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BasePage.vue?vue&type=style&index=0&id=32b9d32a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"32b9d32a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music-button\",class:[_vm.sharedState.backgrundMusicIsPlaying?'playing':'paused'],style:({transform: _vm.rotateAngleDeg}),on:{\"click\":_vm.musicButtonClick}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"music-button\"\n    :class=\"[sharedState.backgrundMusicIsPlaying?'playing':'paused']\"\n    :style=\"{transform: rotateAngleDeg}\"\n    @click=\"musicButtonClick\"\n  ></div>\n</template>\n\n<script>\nconst ROTATE_FPS = 1000 / 60; // 音符旋转帧率\nconst ROTATE_PERIOD = 1500; // 音符旋转完整旋转一次的时间\n\nexport default {\n  name: \"MusicButton\",\n  data: function() {\n    return {\n      rotateAnglePerFrame:\n        Math.round((360 / ROTATE_PERIOD) * ROTATE_FPS * 100) / 100,\n      lastRotateTime: 0,\n      sharedState: window.store.state,\n      rotateAngle: 0\n    };\n  },\n  computed: {\n    rotateAngleDeg: function() {\n      return `rotate(${this.rotateAngle}deg)`;\n    }\n  },\n  methods: {\n    musicButtonClick: function() {\n      if (this.sharedState.backgrundMusicIsPlaying) {\n        window.store.setBackgroundMusicPause();\n        this.$emit(\"backgroundMusicPause\");\n      } else {\n        window.store.setBackgroundMusicPlaying();\n        this.$emit(\"backgroundMusicPlay\");\n      }\n    },\n    rotate: function(time) {\n      if (time - this.lastRotateTime > ROTATE_FPS) {\n        this.lastRotateTime = time;\n        this.rotateAngle += this.rotateAnglePerFrame;\n        if (this.rotateAngle > 360) {\n          this.rotateAngle -= 360;\n        }\n      }\n    },\n    initRotate: function() {\n      let currentTime = new Date();\n      if (this.sharedState.backgrundMusicIsPlaying) {\n        this.rotate(currentTime);\n      }\n      requestAnimationFrame(this.initRotate);\n    },\n    init: function() {\n      requestAnimationFrame(this.initRotate);\n    }\n  },\n  mounted() {\n    this.init();\n  }\n};\n</script>\n\n<style>\n.music-button {\n  position: absolute;\n  z-index: 999;\n  width: 50px;\n  height: 50px;\n  top: 20px;\n  right: 20px;\n}\n\n.playing {\n  background: url(../../public/imgs/music-open.png) center center no-repeat;\n  background-size: 100% 100%;\n}\n\n.paused {\n  background: url(../../public/imgs/music-open.png) center center no-repeat;\n  background-size: 100% 100%;\n}\n\n@keyframes rotating {\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MusicButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MusicButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicButton.vue?vue&type=template&id=278df5a4&\"\nimport script from \"./MusicButton.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BasePage',[_c('div',{staticClass:\"bg abs page\",style:({ backgroundImage: _vm.finalImageSrcBg })},[_vm._v(\"\\n        Loading \"+_vm._s(_vm.loadPercent)+\"%\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var ImageLoad = function () {\n    this.images = {};\n    this.imageUrls = [];\n    this.imagesLoaded = 0;\n    this.imagesFailedToLoad = 0;\n    this.imagesIndex = 0;\n    this.imageLoadingProgress = 0;\n};\nImageLoad.prototype = {\n    getImage: function (a) {\n        return this.images[a];\n    },\n    imageLoadedCallback: function () {\n        this.imagesLoaded++;\n    },\n    imageLoadedErrorCallback: function () {\n        this.imagesFailedToLoad++;\n    },\n    loadImage: function (a) {\n        var e = new window.Image,\n            i = this;\n        e.src = a, e.addEventListener(\"load\", function (a) {\n            i.imageLoadedCallback(a);\n        }),\n            e.addEventListener(\"error\", function (a) {\n                i.imageLoadedErrorCallback(a);\n            }),\n            this.images[a] = e;\n    },\n    loadImages: function () {\n        return this.imagesIndex < this.imageUrls.length && (this.loadImage(this.imageUrls[this.imagesIndex]), this.imagesIndex++), (this.imagesLoaded + this.imagesFailedToLoad) / this.imageUrls.length * 100;\n    },\n    queueImage: function (a) {\n        var e = this;\n        return \"[object Array]\" === Object.prototype.toString.call(a) ? a.forEach(function (a) {\n            e.imageUrls.push(a);\n        }) : this.imageUrls.push(a), this;\n    },\n    imageLoadingProgressCallback: function (a, e) {\n        var i = this,\n            s = setInterval(function () {\n                i.imageLoadingProgress = isNaN(i.loadImages()) ? 100 : i.loadImages(), 100 === i.imageLoadingProgress && (clearInterval(s), setTimeout(function () {\n                    e.call(i);\n                }, 300)), a.call(i, i.imageLoadingProgress);\n            }, 10);\n    }\n}\n\nexport default ImageLoad;","<template>\n    <BasePage>\n        <div class=\"bg abs page\" :style=\"{ backgroundImage: finalImageSrcBg }\">\n            Loading {{ loadPercent }}%\n        </div>\n    </BasePage>\n</template>\n\n<script>\nimport BasePage from './BasePage.vue';\nimport imageLoad from '../util/image-load.js';\nexport default {\n    name: 'pageLoading',\n    components: {\n        BasePage,\n    },\n    data() {\n        return {\n            sharedState: window.store.state,\n            loadPercent: 0,\n            publicPath: process.env.BASE_URL,\n            imageBgSrc: 'imgs/bg-loading.jpg',\n        };\n    },\n    computed: {\n        finalImageSrcBg() {\n            return `url(${this.publicPath}${this.imageBgSrc})`;\n        },\n    },\n    created() {\n        let _imageLoad = new imageLoad();\n        _imageLoad\n            .queueImage(this.sharedState.sourceArrayPreLoad)\n            .imageLoadingProgressCallback(\n                num => {\n                    this.preloadPercent = Math.floor(num);\n                },\n                () => {\n                    this.startLoading();\n                }\n            );\n    },\n    methods: {\n        startLoading() {\n            let _imageLoad = new imageLoad();\n            _imageLoad\n                .queueImage(this.sharedState.sourceArrayLoading)\n                .imageLoadingProgressCallback(\n                    num => {\n                        this.loadPercent = Math.floor(num);\n                    },\n                    () => {\n                        this.$emit('loadComplete');\n                    }\n                );\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.bg {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-size: 100% 100%;\n    font-size: 0.5rem;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./PageLoading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./PageLoading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageLoading.vue?vue&type=template&id=983368ec&scoped=true&\"\nimport script from \"./PageLoading.vue?vue&type=script&lang=js&\"\nexport * from \"./PageLoading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PageLoading.vue?vue&type=style&index=0&id=983368ec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"983368ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"movie-clip-container\",style:(_vm.containerStyle)},_vm._l((_vm.movieClip),function(item){return _c('img',{key:item.id,staticClass:\"frame\",style:({opacity: _vm.isFrameShow(item.id)}),attrs:{\"src\":item.src}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 序列帧播放组件\n// 这里的序列帧采用以下方式播放：将序列帧所用到的图片添加到一个div中，然后通过依次改变图片的透明度的办法，来达到播放动画的目的\n<template>\n    <div class=\"movie-clip-container\" :style=\"containerStyle\">\n        <img\n            v-for=\"item in movieClip\"\n            :key=\"item.id\"\n            :src=\"item.src\"\n            class=\"frame\"\n            :style=\"{opacity: isFrameShow(item.id)}\"\n        />\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'MovieClip',\n    data: function() {\n        return {\n            containerStyle: 'opacity:0',\n            lastAnimationTime: 0,\n            frameIndex: 1,\n        };\n    },\n    props: {\n        /**\n         * 图片数组，注意，数组的每一项不是单个src，而是一个object，需要手动指定每一张图片的id\n         */\n        imageArray: {\n            type: Array,\n            default: function() {\n                return [''];\n            },\n        },\n        /**\n         * 帧率\n         */\n        fps: {\n            type: Number,\n            default: 24,\n        },\n        /**\n         * 开始播放时机\n         */\n        startPlay: {\n            type: Boolean,\n            default: false,\n        },\n        pause: {\n            type: Boolean,\n            default: false,\n        },\n        /**\n         * 是否循环播放\n         */\n        loop: {\n            type: Boolean,\n            default: false,\n        },\n        /**\n         * 是否倒放\n         */\n        reversePlay: {\n            type: Boolean,\n            default: false,\n        },\n        /**\n         * 播放指定帧数\n         */\n        specFrame: {\n            type: Object,\n            default: function() {\n                return {\n                    startIndex: -1,\n                    endIndex: -1,\n                };\n            },\n        },\n    },\n    watch: {\n        startPlay: function(val) {\n            if (val) {\n                this.reset();\n                this.play();\n            } else {\n                this.reset();\n            }\n        },\n    },\n    computed: {\n        /**\n         * 序列帧播放间隔 ms\n         */\n        animationInterval: function() {\n            return 1000 / this.fps;\n        },\n        movieClip: function() {\n            let ret = [];\n            this.imageArray.reduce((prev, cur) => {\n                ret.push({\n                    id: ret.length,\n                    src: cur,\n                });\n            }, ret);\n            return ret;\n        },\n    },\n    created: function() {},\n    methods: {\n        isFrameShow: function(index) {\n            return index == this.frameIndex ? 1 : 0;\n        },\n        /**\n         * 播放序列帧\n         */\n        playEnterFrame: function() {\n            if (!this.startPlay) {\n                return;\n            }\n\n            if (this.pause) {\n                requestAnimationFrame(this.playEnterFrame);\n                return;\n            }\n\n            let animationEnd = false; // 动画标志位，判断动画是否需要再次需要requestAnimationFrame\n            let nowTime = Date.now();\n\n            if (nowTime - this.lastAnimationTime <= this.animationInterval) {\n                requestAnimationFrame(this.playEnterFrame);\n                return;\n            }\n\n            this.lastAnimationTime = nowTime;\n\n            if (this.reversePlay) {\n                this.frameIndex--;\n            } else {\n                this.frameIndex++;\n            }\n\n            // 判断是否播放完成，要进行循环\n            // 播放指定帧的情况\n            if (\n                this.specFrame.startIndex >= 0 &&\n                this.specFrame.endIndex >= 0\n            ) {\n                if (this.reversePlay) {\n                    if (this.frameIndex < this.specFrame.startIndex) {\n                        this.$emit('frameEnd');\n                        if (this.loop) {\n                            this.frameIndex = this.specFrame.endIndex;\n                        } else {\n                            animationEnd = true;\n                        }\n                    }\n                } else {\n                    if (this.frameIndex > this.specFrame.endIndex) {\n                        this.$emit('frameEnd');\n                        if (this.loop) {\n                            this.frameIndex = this.specFrame.startIndex;\n                        } else {\n                            animationEnd = true;\n                        }\n                    }\n                }\n            }\n\n            // 播放全部帧的情况\n            if (\n                this.frameIndex >= this.imageArray.length &&\n                !this.reversePlay\n            ) {\n                this.$emit('frameEnd');\n                if (this.loop) {\n                    this.frameIndex = 0;\n                } else {\n                    animationEnd = true;\n                }\n            }\n\n            if (this.frameIndex < 0 && this.reversePlay) {\n                this.$emit('frameEnd');\n                if (this.loop) {\n                    this.frameIndex = this.imageArray.length - 1;\n                } else {\n                    animationEnd = true;\n                }\n            }\n            if (!animationEnd) {\n                requestAnimationFrame(this.playEnterFrame);\n            }\n        },\n        play: function() {\n            this.containerStyle = 'opacity:1';\n            this.playEnterFrame();\n        },\n        reset: function() {\n            if (\n                this.specFrame.startIndex >= 0 &&\n                this.specFrame.endIndex >= 0\n            ) {\n                this.frameIndex = this.specFrame.startIndex;\n            } else {\n                if (this.reversePlay) {\n                    this.frameIndex = this.imageArray.length - 1;\n                } else {\n                    this.frameIndex = 0;\n                }\n            }\n        },\n    },\n};\n</script>\n<style scoped>\n.movie-clip-container {\n    position: relative;\n}\n.frame {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n</style>\n\n\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MovieClip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MovieClip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MovieClip.vue?vue&type=template&id=5ba65ece&scoped=true&\"\nimport script from \"./MovieClip.vue?vue&type=script&lang=js&\"\nexport * from \"./MovieClip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MovieClip.vue?vue&type=style&index=0&id=5ba65ece&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba65ece\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BasePage',{staticClass:\"bg\"},[_c('div',{staticClass:\"abs bg\"},[_c('img',{staticClass:\"abs bg\",attrs:{\"src\":require(\"../../public/imgs/3.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"upload-container\"},[_c('input',{staticClass:\"page2-btn-upload button\",attrs:{\"type\":\"file\",\"id\":\"add-upload-input\",\"accept\":\"image/*\"},on:{\"change\":function($event){return _vm.uploadFuns($event)}}}),_vm._v(\"\\n        上传图片\\n    \")]),_c('div',{staticClass:\"image-container\"},[_c('img',{attrs:{\"src\":_vm.uploadSrc,\"alt\":\"\"}})]),_c('div',{staticClass:\"page-hint\",on:{\"click\":_vm.nextPageHandler}},[_vm._v(\"Page Upload, click go to next page\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <BasePage class=\"bg\">\n        <div class=\"abs bg\">\n            <img class=\"abs bg\" src=\"../../public/imgs/3.jpg\" alt />\n        </div>\n        <div class=\"upload-container\">\n            <input\n                type=\"file\"\n                id=\"add-upload-input\"\n                @change=\"uploadFuns($event)\"\n                accept=\"image/*\"\n                class=\"page2-btn-upload button\"\n            />\n            上传图片\n        </div>\n        <div class=\"image-container\">\n            <img :src=\"uploadSrc\" alt />\n        </div>\n        <div class=\"page-hint\" @click=\"nextPageHandler\">Page Upload, click go to next page</div>\n    </BasePage>\n</template>\n\n<script>\nimport BasePage from './BasePage.vue';\nimport EXIF from 'exif-js';\n\nexport default {\n    name: 'uploadPage',\n    components: {\n        BasePage,\n    },\n    data() {\n        return {\n            sharedState: window.store.state,\n            loadPercent: 0,\n            publicPath: process.env.BASE_URL,\n            imageBgSrc: 'imgs/bg-loading.jpg',\n            uploadSrc: null,\n        };\n    },\n    computed: {},\n    created() {},\n    methods: {\n        uploadFuns: function(e) {\n            let file = e.target.files[0];\n            // 确认选择的文件是图片\n            if (file.type.indexOf('image') == 0) {\n                if (file.size / 1024 / 1024 > 4) {\n                    console.log(\n                        'error, the size of image is too big. try another image which size is less than 4mb'\n                    );\n                } else {\n                    let reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onload = e => {\n                        // 图片base64化\n                        // let newUrl = this.result;\n                        const resultSrc = e.target.result;\n\n                        let image = new Image();\n                        image.src = resultSrc;\n                        this.uploadSrc = resultSrc;\n\n                        image.onload = () => {\n                            console.log('image load');\n\n                            EXIF.getData(image, () => {\n                                var make = EXIF.getTag(this, 'Make');\n                                var model = EXIF.getTag(this, 'Model');\n                                var makeAndModel = document.getElementById(\n                                    'makeAndModel'\n                                );\n                                makeAndModel.innerHTML = `${make} ${model}`;\n                            });\n                        };\n                    };\n                }\n            }\n        },\n        nextPageHandler: function(event) {\n            this.$emit('nextPage', event);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.bg {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-size: 100% 100%;\n    width: 100%;\n    height: 100%;\n}\n\n.upload-container {\n    width: 35vw;\n    height: 10vw;\n    line-height: 10vw;\n    font-size: 15px;\n    background-color: #1b5c99;\n    color: #fff;\n    text-align: center;\n    position: relative;\n    input {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        z-index: 5;\n    }\n}\n\n.image-container {\n    position: relative;\n    width: 80%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n\n    img {\n        width: 100%;\n    }\n}\n\n.page-hint {\n    position: relative;\n    background-color: #ffffff;\n    color: #000000;\n    width: 75vw;\n    height: 10vw;\n    font-size: 15px;\n    line-height: 10vw;\n    text-align: center;\n    margin: 2vw;\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./UploadPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadPage.vue?vue&type=template&id=369cbc99&scoped=true&\"\nimport script from \"./UploadPage.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadPage.vue?vue&type=style&index=0&id=369cbc99&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"369cbc99\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showBgMusicHint)?_c('div',{staticClass:\"hint-bg-music-box\"},[_c('div',{staticClass:\"all-black\"}),_c('div',{staticClass:\"dialog-container\"},[_c('p',[_vm._v(\"是否播放背景音乐\")]),_c('div',{staticClass:\"border-split\"}),_c('div',{staticClass:\"button-container\"},[_c('div',{staticClass:\"confirm\",on:{\"click\":_vm.bgMusicConfirmHandler}},[_vm._v(\"是\")]),_c('div',{staticClass:\"cancel\",on:{\"click\":_vm.bgMusicCancelHandler}},[_vm._v(\"否\")])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"showBgMusicHint\" class=\"hint-bg-music-box\">\n        <div class=\"all-black\"></div>\n\n        <div class=\"dialog-container\">\n            <p>是否播放背景音乐</p>\n            <div class=\"border-split\"></div>\n            <div class=\"button-container\">\n                <div class=\"confirm\" @click=\"bgMusicConfirmHandler\">是</div>\n                <div class=\"cancel\" @click=\"bgMusicCancelHandler\">否</div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'pagecommon',\n    data: function() {\n        return {};\n    },\n    props: {\n        showBgMusicHint: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    methods: {\n        bgMusicConfirmHandler() {\n            this.$emit('confirm');\n        },\n        bgMusicCancelHandler() {\n            this.$emit('cancel');\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.hint-bg-music-box {\n    position: fixed;\n    width: 50vw;\n    height: 40vw;\n    left: 25vw;\n    top: calc(0.3 * var(--px-total-height));\n    z-index: 99;\n\n    .all-black {\n        background-color: #000000;\n        opacity: 0.5;\n        width: 100vw;\n        height: 100vh;\n        position: absolute;\n        left: -25vw;\n        top: calc(-0.3 * var(--px-total-height));\n        z-index: 0;\n    }\n\n    .dialog-container {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-start;\n        align-items: center;\n        font-size: 0.3rem;\n        background-color: #ffffff;\n        border-radius: 10px;\n        z-index: 5;\n        box-shadow: 5px 5px 5px rgba(0, 0, 0, 0.5);\n\n        p {\n            height: 70%;\n            line-height: 70%;\n            width: 100%;\n            font-weight: bold;\n            text-align: center;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .border-split {\n            width: 90%;\n            height: 0;\n            border-bottom: solid 1px #cccccc;\n            transform: translateY(1px);\n        }\n\n        .button-container {\n            width: 100%;\n            height: 30%;\n            display: flex;\n\n            div {\n                width: 50%;\n                height: 100%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            .cancel {\n                background-color: #cccccc;\n                color: #ffffff;\n                border-bottom-right-radius: 10px;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BgMusicHint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BgMusicHint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BgMusicHint.vue?vue&type=template&id=1d9edc60&scoped=true&\"\nimport script from \"./BgMusicHint.vue?vue&type=script&lang=js&\"\nexport * from \"./BgMusicHint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BgMusicHint.vue?vue&type=style&index=0&id=1d9edc60&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d9edc60\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('BasePage',[_c('div',{staticClass:\"abs page shakePage\"},[_c('h1',[_vm._v(\"摇一摇示意页面\")]),_c('h2',[_vm._v(\"注意IOS环境下，重力感应有两个限制条件\")]),_c('h3',[_vm._v(\"1. 如果在微信浏览其中，那需要符合网页url是https协议的\")]),_c('h3',[_vm._v(\"2. 如果在原生浏览器中，那不但要符合1，还必须通过按钮点击调用ios的api调用\")]),_c('h3',[_vm._v(\"ps: 安卓不会有上面的限制\")]),_c('div',{staticClass:\"shake-container\"},[_c('h2',[_vm._v(\"摇一摇手机，如果成功的话，下方图片会晃动\")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.deviceIsInIOSSafari),expression:\"deviceIsInIOSSafari\"}],staticClass:\"ios-permission\",on:{\"click\":_vm.askPermission}},[_vm._v(\"IOS Safari专用shake按钮\")]),_c('img',{class:{shaking:_vm.deviceIsShaking},attrs:{\"src\":require(\"../../public/imgs/logo.png\"),\"alt\":\"logo\"}})]),_c('div',{staticClass:\"page-hint\",on:{\"click\":_vm.pageHintClickHandler}},[_vm._v(\"Page Shake, click go to next page\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <BasePage>\n        <div class=\"abs page shakePage\">\n            <h1>摇一摇示意页面</h1>\n            <h2>注意IOS环境下，重力感应有两个限制条件</h2>\n            <h3>1. 如果在微信浏览其中，那需要符合网页url是https协议的</h3>\n            <h3>2. 如果在原生浏览器中，那不但要符合1，还必须通过按钮点击调用ios的api调用</h3>\n            <h3>ps: 安卓不会有上面的限制</h3>\n            <div class=\"shake-container\">\n                <h2>摇一摇手机，如果成功的话，下方图片会晃动</h2>\n                <div\n                    class=\"ios-permission\"\n                    v-show=\"deviceIsInIOSSafari\"\n                    @click=\"askPermission\"\n                >IOS Safari专用shake按钮</div>\n                <img src=\"../../public/imgs/logo.png\" :class=\"{shaking:deviceIsShaking}\" alt=\"logo\" />\n            </div>\n            <div class=\"page-hint\" @click=\"pageHintClickHandler\">Page Shake, click go to next page</div>\n        </div>\n    </BasePage>\n</template>\n\n<script>\n// 摇一摇示意页面\nimport BasePage from './BasePage.vue';\nimport navi from '../util/nav-controller.js';\nexport default {\n    name: 'shakePage',\n    components: {\n        BasePage,\n    },\n    data() {\n        return {\n            deviceIsInIOSSafari: false,\n            deviceMotionSpeedThreshold: 3000, // 设备晃动阈值，如果超过这个值就代表设备晃动了\n            deviceIsShaking: false, // 标记设备正在晃动\n            resetShakingTimeoutHandler: null,\n            lastDeviceMotionX: 0, // 记录上次设备晃动时的表示x轴（西到东）上的加速度\n            lastDeviceMotionY: 0, // 记录上次设备晃动时的表示y轴（南到北）上的加速度\n            lastDeviceMotionZ: 0, // 记录上次设备晃动时的表示z轴（下到上）上的加速度\n            lastDeviceMotionUpdateTime: 0, // 记录上次设备晃动时的时间\n        };\n    },\n    computed: {},\n    created() {},\n    mounted() {\n        console.log(`shake page: devicemotion init`);\n        navi.output();\n\n        this.deviceIsInIOSSafari = navi.isIos && !navi.isWX;\n\n        if (this.deviceIsInIOSSafari) {\n            return;\n        }\n\n        if (window.DeviceMotionEvent) {\n            window.addEventListener(\n                'devicemotion',\n                this.deviceMotionHandler,\n                false\n            );\n            console.log(`shake page: devicemotion init success`);\n        } else {\n            console.log(`shake page: devicemotion init failure`);\n        }\n    },\n    methods: {\n        askPermission() {\n            console.log('shake page: ios device motion permission');\n            try {\n                window.DeviceMotionEvent.requestPermission()\n                    .then(response => {\n                        if (response == 'granted') {\n                            window.addEventListener(\n                                'devicemotion',\n                                this.deviceMotionHandler,\n                                false\n                            );\n                        }\n                    })\n                    .catch(e => {\n                        console.log(\n                            'shake page: ios device motion permission failure!'\n                        );\n                        console.error(e);\n                    });\n            } catch (ex) {\n                console.log(\n                    'shake page: ios device motion permission failure! no such permissoion'\n                );\n                console.error(ex);\n                return;\n            }\n        },\n        deviceMotionHandler(e) {\n            // console.log('shake page: deviceMotionHandler triggered');\n            let acc = e.accelerationIncludingGravity;\n            // let speed = this.deviceMotionSpeedThreshold;\n            let curTime = Date.now();\n            if (this.lastDeviceMotionUpdateTime === 0) {\n                this.lastDeviceMotionUpdateTime = curTime;\n            }\n\n            let diffTime = curTime - this.lastDeviceMotionUpdateTime;\n\n            //获取devicemotion的xyz变化\n            let x = acc.x;\n            let y = acc.y;\n            let z = acc.z;\n            // console.log(\n            //     `shake page: deviceMotionHandler triggered, ${JSON.stringify({\n            //         x,\n            //         y,\n            //         z,\n            //     })}`\n            // );\n\n            let speed =\n                (Math.abs(\n                    x +\n                        y +\n                        z -\n                        this.lastDeviceMotionX -\n                        this.lastDeviceMotionY -\n                        this.lastDeviceMotionZ\n                ) /\n                    diffTime) *\n                10000;\n\n            // if (\n            //     Math.abs(x - this.lastDeviceMotionX) >= speed ||\n            //     Math.abs(y - this.lastDeviceMotionY) >= speed ||\n            //     Math.abs(z - this.lastDeviceMotionZ) >= speed\n            // ) {\n\n            if (speed > this.deviceMotionSpeedThreshold) {\n                console.log(`shake page: shaking!!!`);\n                this.setShaking();\n            }\n\n            this.lastDeviceMotionX = x;\n            this.lastDeviceMotionY = y;\n            this.lastDeviceMotionZ = z;\n            this.lastDeviceMotionUpdateTime = curTime;\n        },\n        setShaking() {\n            this.deviceIsShaking = true;\n            this.resetShaking();\n        },\n        resetShaking() {\n            if (this.resetShakingTimeoutHandler) {\n                window.clearTimeout(this.resetShakingTimeoutHandler);\n            }\n\n            this.resetShakingTimeoutHandler = setTimeout(() => {\n                this.deviceIsShaking = false;\n            }, 1000);\n        },\n        pageHintClickHandler() {\n            this.$emit('nextPage');\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.shakePage {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    font-size: 0.2rem;\n\n    h3 {\n        width: 60vw;\n        text-align: left;\n    }\n}\n\n.shake-container {\n    width: 300px;\n    height: 300px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.page-hint {\n    position: relative;\n    background-color: #ffffff;\n    color: #000000;\n    width: 75vw;\n    height: 10vw;\n    font-size: 15px;\n    line-height: 10vw;\n    text-align: center;\n    margin: 2vw;\n}\n\n.ios-permission {\n    width: 50vw;\n    height: 12vw;\n    text-align: center;\n    line-height: 12vw;\n    font-size: 0.3rem;\n    border: solid 1px #000000;\n    border-radius: 20px;\n}\n\n.shaking {\n    animation: shake 0.5s infinite 0.5s;\n}\n\n@keyframes shake {\n    0% {\n        transform: rotate(0deg);\n    }\n    12% {\n        transform: rotate(20deg);\n    }\n    36% {\n        transform: rotate(-20deg);\n    }\n    50% {\n        transform: rotate(0deg);\n    }\n    62% {\n        transform: rotate(20deg);\n    }\n    86% {\n        transform: rotate(-20deg);\n    }\n    100% {\n        transform: rotate(0deg);\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./ShakePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./ShakePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShakePage.vue?vue&type=template&id=dd6d2f66&scoped=true&\"\nimport script from \"./ShakePage.vue?vue&type=script&lang=js&\"\nexport * from \"./ShakePage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShakePage.vue?vue&type=style&index=0&id=dd6d2f66&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dd6d2f66\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.type=='css')?_c('ButtonFrame',{class:_vm.classes,attrs:{\"color\":_vm.borderColor}},[_c('button',{staticClass:\"btn\",class:_vm.classes,attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.handleClick}},[(_vm.isLoading)?_c('i',{staticClass:\"loading\"}):_vm._e(),_vm._t(\"default\",[_vm._v(_vm._s(_vm.text))])],2)]):_c('div',{staticClass:\"img-btn\"},[(_vm.isLoading)?_c('div',{staticClass:\"img-btn-loading\"},[_c('i',{staticClass:\"loading\"})]):_vm._e(),_c('img',{class:_vm.classes,attrs:{\"src\":_vm.src,\"alt\":_vm.text},on:{\"click\":_vm.handleClick}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.borderClicked?'btn-borders border-wave':'btn-borders',on:{\"click\":_vm.borderWaveIn}},[_vm._t(\"default\"),_c('div',{staticClass:\"border-top\",style:(_vm.borderColor)}),_c('div',{staticClass:\"border-right\",style:(_vm.borderColor)}),_c('div',{staticClass:\"border-bottom\",style:(_vm.borderColor)}),_c('div',{staticClass:\"border-left\",style:(_vm.borderColor)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div :class=\"borderClicked?'btn-borders border-wave':'btn-borders'\"  @click=\"borderWaveIn\">\n        <slot></slot>\n        <div :style=\"borderColor\" class=\"border-top\"></div>\n        <div :style=\"borderColor\" class=\"border-right\"></div>\n        <div :style=\"borderColor\" class=\"border-bottom\"></div>\n        <div :style=\"borderColor\" class=\"border-left\"></div>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'herdsric-button-frame', //herdric button\n    data() {\n        return {\n            borderClicked:false,\n            borderWaveTimer:null,\n        }\n    },\n    props:{\n        color:{type:String,default:\"hsl(var(--hue), 100%, 41%)\"}\n    },\n    computed:{\n        borderColor(){\n            return `background:${this.color}`;\n        }\n    },\n    methods: {\n        borderWaveIn(){\n            this.borderClicked = true;\n            const _this = this;\n            if(this.borderWaveTimer!=null){\n                clearTimeout(this.borderWaveTimer);\n            }\n            this.borderWaveTimer = setTimeout(()=>{\n                _this.borderClicked = false;\n            },1000)\n        },\n        \n    },\n    beforeDestroy() {\n        if (this.borderWaveTimer) {\n            clearTimeout(this.borderWaveTimer);\n        }\n    },\n}\n</script>\n<style lang=\"scss\">\n\n.btn-borders{\n    --hue: 190;\n    --ease-in-duration: 0.25s;\n    --ease-in-exponential: cubic-bezier(0.95, 0.05, 0.795, 0.035);\n    --ease-out-duration: 0.65s;\n    --ease-out-delay: var(--ease-in-duration);\n    --ease-out-exponential: cubic-bezier(0.19, 1, 0.22, 1);\n    width:100px;\n    height:40px;\n    background-color: #f8f8f8;\n    position: relative;\n    box-sizing: border-box;\n    &:hover {\n        -webkit-tap-highlight-color: rgba(0,0,0,0); \n    }\n    .border-top {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        height: 1px;\n        background: hsl(var(--hue), 100%, 41%);\n        transform: scaleX(0);\n        transform-origin: left;\n    }\n\n    .border-right {\n        position: absolute;\n        right: 0;\n        width: 1px;\n        height: 100%;\n        background: hsl(var(--hue), 100%, 41%);\n        transform: scaleY(0);\n        transform-origin: bottom;\n    }\n\n    .border-bottom {\n        position: absolute;\n        bottom: 0;\n        width: 100%;\n        height: 1px;\n        background: hsl(var(--hue), 100%, 41%);\n        transform: scaleX(0);\n        transform-origin: left;\n    }\n\n    .border-left {\n        position: absolute;\n        left: 0;\n        width: 1px;\n        height: 100%;\n        background: hsl(var(--hue), 100%, 41%);\n        transform: scaleY(0);\n        transform-origin: bottom;\n    }\n\n    // when unhover, ease-out left, bottom; ease-in right, top\n\n    .border-left {\n        transition: var(--ease-out-duration) var(--ease-out-delay)\n        var(--ease-out-exponential);\n    }\n    .border-bottom {\n        transition: var(--ease-out-duration) var(--ease-out-delay)\n        var(--ease-out-exponential);\n    }\n\n    .border-right {\n        transition: var(--ease-in-duration) var(--ease-in-exponential);\n    }\n    .border-top {\n        transition: var(--ease-in-duration) var(--ease-in-exponential);\n    }\n    \n}\n.border-wave {\n    .border-top,\n    .border-bottom {\n        transform: scaleX(1);\n    }\n    .border-left,\n    .border-right {\n        transform: scaleY(1);\n    }\n\n    // when hover, ease-in left, bottom; ease-out right, top\n\n    .border-left {\n        transition: var(--ease-in-duration) var(--ease-in-exponential);\n    }\n    .border-bottom {\n        transition: var(--ease-in-duration) var(--ease-in-exponential);\n    }\n\n    .border-right {\n        transition: var(--ease-out-duration) var(--ease-out-delay)\n        var(--ease-out-exponential);\n    }\n    .border-top {\n        transition: var(--ease-out-duration) var(--ease-out-delay)\n        var(--ease-out-exponential);\n    }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButtonFrame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButtonFrame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HButtonFrame.vue?vue&type=template&id=2d258334&\"\nimport script from \"./HButtonFrame.vue?vue&type=script&lang=js&\"\nexport * from \"./HButtonFrame.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HButtonFrame.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <ButtonFrame :color=\"borderColor\" v-if=\"type=='css'\" :class=\"classes\">\n        <button\n            class=\"btn\"\n            :class=\"classes\"\n            :disabled=\"disabled\"\n            @click=\"handleClick\"\n        >\n            <i class=\"loading\" v-if=\"isLoading\"></i>\n            <slot>{{ text }}</slot>\n        </button>\n       \n    </ButtonFrame>\n    <div v-else class=\"img-btn\">\n        <div v-if=\"isLoading\" class=\"img-btn-loading\">\n            <i class=\"loading\"></i>\n        </div>\n        <img :src=\"src\" :alt=\"text\" :class=\"classes\" @click=\"handleClick\" />\n    </div>\n</template>\n<script>\nimport ButtonFrame from './HButtonFrame'  \nexport default {\n    name: 'herdsric-button', //herdric button\n    components: {\n        ButtonFrame\n    },\n    data() {\n        return {\n            isLoading: false || this.showLoading,\n        };\n    },\n    props: {\n        type: {\n            default: 'css', // image\n        },\n        disabled: Boolean,\n        src: String,\n        text: String,\n        actionType: String,\n        showLoading: [Boolean, Object], //true,{delay:1000}\n        link: [String, Object],\n        delay: [Boolean, Number],\n        borderColor:String,\n    },\n    methods: {\n        handleClick(event) {\n            if (this.isLoading || this.disabled) {\n                console.log(`click not`);\n                return;\n            }\n            this.$emit('click', event);\n        },\n    },\n    watch: {\n        showLoading(val, preVal) {\n            console.log(`watching showLoaindg:${val}`)\n            if (preVal && typeof preVal !== 'boolean') {\n                clearTimeout(this.delayTimeout);\n            }\n            if (val && typeof val !== 'boolean' && val.delay) {\n                this.delayTimeout = setTimeout(() => {\n                    this.isLoading = !!val;\n                }, val.delay);\n            } else {\n                this.isLoading = !!val;\n            }\n            \n        },\n    },\n    beforeDestroy() {\n        if (this.delayTimeout) {\n            clearTimeout(this.delayTimeout);\n        }\n    },\n    computed: {\n        classes() {\n            return [\n                this.disabled && this.type === 'css' ? 'btn-disabled' : '',\n                this.isLoading && this.type === 'css' ? 'btn-loading' : '',\n                this.disabled && this.type === 'image'\n                    ? 'img-btn-disabled'\n                    : '',\n            ];\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n$FontEN: -apple-system-font, 'Helvetica Neue';\n$FontCN: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei';\n$FontSans: sans-serif;\n$FontDefault: $FontEN, $FontSans;\n$button-border-radius: 0;\n$button-width: 100px;\n$button-height: 42px;\n$button-font-size: 18px;\n$button-font-color: #000000;\n$button-active-font-color: rgba(0, 0, 0, 0.6);\n\n$button-disabled-font-color: rgba(0, 0, 0, 0.3);\n$button-disabled-bg-color: #f7f7f7;\n\n$button-bg-color: #f8f8f8;\n$button-active-bg-color: #dedede;\n\n.btn {\n    width:100%;\n    height:100%;\n    display: block;\n    position: absolute;\n    font-family: $FontDefault;\n    text-align: center;\n    text-decoration: none;\n    color:inherit;\n    background-color: inherit;\n    line-height: unit($button-height/$button-font-size);\n    //overflow: hidden;\n    border-width: 0;\n    outline: 0;\n    appearance: none;\n    user-select: none;\n    white-space: nowrap;\n    border-radius: inherit;\n    padding:0;\n    &:hover {\n        -webkit-tap-highlight-color: rgba(0,0,0,0); \n    }\n    &:focus {\n        outline: 0;\n    }\n    &:not(.btn-disabled):active {\n        //color: $button-active-font-color;\n        transform: scale(0.95);\n        \n    }\n    &.btn-disabled {\n        color: $button-disabled-font-color;\n        background-color: $button-disabled-bg-color;\n    }\n    \n}\n.img-btn {\n    position: relative;\n    display: block;\n    margin-top: 10px;\n    margin-left: auto;\n    margin-right: auto;\n    box-sizing: border-box;\n    border-width: 0;\n    outline: 0;\n    -webkit-appearance: none;\n    &:focus {\n        outline: 0;\n    }\n\n    .img-btn-disabled {\n        -webkit-filter: grayscale(100%);\n        -moz-filter: grayscale(100%);\n        -ms-filter: grayscale(100%);\n        -o-filter: grayscale(100%);\n        filter: grayscale(100%);\n        filter: gray;\n    }\n    .img-btn-loading {\n        background: rgba(255, 255, 255, 0.3);\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        position: absolute;\n        z-index: 2;\n    }\n}\n.loading {\n    width: 20px;\n    height: 20px;\n    display: inline-block;\n    vertical-align: middle;\n    animation: loadingAnimation 1s steps(12, end) infinite;\n    background: transparent\n        url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=')\n        no-repeat;\n    background-size: 100%;\n    &.loading_transparent {\n        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMjAnIGhlaWdodD0nMTIwJyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+PHBhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgxMDB2MTAwSDB6Jy8+PHJlY3QgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjU2KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwIC0zMCknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDMwIDEwNS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjQzKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA3NS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjM4KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg5MCA2NSA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjMyKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTguNjYgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4yOCknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoMTUwIDU0LjAyIDY1KScvPjxyZWN0IHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyB4PSc0Ni41JyB5PSc0MCcgZmlsbD0ncmdiYSgyNTUsMjU1LDI1NSwuMjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjIpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKC0xNTAgNDUuOTggNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xNyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTEyMCA0MS4zNCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjE0KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtOTAgMzUgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtNjAgMjQuMDIgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4wMyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTMwIC01Ljk4IDY1KScvPjwvc3ZnPgo=');\n    }\n}\n\n@-webkit-keyframes loadingAnimation {\n    0% {\n        transform: rotate3d(0, 0, 1, 0deg);\n    }\n\n    100% {\n        transform: rotate3d(0, 0, 1, 360deg);\n    }\n}\n\n@keyframes loadingAnimation {\n    0% {\n        transform: rotate3d(0, 0, 1, 0deg);\n    }\n\n    100% {\n        transform: rotate3d(0, 0, 1, 360deg);\n    }\n}\n</style>","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HButton.vue?vue&type=template&id=2e8246de&scoped=true&\"\nimport script from \"./HButton.vue?vue&type=script&lang=js&\"\nexport * from \"./HButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HButton.vue?vue&type=style&index=0&id=2e8246de&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e8246de\",\n  null\n  \n)\n\nexport default component.exports","/**\n * 统一的统计方法，同时调用谷歌统计，百度统计\n * @param {string} action 事件名称\n * @param {string} label 事件的一些详细信息，通常可以是按钮，页面ID\n * @param {object=} opt 选项配置\n * @param {string=} opt.category：分类，默认值位'general'，一般不用传。如果项目需要区分渠道信息，可以将渠道名给这个字段\n * @param {number=} opt.value：事件价值，非负整数\n * @param {boolean=} opt.g: 是否要提交谷歌统计，默认为true\n * @param {boolean=} opt.b: 是否要提交百度统计，默认为true\n */\nlet statisticsAll = function(action, label, opt = null) {\n    let option = {\n        category: 'general',\n        value: null,\n        g: true,\n        b: true,\n    };\n\n    /**\n     * 百度统计，用于封装百度统计的参数\n     * _hmt.push(['_trackEvent', category, action, opt_label, opt_value]);\n     * category：要监控的目标的类型名称，通常是同一组目标的名字，比如”视频”、”音乐”、”软件”、”游戏”等等。该项必选。\n     * action：用户跟目标交互的行为，如”播放”、”暂停”、”下载”等等。该项必选。\n     * opt_label：事件的一些额外信息，通常可以是歌曲的名称、软件的名称、链接的名称等等。该项可选。\n     * opt_value：事件的一些数值信息，比如权重、时长、价格等等，在报表中可以看到其平均值等数据。该项可选。\n     */\n    let hmtPush = function(category, action, label, value) {\n        window._hmt.push(['_trackEvent', category, action, label, value]);\n    };\n\n    /**\n     * 谷歌统计，用于封装谷歌统计的参数\n     */\n    let gaStatistics = function(category, action, label, value) {\n        window.gtag('event', action, {\n            event_category: category,\n            event_label: label,\n            value: value,\n        });\n    };\n\n    Object.assign(option, opt);\n\n    if (option.b) {\n        hmtPush(option.category, action, label, option.value);\n    }\n\n    if (option.g) {\n        gaStatistics(option.category, action, label, option.value);\n    }\n};\n\nexport default statisticsAll;\n","<template>\n    <div id=\"app\" class=\"page\">\n        <PageLoading v-if=\"pageLoadingShow\" @loadComplete=\"handleLoadComplete\"></PageLoading>\n        <BasePage id=\"page-1\" :class=\"pageClass(1)\" @commonclick=\"nextPageClick\">\n            <div class=\"page1-bg\">\n                <div class=\"page-hint\">Page 1, click go to next page</div>\n            </div>\n        </BasePage>\n        <BasePage :class=\"pageClass(2)\">\n            <div class=\"page2-bg\">\n                <herdsric-button\n                    border-color=\"#ffffff\"\n                    class=\"herdsric-button\"\n                    :show-loading=\"buttonLoading\"\n                    @click=\"butClick\"\n                >test</herdsric-button>\n                <herdsric-button @click=\"but2Click\">Test2</herdsric-button>\n                <herdsric-button :disabled=\"true\" @click=\"but2Click\">Test3</herdsric-button>\n                <herdsric-button\n                    :show-loading=\"buttonLoading\"\n                    type=\"image\"\n                    src=\"./imgs/music-off.png\"\n                    @click=\"but2Click\"\n                >Test4</herdsric-button>\n                <MovieClip\n                    class=\"movie-clip-demo\"\n                    :imageArray=\"movieClipInfo.imageArray\"\n                    :fps=\"movieClipInfo.fps\"\n                    :startPlay=\"movieClipInfo.startPlay\"\n                    :loop=\"movieClipInfo.loop\"\n                    :reversePlay=\"movieClipInfo.reversePlay\"\n                    :pause=\"movieClipInfo.pause\"\n                    @frameEnd=\"playToEnd\"\n                ></MovieClip>\n                <herdsric-button\n                    class=\"herdsric-button\"\n                    :show-loading=\"buttonLoading\"\n                    @click=\"movieClipPlayClickHandler\"\n                >\n                    {{\n                    movieClipInfo.startPlay\n                    ? '点击暂停序列帧'\n                    : '点击开始序列帧'\n                    }}\n                </herdsric-button>\n                <div class=\"page-hint\" @click=\"movieClipPlayClickHandler\">\n                    {{\n                    movieClipInfo.startPlay\n                    ? '点击暂停序列帧'\n                    : '点击开始序列帧'\n                    }}\n                </div>\n                <div class=\"page-hint\" @click=\"movieClipLoopClickHandler\">\n                    {{\n                    movieClipInfo.loop\n                    ? '点击序列帧单次播放'\n                    : '点击序列帧循环播放'\n                    }}\n                </div>\n                <div class=\"page-hint\" @click=\"movieClipReverseClickHandler\">\n                    {{\n                    movieClipInfo.reversePlay\n                    ? '切换到正序播放'\n                    : '切换到倒序播放'\n                    }}\n                </div>\n                <div\n                    id=\"page-2\"\n                    class=\"page-hint\"\n                    @click=\"nextPageClick\"\n                >Page 2, click go to next page</div>\n            </div>\n        </BasePage>\n        <!-- <BasePage :class=\"pageClass(3)\" @commonclick=\"nextPageClick\">\n            <div class=\"page3-bg\">\n                <div class=\"page-hint\">Page 3, click go to next page</div>\n            </div>\n        </BasePage>-->\n        <UploadPage :class=\"pageClass(3)\" @nextPage=\"uploadPageNextPageHandler\"></UploadPage>\n        <ShakePage :class=\"pageClass(4)\" @nextPage=\"shakePageNextPageHandler\"></ShakePage>\n        <MusicButton\n            @backgroundMusicPause=\"backgroundMusicPauseHandler\"\n            @backgroundMusicPlay=\"backgroundMusicPlayHandler\"\n        ></MusicButton>\n        <BgMusicHint\n            :showBgMusicHint=\"showBgMusicHint\"\n            @confirm=\"bgMusicConfirmHandler\"\n            @cancel=\"bgMusicCancelHandler\"\n        ></BgMusicHint>\n    </div>\n</template>\n\n<script>\n// import baiduStatistics from './util/baidu-statistics.js';\nimport navi from './util/nav-controller.js';\nimport { getWindowSize } from './util/rem.js';\nimport pageTurningManager from './util/page-turning-manager.js';\nimport BGMusicSoundJs from './util/bgMusicSoundJs.js';\n// import {wxShare} from './util/wechat-share.js'\n\nimport BasePage from './components/BasePage.vue';\nimport MusicButton from './components/MusicButton.vue';\nimport PageLoading from './components/PageLoading.vue';\nimport MovieClip from './components/MovieClip.vue';\nimport UploadPage from './components/UploadPage.vue';\nimport BgMusicHint from './components/BgMusicHint.vue';\nimport ShakePage from './components/ShakePage.vue';\nimport herdsricButton from './components/HButton.vue';\nimport statisticAll from './util/herdsric-statistic.js';\nexport default {\n    name: 'app',\n    components: {\n        BasePage,\n        PageLoading,\n        MusicButton,\n        MovieClip,\n        UploadPage,\n        BgMusicHint,\n        ShakePage,\n        herdsricButton,\n    },\n    data: function() {\n        return {\n            buttonLoading: false,\n            sharedState: window.store.state,\n            backgroundMusicAutoPlay: true,\n            bgMusic: null,\n            userBgMusicConfirmed: false, // 背景音乐是否已经确认完毕？1：微信浏览器中，自动确认；2：其他浏览器中，由用户点击确认\n            assetsLoaded: false, // h5素材有没有加载完毕\n            pageTurningManager, // 页面跳转管理器\n            publicPath: process.env.BASE_URL,\n            movieClipInfo: {\n                imageArray: [],\n                fps: 30,\n                startPlay: false,\n                loop: true,\n                reversePlay: false,\n                pause: false,\n            },\n            showBgMusicHint: false, // 用于在非微信环境打开音乐提示按钮\n        };\n    },\n    computed: {\n        pageLoadingShow: function() {\n            return this.pageTurningManager.isCurrentPage(0);\n        },\n        pageClass: function() {\n            return function(index) {\n                let ret = '';\n                if (this.pageTurningManager.isCurrentPage(index)) {\n                    ret = 'page-show';\n                } else if (this.pageTurningManager.isNextPage(index)) {\n                    ret = 'page-animate';\n                } else {\n                    ret = 'page-hide';\n                }\n                return ret;\n            };\n        },\n    },\n    created: function() {\n        this.pageTurningManager.turnToPage(0);\n        // this.initBadiduStatistics();\n        if (this.backgroundMusicAutoPlay) {\n            this.initBackgroundMusic();\n        }\n        this.initMovieClipImageArray();\n    },\n    mounted: function() {\n        const { width, height } = getWindowSize();\n\n        document.body.style.setProperty('--px-total-height', height + 'px');\n        document.body.style.setProperty(\n            '--circle-radius',\n            Math.ceil(Math.sqrt(height * height + width * width) * 100) / 100 +\n                'px'\n        );\n\n        // wxShare();\n    },\n    methods: {\n        butClick() {\n            this.buttonLoading = true;\n            console.log('button clicked!');\n            setTimeout(() => {\n                this.buttonLoading = false;\n                console.log('button click completed!');\n            }, 2000);\n        },\n        but2Click() {\n            console.log('button2 clicked!');\n            this.buttonLoading = true;\n            setTimeout(() => {\n                this.buttonLoading = false;\n                console.log('button2 click completed!');\n            }, 2000);\n        },\n        handleLoadComplete() {\n            this.assetsLoaded = true;\n            // 素材加载完毕后，要同时确认用户有没有确认背景音乐的情况，同时确认才能前往下一页\n            this.checkAndGoFirstPage();\n        },\n        checkAndGoFirstPage() {\n            if (this.userBgMusicConfirmed && this.assetsLoaded) {\n                this.pageTurningManager.turnToPage(1, 500);\n            }\n        },\n        nextPageClick(event) {\n            statisticAll('nextPageClick', event.target.id);\n            this.pageTurningManager.turnToNextPageAutomatically();\n        },\n        isCurrentPage(i) {\n            return this.pageTurningManager.isCurrentPage(i);\n        },\n        startPlayBackgroundMusic() {\n            this.bgMusic.play();\n        },\n        initBackgroundMusic() {\n            // 初始化背景音乐\n            // 这里在业务上，主要要区分微信和非微信的浏览器环境的区别。\n            // 因为在微信环境里，微信提供了接口可以实现自动播放音乐。\n            // 在其他环境里，尤其是移动端手机浏览器环境里，是不能实现自动播放音乐的，这里最起码的做法是弹窗示意用户，是否播放背景音乐\n            this.bgMusic = new BGMusicSoundJs();\n\n            if (navi.isWX) {\n                document.addEventListener(\n                    'WeixinJSBridgeReady',\n                    () => {\n                        console.log('WeixinJSBridgeReady');\n                        this.bgMusic.load();\n                        window.store.setBackgroundMusicPlaying();\n                    },\n                    false\n                );\n                this.userBgMusicConfirmed = true; // 微信环境下，默认用户允许音乐自动播放\n            } else {\n                this.showBgMusicHint = true;\n            }\n        },\n        initBadiduStatistics() {\n            // baiduStatistics.init('abcdefg');\n            // baiduStatistics.output();\n            // baiduStatistics.push('h5-tmpl-vue', 'test');\n        },\n        backgroundMusicPauseHandler() {\n            window.store.setBackgroundMusicPause();\n            this.bgMusic.pause();\n        },\n        backgroundMusicPlayHandler() {\n            window.store.setBackgroundMusicPlaying();\n            this.bgMusic.resume();\n        },\n        /**\n         * 初始化序列帧数组\n         */\n        initMovieClipImageArray() {\n            let ret = [];\n            let imageBaseUrl = this.publicPath + 'imgs/movieclip/mc_';\n            for (let i = 1; i <= 10; i++) {\n                ret.push(`${imageBaseUrl}${i}.jpg`);\n            }\n\n            this.movieClipInfo.imageArray = ret;\n        },\n        movieClipPlayClickHandler() {\n            if (this.movieClipInfo.startPlay) {\n                this.movieClipInfo.pause = !this.movieClipInfo.pause;\n            } else {\n                this.movieClipInfo.startPlay = true;\n            }\n        },\n        movieClipLoopClickHandler() {\n            this.movieClipInfo.loop = !this.movieClipInfo.loop;\n        },\n        movieClipReverseClickHandler() {\n            this.movieClipInfo.reversePlay = !this.movieClipInfo.reversePlay;\n        },\n        playToEnd() {\n            if (!this.movieClipInfo.loop) {\n                this.movieClipInfo.startPlay = false;\n                this.movieClipInfo.pause = false;\n            }\n        },\n        bgMusicConfirmHandler() {\n            this.bgMusicCancelHandler();\n            this.bgMusic.load();\n            window.store.setBackgroundMusicPlaying();\n        },\n        bgMusicCancelHandler() {\n            this.showBgMusicHint = false;\n            // 设置用户已经确认了音乐的播放状态\n            this.userBgMusicConfirmed = true;\n            this.checkAndGoFirstPage();\n        },\n        uploadPageNextPageHandler(event) {\n            this.nextPageClick(event);\n        },\n        shakePageNextPageHandler() {\n            this.pageTurningManager.turnToPage(1, 500);\n        },\n    },\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n    --rem-total-height: 0rem;\n    --px-total-height: 0px;\n    --circle-radius: 0px;\n}\n\n#app {\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n}\n.herdsric-button {\n    background: #1a1e23;\n    //border-color: hsl(190, 100%, 41%);\n    color: hsl(190, 100%, 41%);\n    width: 120px;\n    margin: 10px;\n}\n.common-bg {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-size: cover;\n}\n\n.page1-bg {\n    @extend .common-bg;\n    background-image: url('../public/imgs/1.jpg');\n}\n\n.page2-bg {\n    @extend .common-bg;\n    flex-direction: column;\n    background-image: url('../public/imgs/2.jpg');\n}\n\n.page3-bg {\n    @extend .common-bg;\n    background-image: url('../public/imgs/3.jpg');\n}\n\n.page4-bg {\n    @extend .common-bg;\n    background-image: url('../public/imgs/4.jpg');\n}\n\n.page-hint {\n    background-color: #ffffff;\n    color: #000000;\n    width: 75vw;\n    height: 10vw;\n    font-size: 15px;\n    line-height: 10vw;\n    text-align: center;\n    margin: 2vw;\n}\n\n.page-show {\n    z-index: 5;\n    opacity: 1;\n}\n\n.page-animate {\n    animation: clipCircleIn 0.5s linear forwards;\n    z-index: 10;\n    opacity: 1;\n}\n\n.page-hide {\n    z-index: 0;\n    opacity: 0;\n}\n\n@keyframes clipCircleIn {\n    0% {\n        clip-path: circle(0 at 0% 100%);\n    }\n    100% {\n        clip-path: circle(var(--circle-radius) at 0% 100%);\n    }\n}\n\n.movie-clip-demo {\n    width: 40vw;\n    height: 25vw;\n}\n</style>\n","import mod from \"-!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=405d58c2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-undef */\n/* eslint-disable no-unused-vars */\n/* eslint-disable no-empty */\n/*!\n* SoundJS\n* Visit http://createjs.com/ for documentation, updates and examples.\n*\n* Copyright (c) 2010 gskinner.com, inc.\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n\n//##############################################################################\n// version.js\n//##############################################################################\n\n/**\n * createjs的soundjs插件，用于加载和播放音频\n * 这个soundjs不是原版，而是进行了一些微调以符合commonjs规范\n * this.createjs = this.createjs || {};\n * 这样的写法，在原生写法中很好用，但是在vue-cli的框架中要稍微修改下，把this改成window，然后在外部用window.createjs调用\n */\nlet createjs = {};\n\nif (!window.createjs) {\n\twindow.createjs = createjs;\n} else {\n\tcreatejs = window.createjs;\n}\n\n(function () {\n\n\t/**\n\t * Static class holding library specific information such as the version and buildDate of the library.\n\t * The SoundJS class has been renamed {{#crossLink \"Sound\"}}{{/crossLink}}.  Please see {{#crossLink \"Sound\"}}{{/crossLink}}\n\t * for information on using sound.\n\t * @class SoundJS\n\t **/\n\tvar s = createjs.SoundJS = createjs.SoundJS || {};\n\n\t/**\n\t * The version string for this release.\n\t * @property version\n\t * @type String\n\t * @static\n\t **/\n\ts.version = /*=version*/\"1.0.0\"; // injected by build process\n\n\t/**\n\t * The build date for this release in UTC format.\n\t * @property buildDate\n\t * @type String\n\t * @static\n\t **/\n\ts.buildDate = /*=date*/\"Thu, 12 Oct 2017 16:34:05 GMT\"; // injected by build process\n\n})();\n\n//##############################################################################\n// extend.js\n//##############################################################################\n\n\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Sets up the prototype chain and constructor property for a new class.\n *\n * This should be called right after creating the class constructor.\n *\n * \tfunction MySubClass() {}\n * \tcreatejs.extend(MySubClass, MySuperClass);\n * \tMySubClass.prototype.doSomething = function() { }\n *\n * \tvar foo = new MySubClass();\n * \tconsole.log(foo instanceof MySuperClass); // true\n * \tconsole.log(foo.prototype.constructor === MySubClass); // true\n *\n * @method extend\n * @param {Function} subclass The subclass.\n * @param {Function} superclass The superclass to extend.\n * @return {Function} Returns the subclass's new prototype.\n */\ncreatejs.extend = function (subclass, superclass) {\n\t\"use strict\";\n\n\tfunction o() { this.constructor = subclass; }\n\to.prototype = superclass.prototype;\n\treturn (subclass.prototype = new o());\n};\n\n//##############################################################################\n// promote.js\n//##############################################################################\n\n\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Promotes any methods on the super class that were overridden, by creating an alias in the format `prefix_methodName`.\n * It is recommended to use the super class's name as the prefix.\n * An alias to the super class's constructor is always added in the format `prefix_constructor`.\n * This allows the subclass to call super class methods without using `function.call`, providing better performance.\n *\n * For example, if `MySubClass` extends `MySuperClass`, and both define a `draw` method, then calling `promote(MySubClass, \"MySuperClass\")`\n * would add a `MySuperClass_constructor` method to MySubClass and promote the `draw` method on `MySuperClass` to the\n * prototype of `MySubClass` as `MySuperClass_draw`.\n *\n * This should be called after the class's prototype is fully defined.\n *\n * \tfunction ClassA(name) {\n * \t\tthis.name = name;\n * \t}\n * \tClassA.prototype.greet = function() {\n * \t\treturn \"Hello \"+this.name;\n * \t}\n *\n * \tfunction ClassB(name, punctuation) {\n * \t\tthis.ClassA_constructor(name);\n * \t\tthis.punctuation = punctuation;\n * \t}\n * \tcreatejs.extend(ClassB, ClassA);\n * \tClassB.prototype.greet = function() {\n * \t\treturn this.ClassA_greet()+this.punctuation;\n * \t}\n * \tcreatejs.promote(ClassB, \"ClassA\");\n *\n * \tvar foo = new ClassB(\"World\", \"!?!\");\n * \tconsole.log(foo.greet()); // Hello World!?!\n *\n * @method promote\n * @param {Function} subclass The class to promote super class methods on.\n * @param {String} prefix The prefix to add to the promoted method names. Usually the name of the superclass.\n * @return {Function} Returns the subclass.\n */\ncreatejs.promote = function (subclass, prefix) {\n\t\"use strict\";\n\n\tvar subP = subclass.prototype, supP = (Object.getPrototypeOf && Object.getPrototypeOf(subP)) || subP.__proto__;\n\tif (supP) {\n\t\tsubP[(prefix += \"_\") + \"constructor\"] = supP.constructor; // constructor is not always innumerable\n\t\tfor (var n in supP) {\n\t\t\tif (subP.hasOwnProperty(n) && (typeof supP[n] == \"function\")) { subP[prefix + n] = supP[n]; }\n\t\t}\n\t}\n\treturn subclass;\n};\n\n//##############################################################################\n// deprecate.js\n//##############################################################################\n\n\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Wraps deprecated methods so they still be used, but throw warnings to developers.\n *\n *\tobj.deprecatedMethod = createjs.deprecate(\"Old Method Name\", obj._fallbackMethod);\n *\n * The recommended approach for deprecated properties is:\n *\n *\ttry {\n *\t\tObj\tect.defineProperties(object, {\n *\t\t\treadyOnlyProp: { get: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }) },\n *\t\t\treadWriteProp: {\n *\t\t\t\tget: createjs.deprecate(\"readOnlyProp\", function() { return this.alternateProp; }),\n *\t\t\t\tset: createjs.deprecate(\"readOnlyProp\", function(val) { this.alternateProp = val; })\n *\t\t});\n *\t} catch (e) {}\n *\n * @method deprecate\n * @param {Function} [fallbackMethod=null] A method to call when the deprecated method is used. See the example for how\n * @param {String} [name=null] The name of the method or property to display in the console warning.\n * to deprecate properties.\n * @return {Function} If a fallbackMethod is supplied, returns a closure that will call the fallback method after\n * logging the warning in the console.\n */\ncreatejs.deprecate = function (fallbackMethod, name) {\n\t\"use strict\";\n\treturn function () {\n\t\tvar msg = \"Deprecated property or method '\" + name + \"'. See docs for info.\";\n\t\tconsole && (console.warn ? console.warn(msg) : console.log(msg));\n\t\treturn fallbackMethod && fallbackMethod.apply(this, arguments);\n\t}\n};\n\n//##############################################################################\n// indexOf.js\n//##############################################################################\n\n\n\n/**\n * @class Utility Methods\n */\n\n/**\n * Finds the first occurrence of a specified value searchElement in the passed in array, and returns the index of\n * that value.  Returns -1 if value is not found.\n *\n *      var i = createjs.indexOf(myArray, myElementToFind);\n *\n * @method indexOf\n * @param {Array} array Array to search for searchElement\n * @param searchElement Element to find in array.\n * @return {Number} The first index of searchElement in array.\n */\ncreatejs.indexOf = function (array, searchElement) {\n\t\"use strict\";\n\n\tfor (var i = 0, l = array.length; i < l; i++) {\n\t\tif (searchElement === array[i]) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n};\n\n//##############################################################################\n// proxy.js\n//##############################################################################\n\n\n\n/**\n * Various utilities that the CreateJS Suite uses. Utilities are created as separate files, and will be available on the\n * createjs namespace directly.\n *\n * <h4>Example</h4>\n *\n *      myObject.addEventListener(\"change\", createjs.proxy(myMethod, scope));\n *\n * @class Utility Methods\n * @main Utility Methods\n */\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * A function proxy for methods. By default, JavaScript methods do not maintain scope, so passing a method as a\n\t * callback will result in the method getting called in the scope of the caller. Using a proxy ensures that the\n\t * method gets called in the correct scope.\n\t *\n\t * Additional arguments can be passed that will be applied to the function when it is called.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      myObject.addEventListener(\"event\", createjs.proxy(myHandler, this, arg1, arg2));\n\t *\n\t *      function myHandler(arg1, arg2) {\n\t *           // This gets called when myObject.myCallback is executed.\n\t *      }\n\t *\n\t * @method proxy\n\t * @param {Function} method The function to call\n\t * @param {Object} scope The scope to call the method name on\n\t * @param {mixed} [arg] * Arguments that are appended to the callback for additional params.\n\t * @public\n\t * @static\n\t */\n\tcreatejs.proxy = function (method, scope) {\n\t\tvar aArgs = Array.prototype.slice.call(arguments, 2);\n\t\treturn function () {\n\t\t\treturn method.apply(scope, Array.prototype.slice.call(arguments, 0).concat(aArgs));\n\t\t};\n\t}\n\n}());\n\n//##############################################################################\n// BrowserDetect.js\n//##############################################################################\n\n\n\n/**\n * @class Utility Methods\n */\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * An object that determines the current browser, version, operating system, and other environment\n\t * variables via user agent string.\n\t *\n\t * Used for audio because feature detection is unable to detect the many limitations of mobile devices.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      if (createjs.BrowserDetect.isIOS) { // do stuff }\n\t *\n\t * @property BrowserDetect\n\t * @type {Object}\n\t * @param {Boolean} isFirefox True if our browser is Firefox.\n\t * @param {Boolean} isOpera True if our browser is opera.\n\t * @param {Boolean} isChrome True if our browser is Chrome.  Note that Chrome for Android returns true, but is a\n\t * completely different browser with different abilities.\n\t * @param {Boolean} isIOS True if our browser is safari for iOS devices (iPad, iPhone, and iPod).\n\t * @param {Boolean} isAndroid True if our browser is Android.\n\t * @param {Boolean} isBlackberry True if our browser is Blackberry.\n\t * @constructor\n\t * @static\n\t */\n\tfunction BrowserDetect() {\n\t\tthrow \"BrowserDetect cannot be instantiated\";\n\t}\n\n\tvar agent = BrowserDetect.agent = window.navigator.userAgent;\n\tBrowserDetect.isWindowPhone = (agent.indexOf(\"IEMobile\") > -1) || (agent.indexOf(\"Windows Phone\") > -1);\n\tBrowserDetect.isFirefox = (agent.indexOf(\"Firefox\") > -1);\n\tBrowserDetect.isOpera = (window.opera != null);\n\tBrowserDetect.isChrome = (agent.indexOf(\"Chrome\") > -1);  // NOTE that Chrome on Android returns true but is a completely different browser with different abilities\n\tBrowserDetect.isIOS = (agent.indexOf(\"iPod\") > -1 || agent.indexOf(\"iPhone\") > -1 || agent.indexOf(\"iPad\") > -1) && !BrowserDetect.isWindowPhone;\n\tBrowserDetect.isAndroid = (agent.indexOf(\"Android\") > -1) && !BrowserDetect.isWindowPhone;\n\tBrowserDetect.isBlackberry = (agent.indexOf(\"Blackberry\") > -1);\n\n\tcreatejs.BrowserDetect = BrowserDetect;\n\n}());\n\n//##############################################################################\n// EventDispatcher.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\n\t// constructor:\n\t/**\n\t * EventDispatcher provides methods for managing queues of event listeners and dispatching events.\n\t *\n\t * You can either extend EventDispatcher or mix its methods into an existing prototype or instance by using the\n\t * EventDispatcher {{#crossLink \"EventDispatcher/initialize\"}}{{/crossLink}} method.\n\t * \n\t * Together with the CreateJS Event class, EventDispatcher provides an extended event model that is based on the\n\t * DOM Level 2 event model, including addEventListener, removeEventListener, and dispatchEvent. It supports\n\t * bubbling / capture, preventDefault, stopPropagation, stopImmediatePropagation, and handleEvent.\n\t * \n\t * EventDispatcher also exposes a {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} method, which makes it easier\n\t * to create scoped listeners, listeners that only run once, and listeners with associated arbitrary data. The \n\t * {{#crossLink \"EventDispatcher/off\"}}{{/crossLink}} method is merely an alias to\n\t * {{#crossLink \"EventDispatcher/removeEventListener\"}}{{/crossLink}}.\n\t * \n\t * Another addition to the DOM Level 2 model is the {{#crossLink \"EventDispatcher/removeAllEventListeners\"}}{{/crossLink}}\n\t * method, which can be used to listeners for all events, or listeners for a specific event. The Event object also \n\t * includes a {{#crossLink \"Event/remove\"}}{{/crossLink}} method which removes the active listener.\n\t *\n\t * <h4>Example</h4>\n\t * Add EventDispatcher capabilities to the \"MyClass\" class.\n\t *\n\t *      EventDispatcher.initialize(MyClass.prototype);\n\t *\n\t * Add an event (see {{#crossLink \"EventDispatcher/addEventListener\"}}{{/crossLink}}).\n\t *\n\t *      instance.addEventListener(\"eventName\", handlerMethod);\n\t *      function handlerMethod(event) {\n\t *          console.log(event.target + \" Was Clicked\");\n\t *      }\n\t *\n\t * <b>Maintaining proper scope</b><br />\n\t * Scope (ie. \"this\") can be be a challenge with events. Using the {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}}\n\t * method to subscribe to events simplifies this.\n\t *\n\t *      instance.addEventListener(\"click\", function(event) {\n\t *          console.log(instance == this); // false, scope is ambiguous.\n\t *      });\n\t *      \n\t *      instance.on(\"click\", function(event) {\n\t *          console.log(instance == this); // true, \"on\" uses dispatcher scope by default.\n\t *      });\n\t * \n\t * If you want to use addEventListener instead, you may want to use function.bind() or a similar proxy to manage\n\t * scope.\n\t *\n\t * <b>Browser support</b>\n\t * The event model in CreateJS can be used separately from the suite in any project, however the inheritance model\n\t * requires modern browsers (IE9+).\n\t *      \n\t *\n\t * @class EventDispatcher\n\t * @constructor\n\t **/\n\tfunction EventDispatcher() {\n\n\n\t\t// private properties:\n\t\t/**\n\t\t * @protected\n\t\t * @property _listeners\n\t\t * @type Object\n\t\t **/\n\t\tthis._listeners = null;\n\n\t\t/**\n\t\t * @protected\n\t\t * @property _captureListeners\n\t\t * @type Object\n\t\t **/\n\t\tthis._captureListeners = null;\n\t}\n\tvar p = EventDispatcher.prototype;\n\n\t// static public methods:\n\t/**\n\t * Static initializer to mix EventDispatcher methods into a target object or prototype.\n\t * \n\t * \t\tEventDispatcher.initialize(MyClass.prototype); // add to the prototype of the class\n\t * \t\tEventDispatcher.initialize(myObject); // add to a specific instance\n\t * \n\t * @method initialize\n\t * @static\n\t * @param {Object} target The target object to inject EventDispatcher methods into. This can be an instance or a\n\t * prototype.\n\t **/\n\tEventDispatcher.initialize = function (target) {\n\t\ttarget.addEventListener = p.addEventListener;\n\t\ttarget.on = p.on;\n\t\ttarget.removeEventListener = target.off = p.removeEventListener;\n\t\ttarget.removeAllEventListeners = p.removeAllEventListeners;\n\t\ttarget.hasEventListener = p.hasEventListener;\n\t\ttarget.dispatchEvent = p.dispatchEvent;\n\t\ttarget._dispatchEvent = p._dispatchEvent;\n\t\ttarget.willTrigger = p.willTrigger;\n\t};\n\n\n\t// public methods:\n\t/**\n\t * Adds the specified event listener. Note that adding multiple listeners to the same function will result in\n\t * multiple callbacks getting fired.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.addEventListener(\"click\", handleClick);\n\t *      function handleClick(event) {\n\t *         // Click happened.\n\t *      }\n\t *\n\t * @method addEventListener\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\n\t * the event is dispatched.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function | Object} Returns the listener for chaining or assignment.\n\t **/\n\tp.addEventListener = function (type, listener, useCapture) {\n\t\tvar listeners;\n\t\tif (useCapture) {\n\t\t\tlisteners = this._captureListeners = this._captureListeners || {};\n\t\t} else {\n\t\t\tlisteners = this._listeners = this._listeners || {};\n\t\t}\n\t\tvar arr = listeners[type];\n\t\tif (arr) { this.removeEventListener(type, listener, useCapture); }\n\t\tarr = listeners[type]; // remove may have deleted the array\n\t\tif (!arr) { listeners[type] = [listener]; }\n\t\telse { arr.push(listener); }\n\t\treturn listener;\n\t};\n\n\t/**\n\t * A shortcut method for using addEventListener that makes it easier to specify an execution scope, have a listener\n\t * only run once, associate arbitrary data with the listener, and remove the listener.\n\t * \n\t * This method works by creating an anonymous wrapper function and subscribing it with addEventListener.\n\t * The wrapper function is returned for use with `removeEventListener` (or `off`).\n\t * \n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener, or use\n\t * {{#crossLink \"Event/remove\"}}{{/crossLink}}. Likewise, each time you call `on` a NEW wrapper function is subscribed, so multiple calls\n\t * to `on` with the same params will create multiple listeners.\n\t * \n\t * <h4>Example</h4>\n\t * \n\t * \t\tvar listener = myBtn.on(\"click\", handleClick, null, false, {count:3});\n\t * \t\tfunction handleClick(evt, data) {\n\t * \t\t\tdata.count -= 1;\n\t * \t\t\tconsole.log(this == myBtn); // true - scope defaults to the dispatcher\n\t * \t\t\tif (data.count == 0) {\n\t * \t\t\t\talert(\"clicked 3 times!\");\n\t * \t\t\t\tmyBtn.off(\"click\", listener);\n\t * \t\t\t\t// alternately: evt.remove();\n\t * \t\t\t}\n\t * \t\t}\n\t * \n\t * @method on\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener An object with a handleEvent method, or a function that will be called when\n\t * the event is dispatched.\n\t * @param {Object} [scope] The scope to execute the listener in. Defaults to the dispatcher/currentTarget for function listeners, and to the listener itself for object listeners (ie. using handleEvent).\n\t * @param {Boolean} [once=false] If true, the listener will remove itself after the first time it is triggered.\n\t * @param {*} [data] Arbitrary data that will be included as the second parameter when the listener is called.\n\t * @param {Boolean} [useCapture=false] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t * @return {Function} Returns the anonymous function that was created and assigned as the listener. This is needed to remove the listener later using .removeEventListener.\n\t **/\n\tp.on = function (type, listener, scope, once, data, useCapture) {\n\t\tif (listener.handleEvent) {\n\t\t\tscope = scope || listener;\n\t\t\tlistener = listener.handleEvent;\n\t\t}\n\t\tscope = scope || this;\n\t\treturn this.addEventListener(type, function (evt) {\n\t\t\tlistener.call(scope, evt, data);\n\t\t\tonce && evt.remove();\n\t\t}, useCapture);\n\t};\n\n\t/**\n\t * Removes the specified event listener.\n\t *\n\t * <b>Important Note:</b> that you must pass the exact function reference used when the event was added. If a proxy\n\t * function, or function closure is used as the callback, the proxy/closure reference must be used - a new proxy or\n\t * closure will not work.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      displayObject.removeEventListener(\"click\", handleClick);\n\t *\n\t * @method removeEventListener\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener The listener function or object.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t **/\n\tp.removeEventListener = function (type, listener, useCapture) {\n\t\tvar listeners = useCapture ? this._captureListeners : this._listeners;\n\t\tif (!listeners) { return; }\n\t\tvar arr = listeners[type];\n\t\tif (!arr) { return; }\n\t\tfor (var i = 0, l = arr.length; i < l; i++) {\n\t\t\tif (arr[i] == listener) {\n\t\t\t\tif (l == 1) { delete (listeners[type]); } // allows for faster checks.\n\t\t\t\telse { arr.splice(i, 1); }\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * A shortcut to the removeEventListener method, with the same parameters and return value. This is a companion to the\n\t * .on method.\n\t * \n\t * <b>IMPORTANT:</b> To remove a listener added with `on`, you must pass in the returned wrapper function as the listener. See \n\t * {{#crossLink \"EventDispatcher/on\"}}{{/crossLink}} for an example.\n\t *\n\t * @method off\n\t * @param {String} type The string type of the event.\n\t * @param {Function | Object} listener The listener function or object.\n\t * @param {Boolean} [useCapture] For events that bubble, indicates whether to listen for the event in the capture or bubbling/target phase.\n\t **/\n\tp.off = p.removeEventListener;\n\n\t/**\n\t * Removes all listeners for the specified type, or all listeners of all types.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      // Remove all listeners\n\t *      displayObject.removeAllEventListeners();\n\t *\n\t *      // Remove all click listeners\n\t *      displayObject.removeAllEventListeners(\"click\");\n\t *\n\t * @method removeAllEventListeners\n\t * @param {String} [type] The string type of the event. If omitted, all listeners for all types will be removed.\n\t **/\n\tp.removeAllEventListeners = function (type) {\n\t\tif (!type) { this._listeners = this._captureListeners = null; }\n\t\telse {\n\t\t\tif (this._listeners) { delete (this._listeners[type]); }\n\t\t\tif (this._captureListeners) { delete (this._captureListeners[type]); }\n\t\t}\n\t};\n\n\t/**\n\t * Dispatches the specified event to all listeners.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      // Use a string event\n\t *      this.dispatchEvent(\"complete\");\n\t *\n\t *      // Use an Event instance\n\t *      var event = new createjs.Event(\"progress\");\n\t *      this.dispatchEvent(event);\n\t *\n\t * @method dispatchEvent\n\t * @param {Object | String | Event} eventObj An object with a \"type\" property, or a string type.\n\t * While a generic object will work, it is recommended to use a CreateJS Event instance. If a string is used,\n\t * dispatchEvent will construct an Event instance if necessary with the specified type. This latter approach can\n\t * be used to avoid event object instantiation for non-bubbling events that may not have any listeners.\n\t * @param {Boolean} [bubbles] Specifies the `bubbles` value when a string was passed to eventObj.\n\t * @param {Boolean} [cancelable] Specifies the `cancelable` value when a string was passed to eventObj.\n\t * @return {Boolean} Returns false if `preventDefault()` was called on a cancelable event, true otherwise.\n\t **/\n\tp.dispatchEvent = function (eventObj, bubbles, cancelable) {\n\t\tif (typeof eventObj == \"string\") {\n\t\t\t// skip everything if there's no listeners and it doesn't bubble:\n\t\t\tvar listeners = this._listeners;\n\t\t\tif (!bubbles && (!listeners || !listeners[eventObj])) { return true; }\n\t\t\teventObj = new createjs.Event(eventObj, bubbles, cancelable);\n\t\t} else if (eventObj.target && eventObj.clone) {\n\t\t\t// redispatching an active event object, so clone it:\n\t\t\teventObj = eventObj.clone();\n\t\t}\n\n\t\t// TODO: it would be nice to eliminate this. Maybe in favour of evtObj instanceof Event? Or !!evtObj.createEvent\n\t\ttry { eventObj.target = this; } catch (e) { } // try/catch allows redispatching of native events\n\n\t\tif (!eventObj.bubbles || !this.parent) {\n\t\t\tthis._dispatchEvent(eventObj, 2);\n\t\t} else {\n\t\t\tvar top = this, list = [top];\n\t\t\twhile (top.parent) { list.push(top = top.parent); }\n\t\t\tvar i, l = list.length;\n\n\t\t\t// capture & atTarget\n\t\t\tfor (i = l - 1; i >= 0 && !eventObj.propagationStopped; i--) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 1 + (i == 0));\n\t\t\t}\n\t\t\t// bubbling\n\t\t\tfor (i = 1; i < l && !eventObj.propagationStopped; i++) {\n\t\t\t\tlist[i]._dispatchEvent(eventObj, 3);\n\t\t\t}\n\t\t}\n\t\treturn !eventObj.defaultPrevented;\n\t};\n\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type.\n\t * @method hasEventListener\n\t * @param {String} type The string type of the event.\n\t * @return {Boolean} Returns true if there is at least one listener for the specified event.\n\t **/\n\tp.hasEventListener = function (type) {\n\t\tvar listeners = this._listeners, captureListeners = this._captureListeners;\n\t\treturn !!((listeners && listeners[type]) || (captureListeners && captureListeners[type]));\n\t};\n\n\t/**\n\t * Indicates whether there is at least one listener for the specified event type on this object or any of its\n\t * ancestors (parent, parent's parent, etc). A return value of true indicates that if a bubbling event of the\n\t * specified type is dispatched from this object, it will trigger at least one listener.\n\t * \n\t * This is similar to {{#crossLink \"EventDispatcher/hasEventListener\"}}{{/crossLink}}, but it searches the entire\n\t * event flow for a listener, not just this object.\n\t * @method willTrigger\n\t * @param {String} type The string type of the event.\n\t * @return {Boolean} Returns `true` if there is at least one listener for the specified event.\n\t **/\n\tp.willTrigger = function (type) {\n\t\tvar o = this;\n\t\twhile (o) {\n\t\t\tif (o.hasEventListener(type)) { return true; }\n\t\t\to = o.parent;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function () {\n\t\treturn \"[EventDispatcher]\";\n\t};\n\n\n\t// private methods:\n\t/**\n\t * @method _dispatchEvent\n\t * @param {Object | Event} eventObj\n\t * @param {Object} eventPhase\n\t * @protected\n\t **/\n\tp._dispatchEvent = function (eventObj, eventPhase) {\n\t\tvar l, arr, listeners = (eventPhase <= 2) ? this._captureListeners : this._listeners;\n\t\tif (eventObj && listeners && (arr = listeners[eventObj.type]) && (l = arr.length)) {\n\t\t\ttry { eventObj.currentTarget = this; } catch (e) { }\n\t\t\ttry { eventObj.eventPhase = eventPhase | 0; } catch (e) { }\n\t\t\teventObj.removed = false;\n\n\t\t\tarr = arr.slice(); // to avoid issues with items being removed or added during the dispatch\n\t\t\tfor (var i = 0; i < l && !eventObj.immediatePropagationStopped; i++) {\n\t\t\t\tvar o = arr[i];\n\t\t\t\tif (o.handleEvent) { o.handleEvent(eventObj); }\n\t\t\t\telse { o(eventObj); }\n\t\t\t\tif (eventObj.removed) {\n\t\t\t\t\tthis.off(eventObj.type, o, eventPhase == 1);\n\t\t\t\t\teventObj.removed = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (eventPhase === 2) { this._dispatchEvent(eventObj, 2.1); }\n\t};\n\n\n\tcreatejs.EventDispatcher = EventDispatcher;\n}());\n\n//##############################################################################\n// Event.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor:\n\t/**\n\t * Contains properties and methods shared by all events for use with\n\t * {{#crossLink \"EventDispatcher\"}}{{/crossLink}}.\n\t * \n\t * Note that Event objects are often reused, so you should never\n\t * rely on an event object's state outside of the call stack it was received in.\n\t * @class Event\n\t * @param {String} type The event type.\n\t * @param {Boolean} bubbles Indicates whether the event will bubble through the display list.\n\t * @param {Boolean} cancelable Indicates whether the default behaviour of this event can be cancelled.\n\t * @constructor\n\t **/\n\tfunction Event(type, bubbles, cancelable) {\n\n\n\t\t// public properties:\n\t\t/**\n\t\t * The type of event.\n\t\t * @property type\n\t\t * @type String\n\t\t **/\n\t\tthis.type = type;\n\n\t\t/**\n\t\t * The object that generated an event.\n\t\t * @property target\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.target = null;\n\n\t\t/**\n\t\t * The current target that a bubbling event is being dispatched from. For non-bubbling events, this will\n\t\t * always be the same as target. For example, if childObj.parent = parentObj, and a bubbling event\n\t\t * is generated from childObj, then a listener on parentObj would receive the event with\n\t\t * target=childObj (the original target) and currentTarget=parentObj (where the listener was added).\n\t\t * @property currentTarget\n\t\t * @type Object\n\t\t * @default null\n\t\t * @readonly\n\t\t*/\n\t\tthis.currentTarget = null;\n\n\t\t/**\n\t\t * For bubbling events, this indicates the current event phase:<OL>\n\t\t * \t<LI> capture phase: starting from the top parent to the target</LI>\n\t\t * \t<LI> at target phase: currently being dispatched from the target</LI>\n\t\t * \t<LI> bubbling phase: from the target to the top parent</LI>\n\t\t * </OL>\n\t\t * @property eventPhase\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.eventPhase = 0;\n\n\t\t/**\n\t\t * Indicates whether the event will bubble through the display list.\n\t\t * @property bubbles\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.bubbles = !!bubbles;\n\n\t\t/**\n\t\t * Indicates whether the default behaviour of this event can be cancelled via\n\t\t * {{#crossLink \"Event/preventDefault\"}}{{/crossLink}}. This is set via the Event constructor.\n\t\t * @property cancelable\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.cancelable = !!cancelable;\n\n\t\t/**\n\t\t * The epoch time at which this event was created.\n\t\t * @property timeStamp\n\t\t * @type Number\n\t\t * @default 0\n\t\t * @readonly\n\t\t*/\n\t\tthis.timeStamp = (new Date()).getTime();\n\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/preventDefault\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property defaultPrevented\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.defaultPrevented = false;\n\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopPropagation\"}}{{/crossLink}} or\n\t\t * {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called on this event.\n\t\t * @property propagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.propagationStopped = false;\n\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/stopImmediatePropagation\"}}{{/crossLink}} has been called\n\t\t * on this event.\n\t\t * @property immediatePropagationStopped\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.immediatePropagationStopped = false;\n\n\t\t/**\n\t\t * Indicates if {{#crossLink \"Event/remove\"}}{{/crossLink}} has been called on this event.\n\t\t * @property removed\n\t\t * @type Boolean\n\t\t * @default false\n\t\t * @readonly\n\t\t*/\n\t\tthis.removed = false;\n\t}\n\tvar p = Event.prototype;\n\n\t// public methods:\n\t/**\n\t * Sets {{#crossLink \"Event/defaultPrevented\"}}{{/crossLink}} to true if the event is cancelable.\n\t * Mirrors the DOM level 2 event standard. In general, cancelable events that have `preventDefault()` called will\n\t * cancel the default behaviour associated with the event.\n\t * @method preventDefault\n\t **/\n\tp.preventDefault = function () {\n\t\tthis.defaultPrevented = this.cancelable && true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopPropagation\n\t **/\n\tp.stopPropagation = function () {\n\t\tthis.propagationStopped = true;\n\t};\n\n\t/**\n\t * Sets {{#crossLink \"Event/propagationStopped\"}}{{/crossLink}} and\n\t * {{#crossLink \"Event/immediatePropagationStopped\"}}{{/crossLink}} to true.\n\t * Mirrors the DOM event standard.\n\t * @method stopImmediatePropagation\n\t **/\n\tp.stopImmediatePropagation = function () {\n\t\tthis.immediatePropagationStopped = this.propagationStopped = true;\n\t};\n\n\t/**\n\t * Causes the active listener to be removed via removeEventListener();\n\t * \n\t * \t\tmyBtn.addEventListener(\"click\", function(evt) {\n\t * \t\t\t// do stuff...\n\t * \t\t\tevt.remove(); // removes this listener.\n\t * \t\t});\n\t * \n\t * @method remove\n\t **/\n\tp.remove = function () {\n\t\tthis.removed = true;\n\t};\n\n\t/**\n\t * Returns a clone of the Event instance.\n\t * @method clone\n\t * @return {Event} a clone of the Event instance.\n\t **/\n\tp.clone = function () {\n\t\treturn new Event(this.type, this.bubbles, this.cancelable);\n\t};\n\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the instance.\n\t * @return {Event} Returns the instance the method is called on (useful for chaining calls.)\n\t * @chainable\n\t*/\n\tp.set = function (props) {\n\t\tfor (var n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Returns a string representation of this object.\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t **/\n\tp.toString = function () {\n\t\treturn \"[Event (type=\" + this.type + \")]\";\n\t};\n\n\tcreatejs.Event = Event;\n}());\n\n//##############################################################################\n// ErrorEvent.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * A general error {{#crossLink \"Event\"}}{{/crossLink}}, that describes an error that occurred, as well as any details.\n\t * @class ErrorEvent\n\t * @param {String} [title] The error title\n\t * @param {String} [message] The error description\n\t * @param {Object} [data] Additional error data\n\t * @constructor\n\t */\n\tfunction ErrorEvent(title, message, data) {\n\t\tthis.Event_constructor(\"error\");\n\n\t\t/**\n\t\t * The short error title, which indicates the type of error that occurred.\n\t\t * @property title\n\t\t * @type String\n\t\t */\n\t\tthis.title = title;\n\n\t\t/**\n\t\t * The verbose error message, containing details about the error.\n\t\t * @property message\n\t\t * @type String\n\t\t */\n\t\tthis.message = message;\n\n\t\t/**\n\t\t * Additional data attached to an error.\n\t\t * @property data\n\t\t * @type {Object}\n\t\t */\n\t\tthis.data = data;\n\t}\n\n\tvar p = createjs.extend(ErrorEvent, createjs.Event);\n\n\tp.clone = function () {\n\t\treturn new createjs.ErrorEvent(this.title, this.message, this.data);\n\t};\n\n\tcreatejs.ErrorEvent = createjs.promote(ErrorEvent, \"Event\");\n\n}());\n\n//##############################################################################\n// ProgressEvent.js\n//##############################################################################\n\n\n\n(function (scope) {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * A CreateJS {{#crossLink \"Event\"}}{{/crossLink}} that is dispatched when progress changes.\n\t * @class ProgressEvent\n\t * @param {Number} loaded The amount that has been loaded. This can be any number relative to the total.\n\t * @param {Number} [total=1] The total amount that will load. This will default to 1, so if the `loaded` value is\n\t * a percentage (between 0 and 1), it can be omitted.\n\t * @todo Consider having this event be a \"fileprogress\" event as well\n\t * @constructor\n\t */\n\tfunction ProgressEvent(loaded, total) {\n\t\tthis.Event_constructor(\"progress\");\n\n\t\t/**\n\t\t * The amount that has been loaded (out of a total amount)\n\t\t * @property loaded\n\t\t * @type {Number}\n\t\t */\n\t\tthis.loaded = loaded;\n\n\t\t/**\n\t\t * The total \"size\" of the load.\n\t\t * @property total\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t */\n\t\tthis.total = (total == null) ? 1 : total;\n\n\t\t/**\n\t\t * The percentage (out of 1) that the load has been completed. This is calculated using `loaded/total`.\n\t\t * @property progress\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.progress = (total == 0) ? 0 : this.loaded / this.total;\n\t}\n\n\tvar p = createjs.extend(ProgressEvent, createjs.Event);\n\n\t/**\n\t * Returns a clone of the ProgressEvent instance.\n\t * @method clone\n\t * @return {ProgressEvent} a clone of the Event instance.\n\t **/\n\tp.clone = function () {\n\t\treturn new createjs.ProgressEvent(this.loaded, this.total);\n\t};\n\n\tcreatejs.ProgressEvent = createjs.promote(ProgressEvent, \"Event\");\n\n}(window));\n\n//##############################################################################\n// LoadItem.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * All loaders accept an item containing the properties defined in this class. If a raw object is passed instead,\n\t * it will not be affected, but it must contain at least a {{#crossLink \"src:property\"}}{{/crossLink}} property. A\n\t * string path or HTML tag is also acceptable, but it will be automatically converted to a LoadItem using the\n\t * {{#crossLink \"create\"}}{{/crossLink}} method by {{#crossLink \"AbstractLoader\"}}{{/crossLink}}\n\t * @class LoadItem\n\t * @constructor\n\t * @since 0.6.0\n\t */\n\tfunction LoadItem() {\n\t\t/**\n\t\t * The source of the file that is being loaded. This property is <b>required</b>. The source can either be a\n\t\t * string (recommended), or an HTML tag.\n\t\t * This can also be an object, but in that case it has to include a type and be handled by a plugin.\n\t\t * @property src\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.src = null;\n\n\t\t/**\n\t\t * The type file that is being loaded. The type of the file is usually inferred by the extension, but can also\n\t\t * be set manually. This is helpful in cases where a file does not have an extension.\n\t\t * @property type\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.type = null;\n\n\t\t/**\n\t\t * A string identifier which can be used to reference the loaded object. If none is provided, this will be\n\t\t * automatically set to the {{#crossLink \"src:property\"}}{{/crossLink}}.\n\t\t * @property id\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.id = null;\n\n\t\t/**\n\t\t * Determines if a manifest will maintain the order of this item, in relation to other items in the manifest\n\t\t * that have also set the `maintainOrder` property to `true`. This only applies when the max connections has\n\t\t * been set above 1 (using {{#crossLink \"LoadQueue/setMaxConnections\"}}{{/crossLink}}). Everything with this\n\t\t * property set to `false` will finish as it is loaded. Ordered items are combined with script tags loading in\n\t\t * order when {{#crossLink \"LoadQueue/maintainScriptOrder:property\"}}{{/crossLink}} is set to `true`.\n\t\t * @property maintainOrder\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.maintainOrder = false;\n\n\t\t/**\n\t\t * A callback used by JSONP requests that defines what global method to call when the JSONP content is loaded.\n\t\t * @property callback\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.callback = null;\n\n\t\t/**\n\t\t * An arbitrary data object, which is included with the loaded object.\n\t\t * @property data\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis.data = null;\n\n\t\t/**\n\t\t * The request method used for HTTP calls. Both {{#crossLink \"Methods/GET:property\"}}{{/crossLink}} or\n\t\t * {{#crossLink \"Methods/POST:property\"}}{{/crossLink}} request types are supported, and are defined as\n\t\t * constants on {{#crossLink \"AbstractLoader\"}}{{/crossLink}}.\n\t\t * @property method\n\t\t * @type {String}\n\t\t * @default GET\n\t\t */\n\t\tthis.method = createjs.Methods.GET;\n\n\t\t/**\n\t\t * An object hash of name/value pairs to send to the server.\n\t\t * @property values\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis.values = null;\n\n\t\t/**\n\t\t * An object hash of headers to attach to an XHR request. PreloadJS will automatically attach some default\n\t\t * headers when required, including \"Origin\", \"Content-Type\", and \"X-Requested-With\". You may override the\n\t\t * default headers by including them in your headers object.\n\t\t * @property headers\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis.headers = null;\n\n\t\t/**\n\t\t * Enable credentials for XHR requests.\n\t\t * @property withCredentials\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.withCredentials = false;\n\n\t\t/**\n\t\t * Set the mime type of XHR-based requests. This is automatically set to \"text/plain; charset=utf-8\" for text\n\t\t * based files (json, xml, text, css, js).\n\t\t * @property mimeType\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.mimeType = null;\n\n\t\t/**\n\t\t * Sets the crossOrigin attribute for CORS-enabled images loading cross-domain.\n\t\t * @property crossOrigin\n\t\t * @type {boolean}\n\t\t * @default Anonymous\n\t\t */\n\t\tthis.crossOrigin = null;\n\n\t\t/**\n\t\t * The duration in milliseconds to wait before a request times out. This only applies to tag-based and and XHR\n\t\t * (level one) loading, as XHR (level 2) provides its own timeout event.\n\t\t * @property loadTimeout\n\t\t * @type {Number}\n\t\t * @default 8000 (8 seconds)\n\t\t */\n\t\tthis.loadTimeout = s.LOAD_TIMEOUT_DEFAULT;\n\t}\n\n\tvar p = LoadItem.prototype = {};\n\tvar s = LoadItem;\n\n\t/**\n\t * Default duration in milliseconds to wait before a request times out. This only applies to tag-based and and XHR\n\t * (level one) loading, as XHR (level 2) provides its own timeout event.\n\t * @property LOAD_TIMEOUT_DEFAULT\n\t * @type {number}\n\t * @static\n\t */\n\ts.LOAD_TIMEOUT_DEFAULT = 8000;\n\n\t/**\n\t * Create a LoadItem.\n\t * <ul>\n\t *     <li>String-based items are converted to a LoadItem with a populated {{#crossLink \"src:property\"}}{{/crossLink}}.</li>\n\t *     <li>LoadItem instances are returned as-is</li>\n\t *     <li>Objects are returned with any needed properties added</li>\n\t * </ul>\n\t * @method create\n\t * @param {LoadItem|String|Object} value The load item value\n\t * @returns {LoadItem|Object}\n\t * @static\n\t */\n\ts.create = function (value) {\n\t\tif (typeof value == \"string\") {\n\t\t\tvar item = new LoadItem();\n\t\t\titem.src = value;\n\t\t\treturn item;\n\t\t} else if (value instanceof s) {\n\t\t\treturn value;\n\t\t} else if (value instanceof Object && value.src) {\n\t\t\tif (value.loadTimeout == null) {\n\t\t\t\tvalue.loadTimeout = s.LOAD_TIMEOUT_DEFAULT;\n\t\t\t}\n\t\t\treturn value;\n\t\t} else {\n\t\t\tthrow new Error(\"Type not recognized.\");\n\t\t}\n\t};\n\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var loadItem = new createjs.LoadItem().set({src:\"image.png\", maintainOrder:true});\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the LoadItem instance.\n\t * @return {LoadItem} Returns the instance the method is called on (useful for chaining calls.)\n\t*/\n\tp.set = function (props) {\n\t\tfor (var n in props) { this[n] = props[n]; }\n\t\treturn this;\n\t};\n\n\tcreatejs.LoadItem = s;\n\n}());\n\n//##############################################################################\n// Methods.js\n//##############################################################################\n\n\n\n(function () {\n\tvar s = {};\n\n\t/**\n\t * Defines a POST request, use for a method value when loading data.\n\t * @property POST\n\t * @type {string}\n\t * @default post\n\t * @static\n\t */\n\ts.POST = \"POST\";\n\n\t/**\n\t * Defines a GET request, use for a method value when loading data.\n\t * @property GET\n\t * @type {string}\n\t * @default get\n\t * @static\n\t */\n\ts.GET = \"GET\";\n\n\tcreatejs.Methods = s;\n}());\n\n//##############################################################################\n// Types.js\n//##############################################################################\n\n\n\n(function () {\n\tvar s = {};\n\n\t/**\n\t * The preload type for generic binary types. Note that images are loaded as binary files when using XHR.\n\t * @property BINARY\n\t * @type {String}\n\t * @default binary\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.BINARY = \"binary\";\n\n\t/**\n\t * The preload type for css files. CSS files are loaded using a &lt;link&gt; when loaded with XHR, or a\n\t * &lt;style&gt; tag when loaded with tags.\n\t * @property CSS\n\t * @type {String}\n\t * @default css\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.CSS = \"css\";\n\n\t/**\n\t * The preload type for font files.\n\t * @property FONT\n\t * @type {String}\n\t * @default font\n\t * @static\n\t * @since 0.9.0\n\t */\n\ts.FONT = \"font\";\n\n\t/**\n\t * The preload type for fonts specified with CSS (such as Google fonts)\n\t * @property FONTCSS\n\t * @type {String}\n\t * @default fontcss\n\t * @static\n\t * @since 0.9.0\n\t */\n\ts.FONTCSS = \"fontcss\";\n\n\t/**\n\t * The preload type for image files, usually png, gif, or jpg/jpeg. Images are loaded into an &lt;image&gt; tag.\n\t * @property IMAGE\n\t * @type {String}\n\t * @default image\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.IMAGE = \"image\";\n\n\t/**\n\t * The preload type for javascript files, usually with the \"js\" file extension. JavaScript files are loaded into a\n\t * &lt;script&gt; tag.\n\t *\n\t * Since version 0.4.1+, due to how tag-loaded scripts work, all JavaScript files are automatically injected into\n\t * the body of the document to maintain parity between XHR and tag-loaded scripts. In version 0.4.0 and earlier,\n\t * only tag-loaded scripts are injected.\n\t * @property JAVASCRIPT\n\t * @type {String}\n\t * @default javascript\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.JAVASCRIPT = \"javascript\";\n\n\t/**\n\t * The preload type for json files, usually with the \"json\" file extension. JSON data is loaded and parsed into a\n\t * JavaScript object. Note that if a `callback` is present on the load item, the file will be loaded with JSONP,\n\t * no matter what the {{#crossLink \"LoadQueue/preferXHR:property\"}}{{/crossLink}} property is set to, and the JSON\n\t * must contain a matching wrapper function.\n\t * @property JSON\n\t * @type {String}\n\t * @default json\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.JSON = \"json\";\n\n\t/**\n\t * The preload type for jsonp files, usually with the \"json\" file extension. JSON data is loaded and parsed into a\n\t * JavaScript object. You are required to pass a callback parameter that matches the function wrapper in the JSON.\n\t * Note that JSONP will always be used if there is a callback present, no matter what the {{#crossLink \"LoadQueue/preferXHR:property\"}}{{/crossLink}}\n\t * property is set to.\n\t * @property JSONP\n\t * @type {String}\n\t * @default jsonp\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.JSONP = \"jsonp\";\n\n\t/**\n\t * The preload type for json-based manifest files, usually with the \"json\" file extension. The JSON data is loaded\n\t * and parsed into a JavaScript object. PreloadJS will then look for a \"manifest\" property in the JSON, which is an\n\t * Array of files to load, following the same format as the {{#crossLink \"LoadQueue/loadManifest\"}}{{/crossLink}}\n\t * method. If a \"callback\" is specified on the manifest object, then it will be loaded using JSONP instead,\n\t * regardless of what the {{#crossLink \"LoadQueue/preferXHR:property\"}}{{/crossLink}} property is set to.\n\t * @property MANIFEST\n\t * @type {String}\n\t * @default manifest\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.MANIFEST = \"manifest\";\n\n\t/**\n\t * The preload type for sound files, usually mp3, ogg, or wav. When loading via tags, audio is loaded into an\n\t * &lt;audio&gt; tag.\n\t * @property SOUND\n\t * @type {String}\n\t * @default sound\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.SOUND = \"sound\";\n\n\t/**\n\t * The preload type for video files, usually mp4, ts, or ogg. When loading via tags, video is loaded into an\n\t * &lt;video&gt; tag.\n\t * @property VIDEO\n\t * @type {String}\n\t * @default video\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.VIDEO = \"video\";\n\n\t/**\n\t * The preload type for SpriteSheet files. SpriteSheet files are JSON files that contain string image paths.\n\t * @property SPRITESHEET\n\t * @type {String}\n\t * @default spritesheet\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.SPRITESHEET = \"spritesheet\";\n\n\t/**\n\t * The preload type for SVG files.\n\t * @property SVG\n\t * @type {String}\n\t * @default svg\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.SVG = \"svg\";\n\n\t/**\n\t * The preload type for text files, which is also the default file type if the type can not be determined. Text is\n\t * loaded as raw text.\n\t * @property TEXT\n\t * @type {String}\n\t * @default text\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.TEXT = \"text\";\n\n\t/**\n\t * The preload type for xml files. XML is loaded into an XML document.\n\t * @property XML\n\t * @type {String}\n\t * @default xml\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.XML = \"xml\";\n\n\tcreatejs.Types = s;\n}());\n\n//##############################################################################\n// Elements.js\n//##############################################################################\n\n(function () {\n\n\t/**\n\t * Convenience methods for creating various elements used by PrelaodJS.\n\t *\n\t * @class DomUtils\n\t */\n\tvar s = {};\n\n\ts.a = function () {\n\t\treturn s.el(\"a\");\n\t}\n\n\ts.svg = function () {\n\t\treturn s.el(\"svg\");\n\t}\n\n\ts.object = function () {\n\t\treturn s.el(\"object\");\n\t}\n\n\ts.image = function () {\n\t\treturn s.el(\"image\");\n\t}\n\n\ts.img = function () {\n\t\treturn s.el(\"img\");\n\t}\n\n\ts.style = function () {\n\t\treturn s.el(\"style\");\n\t}\n\n\ts.link = function () {\n\t\treturn s.el(\"link\");\n\t}\n\n\ts.script = function () {\n\t\treturn s.el(\"script\");\n\t}\n\n\ts.audio = function () {\n\t\treturn s.el(\"audio\");\n\t}\n\n\ts.video = function () {\n\t\treturn s.el(\"video\");\n\t}\n\n\ts.text = function (value) {\n\t\treturn document.createTextNode(value);\n\t}\n\n\ts.el = function (name) {\n\t\treturn document.createElement(name);\n\t}\n\n\tcreatejs.Elements = s;\n\n}());\n\n//##############################################################################\n// DomUtils.js\n//##############################################################################\n\n(function () {\n\n\t/**\n\t * A few utilities for interacting with the dom.\n\t * @class DomUtils\n\t */\n\tvar s = {\n\t\tcontainer: null\n\t};\n\n\ts.appendToHead = function (el) {\n\t\ts.getHead().appendChild(el);\n\t}\n\n\ts.appendToBody = function (el) {\n\t\tif (s.container == null) {\n\t\t\ts.container = document.createElement(\"div\");\n\t\t\ts.container.id = \"preloadjs-container\";\n\t\t\tvar style = s.container.style;\n\t\t\tstyle.visibility = \"hidden\";\n\t\t\tstyle.position = \"absolute\";\n\t\t\tstyle.width = s.container.style.height = \"10px\";\n\t\t\tstyle.overflow = \"hidden\";\n\t\t\tstyle.transform = style.msTransform = style.webkitTransform = style.oTransform = \"translate(-10px, -10px)\"; //LM: Not working\n\t\t\ts.getBody().appendChild(s.container);\n\t\t}\n\t\ts.container.appendChild(el);\n\t}\n\n\ts.getHead = function () {\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\n\t}\n\n\ts.getBody = function () {\n\t\treturn document.body || document.getElementsByTagName(\"body\")[0];\n\t}\n\n\ts.removeChild = function (el) {\n\t\tif (el.parent) {\n\t\t\tel.parent.removeChild(el);\n\t\t}\n\t}\n\n\t/**\n\t * Check if item is a valid HTMLImageElement\n\t * @method isImageTag\n\t * @param {Object} item\n\t * @returns {Boolean}\n\t * @static\n\t */\n\ts.isImageTag = function (item) {\n\t\treturn item instanceof HTMLImageElement;\n\t};\n\n\t/**\n\t * Check if item is a valid HTMLAudioElement\n\t * @method isAudioTag\n\t * @param {Object} item\n\t * @returns {Boolean}\n\t * @static\n\t */\n\ts.isAudioTag = function (item) {\n\t\tif (window.HTMLAudioElement) {\n\t\t\treturn item instanceof HTMLAudioElement;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Check if item is a valid HTMLVideoElement\n\t * @method isVideoTag\n\t * @param {Object} item\n\t * @returns {Boolean}\n\t * @static\n\t */\n\ts.isVideoTag = function (item) {\n\t\tif (window.HTMLVideoElement) {\n\t\t\treturn item instanceof HTMLVideoElement;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tcreatejs.DomUtils = s;\n\n}());\n\n//##############################################################################\n// RequestUtils.js\n//##############################################################################\n\n(function () {\n\n\t/**\n\t * Utilities that assist with parsing load items, and determining file types, etc.\n\t * @class RequestUtils\n\t */\n\tvar s = {};\n\n\t/**\n\t * Determine if a specific type should be loaded as a binary file. Currently, only images and items marked\n\t * specifically as \"binary\" are loaded as binary. Note that audio is <b>not</b> a binary type, as we can not play\n\t * back using an audio tag if it is loaded as binary. Plugins can change the item type to binary to ensure they get\n\t * a binary result to work with. Binary files are loaded using XHR2. Types are defined as static constants on\n\t * {{#crossLink \"AbstractLoader\"}}{{/crossLink}}.\n\t * @method isBinary\n\t * @param {String} type The item type.\n\t * @return {Boolean} If the specified type is binary.\n\t * @static\n\t */\n\ts.isBinary = function (type) {\n\t\tswitch (type) {\n\t\t\tcase createjs.Types.IMAGE:\n\t\t\tcase createjs.Types.BINARY:\n\t\t\t\treturn true;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Determine if a specific type is a text-based asset, and should be loaded as UTF-8.\n\t * @method isText\n\t * @param {String} type The item type.\n\t * @return {Boolean} If the specified type is text.\n\t * @static\n\t */\n\ts.isText = function (type) {\n\t\tswitch (type) {\n\t\t\tcase createjs.Types.TEXT:\n\t\t\tcase createjs.Types.JSON:\n\t\t\tcase createjs.Types.MANIFEST:\n\t\t\tcase createjs.Types.XML:\n\t\t\tcase createjs.Types.CSS:\n\t\t\tcase createjs.Types.SVG:\n\t\t\tcase createjs.Types.JAVASCRIPT:\n\t\t\tcase createjs.Types.SPRITESHEET:\n\t\t\t\treturn true;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Determine the type of the object using common extensions. Note that the type can be passed in with the load item\n\t * if it is an unusual extension.\n\t * @method getTypeByExtension\n\t * @param {String} extension The file extension to use to determine the load type.\n\t * @return {String} The determined load type (for example, `createjs.Types.IMAGE`). Will return `null` if\n\t * the type can not be determined by the extension.\n\t * @static\n\t */\n\ts.getTypeByExtension = function (extension) {\n\t\tif (extension == null) {\n\t\t\treturn createjs.Types.TEXT;\n\t\t}\n\n\t\tswitch (extension.toLowerCase()) {\n\t\t\tcase \"jpeg\":\n\t\t\tcase \"jpg\":\n\t\t\tcase \"gif\":\n\t\t\tcase \"png\":\n\t\t\tcase \"webp\":\n\t\t\tcase \"bmp\":\n\t\t\t\treturn createjs.Types.IMAGE;\n\t\t\tcase \"ogg\":\n\t\t\tcase \"mp3\":\n\t\t\tcase \"webm\":\n\t\t\t\treturn createjs.Types.SOUND;\n\t\t\tcase \"mp4\":\n\t\t\tcase \"ts\":\n\t\t\t\treturn createjs.Types.VIDEO;\n\t\t\tcase \"json\":\n\t\t\t\treturn createjs.Types.JSON;\n\t\t\tcase \"xml\":\n\t\t\t\treturn createjs.Types.XML;\n\t\t\tcase \"css\":\n\t\t\t\treturn createjs.Types.CSS;\n\t\t\tcase \"js\":\n\t\t\t\treturn createjs.Types.JAVASCRIPT;\n\t\t\tcase 'svg':\n\t\t\t\treturn createjs.Types.SVG;\n\t\t\tdefault:\n\t\t\t\treturn createjs.Types.TEXT;\n\t\t}\n\t};\n\n\tcreatejs.RequestUtils = s;\n\n}());\n\n//##############################################################################\n// URLUtils.js\n//##############################################################################\n\n(function () {\n\n\t/**\n\t * Utilities that assist with parsing load items, and determining file types, etc.\n\t * @class URLUtils\n\t */\n\tvar s = {};\n\n\t/**\n\t * The Regular Expression used to test file URLS for an absolute path.\n\t * @property ABSOLUTE_PATH\n\t * @type {RegExp}\n\t * @static\n\t */\n\ts.ABSOLUTE_PATT = /^(?:\\w+:)?\\/{2}/i;\n\n\t/**\n\t * The Regular Expression used to test file URLS for a relative path.\n\t * @property RELATIVE_PATH\n\t * @type {RegExp}\n\t * @static\n\t */\n\ts.RELATIVE_PATT = (/^[./]*?\\//i);\n\n\t/**\n\t * The Regular Expression used to test file URLS for an extension. Note that URIs must already have the query string\n\t * removed.\n\t * @property EXTENSION_PATT\n\t * @type {RegExp}\n\t * @static\n\t */\n\ts.EXTENSION_PATT = /\\/?[^/]+\\.(\\w{1,5})$/i;\n\n\t/**\n\t * Parse a file path to determine the information we need to work with it. Currently, PreloadJS needs to know:\n\t * <ul>\n\t *     <li>If the path is absolute. Absolute paths start with a protocol (such as `http://`, `file://`, or\n\t *     `//networkPath`)</li>\n\t *     <li>If the path is relative. Relative paths start with `../` or `/path` (or similar)</li>\n\t *     <li>The file extension. This is determined by the filename with an extension. Query strings are dropped, and\n\t *     the file path is expected to follow the format `name.ext`.</li>\n\t * </ul>\n\t *\n\t * @method parseURI\n\t * @param {String} path\n\t * @returns {Object} An Object with an `absolute` and `relative` Boolean values,\n\t * \tthe pieces of the path (protocol, hostname, port, pathname, search, hash, host)\n\t * \tas well as an optional 'extension` property, which is the lowercase extension.\n\t *\n\t * @static\n\t */\n\ts.parseURI = function (path) {\n\t\tvar info = {\n\t\t\tabsolute: false,\n\t\t\trelative: false,\n\t\t\tprotocol: null,\n\t\t\thostname: null,\n\t\t\tport: null,\n\t\t\tpathname: null,\n\t\t\tsearch: null,\n\t\t\thash: null,\n\t\t\thost: null\n\t\t};\n\n\t\tif (path == null) { return info; }\n\n\t\t// Inject the path parts.\n\t\tvar parser = createjs.Elements.a();\n\t\tparser.href = path;\n\n\t\tfor (var n in info) {\n\t\t\tif (n in parser) {\n\t\t\t\tinfo[n] = parser[n];\n\t\t\t}\n\t\t}\n\n\t\t// Drop the query string\n\t\tvar queryIndex = path.indexOf(\"?\");\n\t\tif (queryIndex > -1) {\n\t\t\tpath = path.substr(0, queryIndex);\n\t\t}\n\n\t\t// Absolute\n\t\tvar match;\n\t\tif (s.ABSOLUTE_PATT.test(path)) {\n\t\t\tinfo.absolute = true;\n\n\t\t\t// Relative\n\t\t} else if (s.RELATIVE_PATT.test(path)) {\n\t\t\tinfo.relative = true;\n\t\t}\n\n\t\t// Extension\n\t\t// eslint-disable-next-line no-cond-assign\n\t\tif (match = path.match(s.EXTENSION_PATT)) {\n\t\t\tinfo.extension = match[1].toLowerCase();\n\t\t}\n\n\t\treturn info;\n\t};\n\n\t/**\n\t * Formats an object into a query string for either a POST or GET request.\n\t * @method formatQueryString\n\t * @param {Object} data The data to convert to a query string.\n\t * @param {Array} [query] Existing name/value pairs to append on to this query.\n\t * @static\n\t */\n\ts.formatQueryString = function (data, query) {\n\t\tif (data == null) {\n\t\t\tthrow new Error(\"You must specify data.\");\n\t\t}\n\t\tvar params = [];\n\t\tfor (var n in data) {\n\t\t\tparams.push(n + \"=\" + escape(data[n]));\n\t\t}\n\t\tif (query) {\n\t\t\tparams = params.concat(query);\n\t\t}\n\t\treturn params.join(\"&\");\n\t};\n\n\t/**\n\t * A utility method that builds a file path using a source and a data object, and formats it into a new path.\n\t * @method buildURI\n\t * @param {String} src The source path to add values to.\n\t * @param {Object} [data] Object used to append values to this request as a query string. Existing parameters on the\n\t * path will be preserved.\n\t * @returns {string} A formatted string that contains the path and the supplied parameters.\n\t * @static\n\t */\n\ts.buildURI = function (src, data) {\n\t\tif (data == null) {\n\t\t\treturn src;\n\t\t}\n\n\t\tvar query = [];\n\t\tvar idx = src.indexOf(\"?\");\n\n\t\tif (idx != -1) {\n\t\t\tvar q = src.slice(idx + 1);\n\t\t\tquery = query.concat(q.split(\"&\"));\n\t\t}\n\n\t\tif (idx != -1) {\n\t\t\treturn src.slice(0, idx) + \"?\" + this.formatQueryString(data, query);\n\t\t} else {\n\t\t\treturn src + \"?\" + this.formatQueryString(data, query);\n\t\t}\n\t};\n\n\t/**\n\t * @method isCrossDomain\n\t * @param {LoadItem|Object} item A load item with a `src` property.\n\t * @return {Boolean} If the load item is loading from a different domain than the current location.\n\t * @static\n\t */\n\ts.isCrossDomain = function (item) {\n\t\tvar target = createjs.Elements.a();\n\t\ttarget.href = item.src;\n\n\t\tvar host = createjs.Elements.a();\n\t\thost.href = location.href;\n\n\t\tvar crossdomain = (target.hostname != \"\") &&\n\t\t\t(target.port != host.port ||\n\t\t\t\ttarget.protocol != host.protocol ||\n\t\t\t\ttarget.hostname != host.hostname);\n\t\treturn crossdomain;\n\t};\n\n\t/**\n\t * @method isLocal\n\t * @param {LoadItem|Object} item A load item with a `src` property\n\t * @return {Boolean} If the load item is loading from the \"file:\" protocol. Assume that the host must be local as\n\t * well.\n\t * @static\n\t */\n\ts.isLocal = function (item) {\n\t\tvar target = createjs.Elements.a();\n\t\ttarget.href = item.src;\n\t\treturn target.hostname == \"\" && target.protocol == \"file:\";\n\t};\n\n\tcreatejs.URLUtils = s;\n\n}());\n\n//##############################################################################\n// AbstractLoader.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * The base loader, which defines all the generic methods, properties, and events. All loaders extend this class,\n\t * including the {{#crossLink \"LoadQueue\"}}{{/crossLink}}.\n\t * @class AbstractLoader\n\t * @param {LoadItem|object|string} loadItem The item to be loaded.\n\t * @param {Boolean} [preferXHR] Determines if the LoadItem should <em>try</em> and load using XHR, or take a\n\t * tag-based approach, which can be better in cross-domain situations. Not all loaders can load using one or the\n\t * other, so this is a suggested directive.\n\t * @param {String} [type] The type of loader. Loader types are defined as constants on the AbstractLoader class,\n\t * such as {{#crossLink \"IMAGE:property\"}}{{/crossLink}}, {{#crossLink \"CSS:property\"}}{{/crossLink}}, etc.\n\t * @extends EventDispatcher\n\t */\n\tfunction AbstractLoader(loadItem, preferXHR, type) {\n\t\tthis.EventDispatcher_constructor();\n\n\t\t// public properties\n\t\t/**\n\t\t * If the loader has completed loading. This provides a quick check, but also ensures that the different approaches\n\t\t * used for loading do not pile up resulting in more than one `complete` {{#crossLink \"Event\"}}{{/crossLink}}.\n\t\t * @property loaded\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.loaded = false;\n\n\t\t/**\n\t\t * Determine if the loader was canceled. Canceled loads will not fire complete events. Note that this property\n\t\t * is readonly, so {{#crossLink \"LoadQueue\"}}{{/crossLink}} queues should be closed using {{#crossLink \"LoadQueue/close\"}}{{/crossLink}}\n\t\t * instead.\n\t\t * @property canceled\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @readonly\n\t\t */\n\t\tthis.canceled = false;\n\n\t\t/**\n\t\t * The current load progress (percentage) for this item. This will be a number between 0 and 1.\n\t\t *\n\t\t * <h4>Example</h4>\n\t\t *\n\t\t *     var queue = new createjs.LoadQueue();\n\t\t *     queue.loadFile(\"largeImage.png\");\n\t\t *     queue.on(\"progress\", function() {\n\t\t *         console.log(\"Progress:\", queue.progress, event.progress);\n\t\t *     });\n\t\t *\n\t\t * @property progress\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.progress = 0;\n\n\t\t/**\n\t\t * The type of item this loader will load. See {{#crossLink \"AbstractLoader\"}}{{/crossLink}} for a full list of\n\t\t * supported types.\n\t\t * @property type\n\t\t * @type {String}\n\t\t */\n\t\tthis.type = type;\n\n\t\t/**\n\t\t * A formatter function that converts the loaded raw result into the final result. For example, the JSONLoader\n\t\t * converts a string of text into a JavaScript object. Not all loaders have a resultFormatter, and this property\n\t\t * can be overridden to provide custom formatting.\n\t\t *\n\t\t * Optionally, a resultFormatter can return a callback function in cases where the formatting needs to be\n\t\t * asynchronous, such as creating a new image. The callback function is passed 2 parameters, which are callbacks\n\t\t * to handle success and error conditions in the resultFormatter. Note that the resultFormatter method is\n\t\t * called in the current scope, as well as the success and error callbacks.\n\t\t *\n\t\t * <h4>Example asynchronous resultFormatter</h4>\n\t\t *\n\t\t * \tfunction _formatResult(loader) {\n\t\t * \t\treturn function(success, error) {\n\t\t * \t\t\tif (errorCondition) { error(errorDetailEvent); }\n\t\t * \t\t\tsuccess(result);\n\t\t * \t\t}\n\t\t * \t}\n\t\t * @property resultFormatter\n\t\t * @type {Function}\n\t\t * @default null\n\t\t */\n\t\tthis.resultFormatter = null;\n\n\t\t// protected properties\n\t\t/**\n\t\t * The {{#crossLink \"LoadItem\"}}{{/crossLink}} this loader represents. Note that this is null in a {{#crossLink \"LoadQueue\"}}{{/crossLink}},\n\t\t * but will be available on loaders such as {{#crossLink \"XMLLoader\"}}{{/crossLink}} and {{#crossLink \"ImageLoader\"}}{{/crossLink}}.\n\t\t * @property _item\n\t\t * @type {LoadItem|Object}\n\t\t * @private\n\t\t */\n\t\tif (loadItem) {\n\t\t\tthis._item = createjs.LoadItem.create(loadItem);\n\t\t} else {\n\t\t\tthis._item = null;\n\t\t}\n\n\t\t/**\n\t\t * Whether the loader will try and load content using XHR (true) or HTML tags (false).\n\t\t * @property _preferXHR\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tthis._preferXHR = preferXHR;\n\n\t\t/**\n\t\t * The loaded result after it is formatted by an optional {{#crossLink \"resultFormatter\"}}{{/crossLink}}. For\n\t\t * items that are not formatted, this will be the same as the {{#crossLink \"_rawResult:property\"}}{{/crossLink}}.\n\t\t * The result is accessed using the {{#crossLink \"getResult\"}}{{/crossLink}} method.\n\t\t * @property _result\n\t\t * @type {Object|String}\n\t\t * @private\n\t\t */\n\t\tthis._result = null;\n\n\t\t/**\n\t\t * The loaded result before it is formatted. The rawResult is accessed using the {{#crossLink \"getResult\"}}{{/crossLink}}\n\t\t * method, and passing `true`.\n\t\t * @property _rawResult\n\t\t * @type {Object|String}\n\t\t * @private\n\t\t */\n\t\tthis._rawResult = null;\n\n\t\t/**\n\t\t * A list of items that loaders load behind the scenes. This does not include the main item the loader is\n\t\t * responsible for loading. Examples of loaders that have sub-items include the {{#crossLink \"SpriteSheetLoader\"}}{{/crossLink}} and\n\t\t * {{#crossLink \"ManifestLoader\"}}{{/crossLink}}.\n\t\t * @property _loadItems\n\t\t * @type {null}\n\t\t * @protected\n\t\t */\n\t\tthis._loadedItems = null;\n\n\t\t/**\n\t\t * The attribute the items loaded using tags use for the source.\n\t\t * @type {string}\n\t\t * @default null\n\t\t * @private\n\t\t */\n\t\tthis._tagSrcAttribute = null;\n\n\t\t/**\n\t\t * An HTML tag (or similar) that a loader may use to load HTML content, such as images, scripts, etc.\n\t\t * @property _tag\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tthis._tag = null;\n\t}\n\n\tvar p = createjs.extend(AbstractLoader, createjs.EventDispatcher);\n\tvar s = AbstractLoader;\n\n\t// Remove these @deprecated properties after 1.0\n\ttry {\n\t\tObject.defineProperties(s, {\n\t\t\tPOST: { get: createjs.deprecate(function () { return createjs.Methods.POST; }, \"AbstractLoader.POST\") },\n\t\t\tGET: { get: createjs.deprecate(function () { return createjs.Methods.GET; }, \"AbstractLoader.GET\") },\n\n\t\t\tBINARY: { get: createjs.deprecate(function () { return createjs.Types.BINARY; }, \"AbstractLoader.BINARY\") },\n\t\t\tCSS: { get: createjs.deprecate(function () { return createjs.Types.CSS; }, \"AbstractLoader.CSS\") },\n\t\t\tFONT: { get: createjs.deprecate(function () { return createjs.Types.FONT; }, \"AbstractLoader.FONT\") },\n\t\t\tFONTCSS: { get: createjs.deprecate(function () { return createjs.Types.FONTCSS; }, \"AbstractLoader.FONTCSS\") },\n\t\t\tIMAGE: { get: createjs.deprecate(function () { return createjs.Types.IMAGE; }, \"AbstractLoader.IMAGE\") },\n\t\t\tJAVASCRIPT: { get: createjs.deprecate(function () { return createjs.Types.JAVASCRIPT; }, \"AbstractLoader.JAVASCRIPT\") },\n\t\t\tJSON: { get: createjs.deprecate(function () { return createjs.Types.JSON; }, \"AbstractLoader.JSON\") },\n\t\t\tJSONP: { get: createjs.deprecate(function () { return createjs.Types.JSONP; }, \"AbstractLoader.JSONP\") },\n\t\t\tMANIFEST: { get: createjs.deprecate(function () { return createjs.Types.MANIFEST; }, \"AbstractLoader.MANIFEST\") },\n\t\t\tSOUND: { get: createjs.deprecate(function () { return createjs.Types.SOUND; }, \"AbstractLoader.SOUND\") },\n\t\t\tVIDEO: { get: createjs.deprecate(function () { return createjs.Types.VIDEO; }, \"AbstractLoader.VIDEO\") },\n\t\t\tSPRITESHEET: { get: createjs.deprecate(function () { return createjs.Types.SPRITESHEET; }, \"AbstractLoader.SPRITESHEET\") },\n\t\t\tSVG: { get: createjs.deprecate(function () { return createjs.Types.SVG; }, \"AbstractLoader.SVG\") },\n\t\t\tTEXT: { get: createjs.deprecate(function () { return createjs.Types.TEXT; }, \"AbstractLoader.TEXT\") },\n\t\t\tXML: { get: createjs.deprecate(function () { return createjs.Types.XML; }, \"AbstractLoader.XML\") }\n\t\t});\n\t} catch (e) { }\n\n\t// Events\n\t/**\n\t * The {{#crossLink \"ProgressEvent\"}}{{/crossLink}} that is fired when the overall progress changes. Prior to\n\t * version 0.6.0, this was just a regular {{#crossLink \"Event\"}}{{/crossLink}}.\n\t * @event progress\n\t * @since 0.3.0\n\t */\n\n\t/**\n\t * The {{#crossLink \"Event\"}}{{/crossLink}} that is fired when a load starts.\n\t * @event loadstart\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @since 0.3.1\n\t */\n\n\t/**\n\t * The {{#crossLink \"Event\"}}{{/crossLink}} that is fired when the entire queue has been loaded.\n\t * @event complete\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @since 0.3.0\n\t */\n\n\t/**\n\t * The {{#crossLink \"ErrorEvent\"}}{{/crossLink}} that is fired when the loader encounters an error. If the error was\n\t * encountered by a file, the event will contain the item that caused the error. Prior to version 0.6.0, this was\n\t * just a regular {{#crossLink \"Event\"}}{{/crossLink}}.\n\t * @event error\n\t * @since 0.3.0\n\t */\n\n\t/**\n\t * The {{#crossLink \"Event\"}}{{/crossLink}} that is fired when the loader encounters an internal file load error.\n\t * This enables loaders to maintain internal queues, and surface file load errors.\n\t * @event fileerror\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type (\"fileerror\")\n\t * @param {LoadItem|object} The item that encountered the error\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * The {{#crossLink \"Event\"}}{{/crossLink}} that is fired when a loader internally loads a file. This enables\n\t * loaders such as {{#crossLink \"ManifestLoader\"}}{{/crossLink}} to maintain internal {{#crossLink \"LoadQueue\"}}{{/crossLink}}s\n\t * and notify when they have loaded a file. The {{#crossLink \"LoadQueue\"}}{{/crossLink}} class dispatches a\n\t * slightly different {{#crossLink \"LoadQueue/fileload:event\"}}{{/crossLink}} event.\n\t * @event fileload\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type (\"fileload\")\n\t * @param {Object} item The file item which was specified in the {{#crossLink \"LoadQueue/loadFile\"}}{{/crossLink}}\n\t * or {{#crossLink \"LoadQueue/loadManifest\"}}{{/crossLink}} call. If only a string path or tag was specified, the\n\t * object will contain that value as a `src` property.\n\t * @param {Object} result The HTML tag or parsed result of the loaded item.\n\t * @param {Object} rawResult The unprocessed result, usually the raw text or binary data before it is converted\n\t * to a usable object.\n\t * @since 0.6.0\n\t */\n\n\t/**\n\t * The {{#crossLink \"Event\"}}{{/crossLink}} that is fired after the internal request is created, but before a load.\n\t * This allows updates to the loader for specific loading needs, such as binary or XHR image loading.\n\t * @event initialize\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type (\"initialize\")\n\t * @param {AbstractLoader} loader The loader that has been initialized.\n\t */\n\n\n\t/**\n\t * Get a reference to the manifest item that is loaded by this loader. In some cases this will be the value that was\n\t * passed into {{#crossLink \"LoadQueue\"}}{{/crossLink}} using {{#crossLink \"LoadQueue/loadFile\"}}{{/crossLink}} or\n\t * {{#crossLink \"LoadQueue/loadManifest\"}}{{/crossLink}}. However if only a String path was passed in, then it will\n\t * be a {{#crossLink \"LoadItem\"}}{{/crossLink}}.\n\t * @method getItem\n\t * @return {Object} The manifest item that this loader is responsible for loading.\n\t * @since 0.6.0\n\t */\n\tp.getItem = function () {\n\t\treturn this._item;\n\t};\n\n\t/**\n\t * Get a reference to the content that was loaded by the loader (only available after the {{#crossLink \"complete:event\"}}{{/crossLink}}\n\t * event is dispatched.\n\t * @method getResult\n\t * @param {Boolean} [raw=false] Determines if the returned result will be the formatted content, or the raw loaded\n\t * data (if it exists).\n\t * @return {Object}\n\t * @since 0.6.0\n\t */\n\tp.getResult = function (raw) {\n\t\treturn raw ? this._rawResult : this._result;\n\t};\n\n\t/**\n\t * Return the `tag` this object creates or uses for loading.\n\t * @method getTag\n\t * @return {Object} The tag instance\n\t * @since 0.6.0\n\t */\n\tp.getTag = function () {\n\t\treturn this._tag;\n\t};\n\n\t/**\n\t * Set the `tag` this item uses for loading.\n\t * @method setTag\n\t * @param {Object} tag The tag instance\n\t * @since 0.6.0\n\t */\n\tp.setTag = function (tag) {\n\t\tthis._tag = tag;\n\t};\n\n\t/**\n\t * Begin loading the item. This method is required when using a loader by itself.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var queue = new createjs.LoadQueue();\n\t *      queue.on(\"complete\", handleComplete);\n\t *      queue.loadManifest(fileArray, false); // Note the 2nd argument that tells the queue not to start loading yet\n\t *      queue.load();\n\t *\n\t * @method load\n\t */\n\tp.load = function () {\n\t\tthis._createRequest();\n\n\t\tthis._request.on(\"complete\", this, this);\n\t\tthis._request.on(\"progress\", this, this);\n\t\tthis._request.on(\"loadStart\", this, this);\n\t\tthis._request.on(\"abort\", this, this);\n\t\tthis._request.on(\"timeout\", this, this);\n\t\tthis._request.on(\"error\", this, this);\n\n\t\tvar evt = new createjs.Event(\"initialize\");\n\t\tevt.loader = this._request;\n\t\tthis.dispatchEvent(evt);\n\n\t\tthis._request.load();\n\t};\n\n\t/**\n\t * Close the the item. This will stop any open requests (although downloads using HTML tags may still continue in\n\t * the background), but events will not longer be dispatched.\n\t * @method cancel\n\t */\n\tp.cancel = function () {\n\t\tthis.canceled = true;\n\t\tthis.destroy();\n\t};\n\n\t/**\n\t * Clean up the loader.\n\t * @method destroy\n\t */\n\tp.destroy = function () {\n\t\tif (this._request) {\n\t\t\tthis._request.removeAllEventListeners();\n\t\t\tthis._request.destroy();\n\t\t}\n\n\t\tthis._request = null;\n\n\t\tthis._item = null;\n\t\tthis._rawResult = null;\n\t\tthis._result = null;\n\n\t\tthis._loadItems = null;\n\n\t\tthis.removeAllEventListeners();\n\t};\n\n\t/**\n\t * Get any items loaded internally by the loader. The enables loaders such as {{#crossLink \"ManifestLoader\"}}{{/crossLink}}\n\t * to expose items it loads internally.\n\t * @method getLoadedItems\n\t * @return {Array} A list of the items loaded by the loader.\n\t * @since 0.6.0\n\t */\n\tp.getLoadedItems = function () {\n\t\treturn this._loadedItems;\n\t};\n\n\n\t// Private methods\n\t/**\n\t * Create an internal request used for loading. By default, an {{#crossLink \"XHRRequest\"}}{{/crossLink}} or\n\t * {{#crossLink \"TagRequest\"}}{{/crossLink}} is created, depending on the value of {{#crossLink \"preferXHR:property\"}}{{/crossLink}}.\n\t * Other loaders may override this to use different request types, such as {{#crossLink \"ManifestLoader\"}}{{/crossLink}},\n\t * which uses {{#crossLink \"JSONLoader\"}}{{/crossLink}} or {{#crossLink \"JSONPLoader\"}}{{/crossLink}} under the hood.\n\t * @method _createRequest\n\t * @protected\n\t */\n\tp._createRequest = function () {\n\t\tif (!this._preferXHR) {\n\t\t\tthis._request = new createjs.TagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute);\n\t\t} else {\n\t\t\tthis._request = new createjs.XHRRequest(this._item);\n\t\t}\n\t};\n\n\t/**\n\t * Create the HTML tag used for loading. This method does nothing by default, and needs to be implemented\n\t * by loaders that require tag loading.\n\t * @method _createTag\n\t * @param {String} src The tag source\n\t * @return {HTMLElement} The tag that was created\n\t * @protected\n\t */\n\tp._createTag = function (src) { return null; };\n\n\t/**\n\t * Dispatch a loadstart {{#crossLink \"Event\"}}{{/crossLink}}. Please see the {{#crossLink \"AbstractLoader/loadstart:event\"}}{{/crossLink}}\n\t * event for details on the event payload.\n\t * @method _sendLoadStart\n\t * @protected\n\t */\n\tp._sendLoadStart = function () {\n\t\tif (this._isCanceled()) { return; }\n\t\tthis.dispatchEvent(\"loadstart\");\n\t};\n\n\t/**\n\t * Dispatch a {{#crossLink \"ProgressEvent\"}}{{/crossLink}}.\n\t * @method _sendProgress\n\t * @param {Number | Object} value The progress of the loaded item, or an object containing <code>loaded</code>\n\t * and <code>total</code> properties.\n\t * @protected\n\t */\n\tp._sendProgress = function (value) {\n\t\tif (this._isCanceled()) { return; }\n\t\tvar event = null;\n\t\tif (typeof (value) == \"number\") {\n\t\t\tthis.progress = value;\n\t\t\tevent = new createjs.ProgressEvent(this.progress);\n\t\t} else {\n\t\t\tevent = value;\n\t\t\tthis.progress = value.loaded / value.total;\n\t\t\tevent.progress = this.progress;\n\t\t\tif (isNaN(this.progress) || this.progress == Infinity) { this.progress = 0; }\n\t\t}\n\t\tthis.hasEventListener(\"progress\") && this.dispatchEvent(event);\n\t};\n\n\t/**\n\t * Dispatch a complete {{#crossLink \"Event\"}}{{/crossLink}}. Please see the {{#crossLink \"AbstractLoader/complete:event\"}}{{/crossLink}} event\n\t * @method _sendComplete\n\t * @protected\n\t */\n\tp._sendComplete = function () {\n\t\tif (this._isCanceled()) { return; }\n\n\t\tthis.loaded = true;\n\n\t\tvar event = new createjs.Event(\"complete\");\n\t\tevent.rawResult = this._rawResult;\n\n\t\tif (this._result != null) {\n\t\t\tevent.result = this._result;\n\t\t}\n\n\t\tthis.dispatchEvent(event);\n\t};\n\n\t/**\n\t * Dispatch an error {{#crossLink \"Event\"}}{{/crossLink}}. Please see the {{#crossLink \"AbstractLoader/error:event\"}}{{/crossLink}}\n\t * event for details on the event payload.\n\t * @method _sendError\n\t * @param {ErrorEvent} event The event object containing specific error properties.\n\t * @protected\n\t */\n\tp._sendError = function (event) {\n\t\tif (this._isCanceled() || !this.hasEventListener(\"error\")) { return; }\n\t\tif (event == null) {\n\t\t\tevent = new createjs.ErrorEvent(\"PRELOAD_ERROR_EMPTY\"); // TODO: Populate error\n\t\t}\n\t\tthis.dispatchEvent(event);\n\t};\n\n\t/**\n\t * Determine if the load has been canceled. This is important to ensure that method calls or asynchronous events\n\t * do not cause issues after the queue has been cleaned up.\n\t * @method _isCanceled\n\t * @return {Boolean} If the loader has been canceled.\n\t * @protected\n\t */\n\tp._isCanceled = function () {\n\t\tif (window.createjs == null || this.canceled) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * A custom result formatter function, which is called just before a request dispatches its complete event. Most\n\t * loader types already have an internal formatter, but this can be user-overridden for custom formatting. The\n\t * formatted result will be available on Loaders using {{#crossLink \"getResult\"}}{{/crossLink}}, and passing `true`.\n\t * @property resultFormatter\n\t * @type Function\n\t * @return {Object} The formatted result\n\t * @since 0.6.0\n\t */\n\tp.resultFormatter = null;\n\n\t/**\n\t * Handle events from internal requests. By default, loaders will handle, and redispatch the necessary events, but\n\t * this method can be overridden for custom behaviours.\n\t * @method handleEvent\n\t * @param {Event} event The event that the internal request dispatches.\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp.handleEvent = function (event) {\n\t\tswitch (event.type) {\n\t\t\tcase \"complete\":\n\t\t\t\tthis._rawResult = event.target._response;\n\t\t\t\tvar result = this.resultFormatter && this.resultFormatter(this);\n\t\t\t\t// The resultFormatter is asynchronous\n\t\t\t\tif (result instanceof Function) {\n\t\t\t\t\tresult.call(this,\n\t\t\t\t\t\tcreatejs.proxy(this._resultFormatSuccess, this),\n\t\t\t\t\t\tcreatejs.proxy(this._resultFormatFailed, this)\n\t\t\t\t\t);\n\t\t\t\t\t// The result formatter is synchronous\n\t\t\t\t} else {\n\t\t\t\t\tthis._result = result || this._rawResult;\n\t\t\t\t\tthis._sendComplete();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"progress\":\n\t\t\t\tthis._sendProgress(event);\n\t\t\t\tbreak;\n\t\t\tcase \"error\":\n\t\t\t\tthis._sendError(event);\n\t\t\t\tbreak;\n\t\t\tcase \"loadstart\":\n\t\t\t\tthis._sendLoadStart();\n\t\t\t\tbreak;\n\t\t\tcase \"abort\":\n\t\t\tcase \"timeout\":\n\t\t\t\tif (!this._isCanceled()) {\n\t\t\t\t\tthis.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_\" + event.type.toUpperCase() + \"_ERROR\"));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t/**\n\t * The \"success\" callback passed to {{#crossLink \"AbstractLoader/resultFormatter\"}}{{/crossLink}} asynchronous\n\t * functions.\n\t * @method _resultFormatSuccess\n\t * @param {Object} result The formatted result\n\t * @private\n\t */\n\tp._resultFormatSuccess = function (result) {\n\t\tthis._result = result;\n\t\tthis._sendComplete();\n\t};\n\n\t/**\n\t * The \"error\" callback passed to {{#crossLink \"AbstractLoader/resultFormatter\"}}{{/crossLink}} asynchronous\n\t * functions.\n\t * @method _resultFormatSuccess\n\t * @param {Object} error The error event\n\t * @private\n\t */\n\tp._resultFormatFailed = function (event) {\n\t\tthis._sendError(event);\n\t};\n\n\t/**\n\t * @method toString\n\t * @return {String} a string representation of the instance.\n\t */\n\tp.toString = function () {\n\t\treturn \"[PreloadJS AbstractLoader]\";\n\t};\n\n\tcreatejs.AbstractLoader = createjs.promote(AbstractLoader, \"EventDispatcher\");\n\n}());\n\n//##############################################################################\n// AbstractMediaLoader.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * The AbstractMediaLoader is a base class that handles some of the shared methods and properties of loaders that\n\t * handle HTML media elements, such as Video and Audio.\n\t * @class AbstractMediaLoader\n\t * @param {LoadItem|Object} loadItem\n\t * @param {Boolean} preferXHR\n\t * @param {String} type The type of media to load. Usually \"video\" or \"audio\".\n\t * @extends AbstractLoader\n\t * @constructor\n\t */\n\tfunction AbstractMediaLoader(loadItem, preferXHR, type) {\n\t\tthis.AbstractLoader_constructor(loadItem, preferXHR, type);\n\n\t\t// public properties\n\t\tthis.resultFormatter = this._formatResult;\n\n\t\t// protected properties\n\t\tthis._tagSrcAttribute = \"src\";\n\n\t\tthis.on(\"initialize\", this._updateXHR, this);\n\t}\n\n\tvar p = createjs.extend(AbstractMediaLoader, createjs.AbstractLoader);\n\n\t// static properties\n\t// public methods\n\tp.load = function () {\n\t\t// TagRequest will handle most of this, but Sound / Video need a few custom properties, so just handle them here.\n\t\tif (!this._tag) {\n\t\t\tthis._tag = this._createTag(this._item.src);\n\t\t}\n\n\t\tthis._tag.preload = \"auto\";\n\t\tthis._tag.load();\n\n\t\tthis.AbstractLoader_load();\n\t};\n\n\t// protected methods\n\t/**\n\t * Creates a new tag for loading if it doesn't exist yet.\n\t * @method _createTag\n\t * @private\n\t */\n\tp._createTag = function () { };\n\n\n\tp._createRequest = function () {\n\t\tif (!this._preferXHR) {\n\t\t\tthis._request = new createjs.MediaTagRequest(this._item, this._tag || this._createTag(), this._tagSrcAttribute);\n\t\t} else {\n\t\t\tthis._request = new createjs.XHRRequest(this._item);\n\t\t}\n\t};\n\n\t// protected methods\n\t/**\n\t * Before the item loads, set its mimeType and responseType.\n\t * @property _updateXHR\n\t * @param {Event} event\n\t * @private\n\t */\n\tp._updateXHR = function (event) {\n\t\t// Only exists for XHR\n\t\tif (event.loader.setResponseType) {\n\t\t\tevent.loader.setResponseType(\"blob\");\n\t\t}\n\t};\n\n\t/**\n\t * The result formatter for media files.\n\t * @method _formatResult\n\t * @param {AbstractLoader} loader\n\t * @returns {HTMLVideoElement|HTMLAudioElement}\n\t * @private\n\t */\n\tp._formatResult = function (loader) {\n\t\tthis._tag.removeEventListener && this._tag.removeEventListener(\"canplaythrough\", this._loadedHandler);\n\t\tthis._tag.onstalled = null;\n\t\tif (this._preferXHR) {\n\t\t\tvar URL = window.URL || window.webkitURL;\n\t\t\tvar result = loader.getResult(true);\n\n\t\t\tloader.getTag().src = URL.createObjectURL(result);\n\t\t}\n\t\treturn loader.getTag();\n\t};\n\n\tcreatejs.AbstractMediaLoader = createjs.promote(AbstractMediaLoader, \"AbstractLoader\");\n\n}());\n\n//##############################################################################\n// AbstractRequest.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * A base class for actual data requests, such as {{#crossLink \"XHRRequest\"}}{{/crossLink}}, {{#crossLink \"TagRequest\"}}{{/crossLink}},\n\t * and {{#crossLink \"MediaRequest\"}}{{/crossLink}}. PreloadJS loaders will typically use a data loader under the\n\t * hood to get data.\n\t * @class AbstractRequest\n\t * @param {LoadItem} item\n\t * @constructor\n\t */\n\tvar AbstractRequest = function (item) {\n\t\tthis._item = item;\n\t};\n\n\tvar p = createjs.extend(AbstractRequest, createjs.EventDispatcher);\n\n\t// public methods\n\t/**\n\t * Begin a load.\n\t * @method load\n\t */\n\tp.load = function () { };\n\n\t/**\n\t * Clean up a request.\n\t * @method destroy\n\t */\n\tp.destroy = function () { };\n\n\t/**\n\t * Cancel an in-progress request.\n\t * @method cancel\n\t */\n\tp.cancel = function () { };\n\n\tcreatejs.AbstractRequest = createjs.promote(AbstractRequest, \"EventDispatcher\");\n\n}());\n\n//##############################################################################\n// TagRequest.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * An {{#crossLink \"AbstractRequest\"}}{{/crossLink}} that loads HTML tags, such as images and scripts.\n\t * @class TagRequest\n\t * @param {LoadItem} loadItem\n\t * @param {HTMLElement} tag\n\t * @param {String} srcAttribute The tag attribute that specifies the source, such as \"src\", \"href\", etc.\n\t */\n\tfunction TagRequest(loadItem, tag, srcAttribute) {\n\t\tthis.AbstractRequest_constructor(loadItem);\n\n\t\t// protected properties\n\t\t/**\n\t\t * The HTML tag instance that is used to load.\n\t\t * @property _tag\n\t\t * @type {HTMLElement}\n\t\t * @protected\n\t\t */\n\t\tthis._tag = tag;\n\n\t\t/**\n\t\t * The tag attribute that specifies the source, such as \"src\", \"href\", etc.\n\t\t * @property _tagSrcAttribute\n\t\t * @type {String}\n\t\t * @protected\n\t\t */\n\t\tthis._tagSrcAttribute = srcAttribute;\n\n\t\t/**\n\t\t * A method closure used for handling the tag load event.\n\t\t * @property _loadedHandler\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tthis._loadedHandler = createjs.proxy(this._handleTagComplete, this);\n\n\t\t/**\n\t\t * Determines if the element was added to the DOM automatically by PreloadJS, so it can be cleaned up after.\n\t\t * @property _addedToDOM\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tthis._addedToDOM = false;\n\n\t}\n\n\tvar p = createjs.extend(TagRequest, createjs.AbstractRequest);\n\n\t// public methods\n\tp.load = function () {\n\t\tthis._tag.onload = createjs.proxy(this._handleTagComplete, this);\n\t\tthis._tag.onreadystatechange = createjs.proxy(this._handleReadyStateChange, this);\n\t\tthis._tag.onerror = createjs.proxy(this._handleError, this);\n\n\t\tvar evt = new createjs.Event(\"initialize\");\n\t\tevt.loader = this._tag;\n\n\t\tthis.dispatchEvent(evt);\n\n\t\tthis._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout);\n\n\t\tthis._tag[this._tagSrcAttribute] = this._item.src;\n\n\t\t// wdg:: Append the tag AFTER setting the src, or SVG loading on iOS will fail.\n\t\tif (this._tag.parentNode == null) {\n\t\t\tcreatejs.DomUtils.appendToBody(this._tag);\n\t\t\tthis._addedToDOM = true;\n\t\t}\n\t};\n\n\tp.destroy = function () {\n\t\tthis._clean();\n\t\tthis._tag = null;\n\n\t\tthis.AbstractRequest_destroy();\n\t};\n\n\t// private methods\n\t/**\n\t * Handle the readyStateChange event from a tag. We need this in place of the `onload` callback (mainly SCRIPT\n\t * and LINK tags), but other cases may exist.\n\t * @method _handleReadyStateChange\n\t * @private\n\t */\n\tp._handleReadyStateChange = function () {\n\t\tclearTimeout(this._loadTimeout);\n\t\t// This is strictly for tags in browsers that do not support onload.\n\t\tvar tag = this._tag;\n\n\t\t// Complete is for old IE support.\n\t\tif (tag.readyState == \"loaded\" || tag.readyState == \"complete\") {\n\t\t\tthis._handleTagComplete();\n\t\t}\n\t};\n\n\t/**\n\t * Handle any error events from the tag.\n\t * @method _handleError\n\t * @protected\n\t */\n\tp._handleError = function () {\n\t\tthis._clean();\n\t\tthis.dispatchEvent(\"error\");\n\t};\n\n\t/**\n\t * Handle the tag's onload callback.\n\t * @method _handleTagComplete\n\t * @private\n\t */\n\tp._handleTagComplete = function () {\n\t\tthis._rawResult = this._tag;\n\t\tthis._result = this.resultFormatter && this.resultFormatter(this) || this._rawResult;\n\n\t\tthis._clean();\n\n\t\tthis.dispatchEvent(\"complete\");\n\t};\n\n\t/**\n\t * The tag request has not loaded within the time specified in loadTimeout.\n\t * @method _handleError\n\t * @param {Object} event The XHR error event.\n\t * @private\n\t */\n\tp._handleTimeout = function () {\n\t\tthis._clean();\n\t\tthis.dispatchEvent(new createjs.Event(\"timeout\"));\n\t};\n\n\t/**\n\t * Remove event listeners, but don't destroy the request object\n\t * @method _clean\n\t * @private\n\t */\n\tp._clean = function () {\n\t\tthis._tag.onload = null;\n\t\tthis._tag.onreadystatechange = null;\n\t\tthis._tag.onerror = null;\n\t\tif (this._addedToDOM && this._tag.parentNode != null) {\n\t\t\tthis._tag.parentNode.removeChild(this._tag);\n\t\t}\n\t\tclearTimeout(this._loadTimeout);\n\t};\n\n\t/**\n\t * Handle a stalled audio event. The main place this happens is with HTMLAudio in Chrome when playing back audio\n\t * that is already in a load, but not complete.\n\t * @method _handleStalled\n\t * @private\n\t */\n\tp._handleStalled = function () {\n\t\t//Ignore, let the timeout take care of it. Sometimes its not really stopped.\n\t};\n\n\tcreatejs.TagRequest = createjs.promote(TagRequest, \"AbstractRequest\");\n\n}());\n\n//##############################################################################\n// MediaTagRequest.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * An {{#crossLink \"TagRequest\"}}{{/crossLink}} that loads HTML tags for video and audio.\n\t * @class MediaTagRequest\n\t * @param {LoadItem} loadItem\n\t * @param {HTMLAudioElement|HTMLVideoElement} tag\n\t * @param {String} srcAttribute The tag attribute that specifies the source, such as \"src\", \"href\", etc.\n\t * @constructor\n\t */\n\tfunction MediaTagRequest(loadItem, tag, srcAttribute) {\n\t\tthis.AbstractRequest_constructor(loadItem);\n\n\t\t// protected properties\n\t\tthis._tag = tag;\n\t\tthis._tagSrcAttribute = srcAttribute;\n\t\tthis._loadedHandler = createjs.proxy(this._handleTagComplete, this);\n\t}\n\n\tvar p = createjs.extend(MediaTagRequest, createjs.TagRequest);\n\tvar s = MediaTagRequest;\n\n\t// public methods\n\tp.load = function () {\n\t\tvar sc = createjs.proxy(this._handleStalled, this);\n\t\tthis._stalledCallback = sc;\n\n\t\tvar pc = createjs.proxy(this._handleProgress, this);\n\t\tthis._handleProgress = pc;\n\n\t\tthis._tag.addEventListener(\"stalled\", sc);\n\t\tthis._tag.addEventListener(\"progress\", pc);\n\n\t\t// This will tell us when audio is buffered enough to play through, but not when its loaded.\n\t\t// The tag doesn't keep loading in Chrome once enough has buffered, and we have decided that behaviour is sufficient.\n\t\tthis._tag.addEventListener && this._tag.addEventListener(\"canplaythrough\", this._loadedHandler, false); // canplaythrough callback doesn't work in Chrome, so we use an event.\n\n\t\tthis.TagRequest_load();\n\t};\n\n\t// private methods\n\tp._handleReadyStateChange = function () {\n\t\tclearTimeout(this._loadTimeout);\n\t\t// This is strictly for tags in browsers that do not support onload.\n\t\tvar tag = this._tag;\n\n\t\t// Complete is for old IE support.\n\t\tif (tag.readyState == \"loaded\" || tag.readyState == \"complete\") {\n\t\t\tthis._handleTagComplete();\n\t\t}\n\t};\n\n\tp._handleStalled = function () {\n\t\t//Ignore, let the timeout take care of it. Sometimes its not really stopped.\n\t};\n\n\t/**\n\t * An XHR request has reported progress.\n\t * @method _handleProgress\n\t * @param {Object} event The XHR progress event.\n\t * @private\n\t */\n\tp._handleProgress = function (event) {\n\t\tif (!event || event.loaded > 0 && event.total == 0) {\n\t\t\treturn; // Sometimes we get no \"total\", so just ignore the progress event.\n\t\t}\n\n\t\tvar newEvent = new createjs.ProgressEvent(event.loaded, event.total);\n\t\tthis.dispatchEvent(newEvent);\n\t};\n\n\t// protected methods\n\tp._clean = function () {\n\t\tthis._tag.removeEventListener && this._tag.removeEventListener(\"canplaythrough\", this._loadedHandler);\n\t\tthis._tag.removeEventListener(\"stalled\", this._stalledCallback);\n\t\tthis._tag.removeEventListener(\"progress\", this._progressCallback);\n\n\t\tthis.TagRequest__clean();\n\t};\n\n\tcreatejs.MediaTagRequest = createjs.promote(MediaTagRequest, \"TagRequest\");\n\n}());\n\n//##############################################################################\n// XHRRequest.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * A preloader that loads items using XHR requests, usually XMLHttpRequest. However XDomainRequests will be used\n\t * for cross-domain requests if possible, and older versions of IE fall back on to ActiveX objects when necessary.\n\t * XHR requests load the content as text or binary data, provide progress and consistent completion events, and\n\t * can be canceled during load. Note that XHR is not supported in IE 6 or earlier, and is not recommended for\n\t * cross-domain loading.\n\t * @class XHRRequest\n\t * @constructor\n\t * @param {Object} item The object that defines the file to load. Please see the {{#crossLink \"LoadQueue/loadFile\"}}{{/crossLink}}\n\t * for an overview of supported file properties.\n\t * @extends AbstractLoader\n\t */\n\tfunction XHRRequest(item) {\n\t\tthis.AbstractRequest_constructor(item);\n\n\t\t// protected properties\n\t\t/**\n\t\t * A reference to the XHR request used to load the content.\n\t\t * @property _request\n\t\t * @type {XMLHttpRequest | XDomainRequest | ActiveX.XMLHTTP}\n\t\t * @private\n\t\t */\n\t\tthis._request = null;\n\n\t\t/**\n\t\t * A manual load timeout that is used for browsers that do not support the onTimeout event on XHR (XHR level 1,\n\t\t * typically IE9).\n\t\t * @property _loadTimeout\n\t\t * @type {Number}\n\t\t * @private\n\t\t */\n\t\tthis._loadTimeout = null;\n\n\t\t/**\n\t\t * The browser's XHR (XMLHTTPRequest) version. Supported versions are 1 and 2. There is no official way to detect\n\t\t * the version, so we use capabilities to make a best guess.\n\t\t * @property _xhrLevel\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @private\n\t\t */\n\t\tthis._xhrLevel = 1;\n\n\t\t/**\n\t\t * The response of a loaded file. This is set because it is expensive to look up constantly. This property will be\n\t\t * null until the file is loaded.\n\t\t * @property _response\n\t\t * @type {mixed}\n\t\t * @private\n\t\t */\n\t\tthis._response = null;\n\n\t\t/**\n\t\t * The response of the loaded file before it is modified. In most cases, content is converted from raw text to\n\t\t * an HTML tag or a formatted object which is set to the <code>result</code> property, but the developer may still\n\t\t * want to access the raw content as it was loaded.\n\t\t * @property _rawResponse\n\t\t * @type {String|Object}\n\t\t * @private\n\t\t */\n\t\tthis._rawResponse = null;\n\n\t\tthis._canceled = false;\n\n\t\t// Setup our event handlers now.\n\t\tthis._handleLoadStartProxy = createjs.proxy(this._handleLoadStart, this);\n\t\tthis._handleProgressProxy = createjs.proxy(this._handleProgress, this);\n\t\tthis._handleAbortProxy = createjs.proxy(this._handleAbort, this);\n\t\tthis._handleErrorProxy = createjs.proxy(this._handleError, this);\n\t\tthis._handleTimeoutProxy = createjs.proxy(this._handleTimeout, this);\n\t\tthis._handleLoadProxy = createjs.proxy(this._handleLoad, this);\n\t\tthis._handleReadyStateChangeProxy = createjs.proxy(this._handleReadyStateChange, this);\n\n\t\tif (!this._createXHR(item)) {\n\t\t\t//TODO: Throw error?\n\t\t}\n\t}\n\n\tvar p = createjs.extend(XHRRequest, createjs.AbstractRequest);\n\n\t// static properties\n\t/**\n\t * A list of XMLHTTP object IDs to try when building an ActiveX object for XHR requests in earlier versions of IE.\n\t * @property ACTIVEX_VERSIONS\n\t * @type {Array}\n\t * @since 0.4.2\n\t * @private\n\t */\n\tXHRRequest.ACTIVEX_VERSIONS = [\n\t\t\"Msxml2.XMLHTTP.6.0\",\n\t\t\"Msxml2.XMLHTTP.5.0\",\n\t\t\"Msxml2.XMLHTTP.4.0\",\n\t\t\"MSXML2.XMLHTTP.3.0\",\n\t\t\"MSXML2.XMLHTTP\",\n\t\t\"Microsoft.XMLHTTP\"\n\t];\n\n\t// Public methods\n\t/**\n\t * Look up the loaded result.\n\t * @method getResult\n\t * @param {Boolean} [raw=false] Return a raw result instead of a formatted result. This applies to content\n\t * loaded via XHR such as scripts, XML, CSS, and Images. If there is no raw result, the formatted result will be\n\t * returned instead.\n\t * @return {Object} A result object containing the content that was loaded, such as:\n\t * <ul>\n\t *      <li>An image tag (&lt;image /&gt;) for images</li>\n\t *      <li>A script tag for JavaScript (&lt;script /&gt;). Note that scripts loaded with tags may be added to the\n\t *      HTML head.</li>\n\t *      <li>A style tag for CSS (&lt;style /&gt;)</li>\n\t *      <li>Raw text for TEXT</li>\n\t *      <li>A formatted JavaScript object defined by JSON</li>\n\t *      <li>An XML document</li>\n\t *      <li>An binary arraybuffer loaded by XHR</li>\n\t * </ul>\n\t * Note that if a raw result is requested, but not found, the result will be returned instead.\n\t */\n\tp.getResult = function (raw) {\n\t\tif (raw && this._rawResponse) {\n\t\t\treturn this._rawResponse;\n\t\t}\n\t\treturn this._response;\n\t};\n\n\t// Overrides abstract method in AbstractRequest\n\tp.cancel = function () {\n\t\tthis.canceled = true;\n\t\tthis._clean();\n\t\tthis._request.abort();\n\t};\n\n\t// Overrides abstract method in AbstractLoader\n\tp.load = function () {\n\t\tif (this._request == null) {\n\t\t\tthis._handleError();\n\t\t\treturn;\n\t\t}\n\n\t\t//Events\n\t\tif (this._request.addEventListener != null) {\n\t\t\tthis._request.addEventListener(\"loadstart\", this._handleLoadStartProxy, false);\n\t\t\tthis._request.addEventListener(\"progress\", this._handleProgressProxy, false);\n\t\t\tthis._request.addEventListener(\"abort\", this._handleAbortProxy, false);\n\t\t\tthis._request.addEventListener(\"error\", this._handleErrorProxy, false);\n\t\t\tthis._request.addEventListener(\"timeout\", this._handleTimeoutProxy, false);\n\n\t\t\t// Note: We don't get onload in all browsers (earlier FF and IE). onReadyStateChange handles these.\n\t\t\tthis._request.addEventListener(\"load\", this._handleLoadProxy, false);\n\t\t\tthis._request.addEventListener(\"readystatechange\", this._handleReadyStateChangeProxy, false);\n\t\t} else {\n\t\t\t// IE9 support\n\t\t\tthis._request.onloadstart = this._handleLoadStartProxy;\n\t\t\tthis._request.onprogress = this._handleProgressProxy;\n\t\t\tthis._request.onabort = this._handleAbortProxy;\n\t\t\tthis._request.onerror = this._handleErrorProxy;\n\t\t\tthis._request.ontimeout = this._handleTimeoutProxy;\n\n\t\t\t// Note: We don't get onload in all browsers (earlier FF and IE). onReadyStateChange handles these.\n\t\t\tthis._request.onload = this._handleLoadProxy;\n\t\t\tthis._request.onreadystatechange = this._handleReadyStateChangeProxy;\n\t\t}\n\n\t\t// Set up a timeout if we don't have XHR2\n\t\tif (this._xhrLevel == 1) {\n\t\t\tthis._loadTimeout = setTimeout(createjs.proxy(this._handleTimeout, this), this._item.loadTimeout);\n\t\t}\n\n\t\t// Sometimes we get back 404s immediately, particularly when there is a cross origin request.  // note this does not catch in Chrome\n\t\ttry {\n\t\t\tif (!this._item.values) {\n\t\t\t\tthis._request.send();\n\t\t\t} else {\n\t\t\t\tthis._request.send(createjs.URLUtils.formatQueryString(this._item.values));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tthis.dispatchEvent(new createjs.ErrorEvent(\"XHR_SEND\", null, error));\n\t\t}\n\t};\n\n\tp.setResponseType = function (type) {\n\t\t// Some old browsers doesn't support blob, so we convert arraybuffer to blob after response is downloaded\n\t\tif (type === 'blob') {\n\t\t\ttype = window.URL ? 'blob' : 'arraybuffer';\n\t\t\tthis._responseType = type;\n\t\t}\n\t\tthis._request.responseType = type;\n\t};\n\n\t/**\n\t * Get all the response headers from the XmlHttpRequest.\n\t *\n\t * <strong>From the docs:</strong> Return all the HTTP headers, excluding headers that are a case-insensitive match\n\t * for Set-Cookie or Set-Cookie2, as a single string, with each header line separated by a U+000D CR U+000A LF pair,\n\t * excluding the status line, and with each header name and header value separated by a U+003A COLON U+0020 SPACE\n\t * pair.\n\t * @method getAllResponseHeaders\n\t * @return {String}\n\t * @since 0.4.1\n\t */\n\tp.getAllResponseHeaders = function () {\n\t\tif (this._request.getAllResponseHeaders instanceof Function) {\n\t\t\treturn this._request.getAllResponseHeaders();\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\t/**\n\t * Get a specific response header from the XmlHttpRequest.\n\t *\n\t * <strong>From the docs:</strong> Returns the header field value from the response of which the field name matches\n\t * header, unless the field name is Set-Cookie or Set-Cookie2.\n\t * @method getResponseHeader\n\t * @param {String} header The header name to retrieve.\n\t * @return {String}\n\t * @since 0.4.1\n\t */\n\tp.getResponseHeader = function (header) {\n\t\tif (this._request.getResponseHeader instanceof Function) {\n\t\t\treturn this._request.getResponseHeader(header);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\t// protected methods\n\t/**\n\t * The XHR request has reported progress.\n\t * @method _handleProgress\n\t * @param {Object} event The XHR progress event.\n\t * @private\n\t */\n\tp._handleProgress = function (event) {\n\t\tif (!event || event.loaded > 0 && event.total == 0) {\n\t\t\treturn; // Sometimes we get no \"total\", so just ignore the progress event.\n\t\t}\n\n\t\tvar newEvent = new createjs.ProgressEvent(event.loaded, event.total);\n\t\tthis.dispatchEvent(newEvent);\n\t};\n\n\t/**\n\t * The XHR request has reported a load start.\n\t * @method _handleLoadStart\n\t * @param {Object} event The XHR loadStart event.\n\t * @private\n\t */\n\tp._handleLoadStart = function (event) {\n\t\tclearTimeout(this._loadTimeout);\n\t\tthis.dispatchEvent(\"loadstart\");\n\t};\n\n\t/**\n\t * The XHR request has reported an abort event.\n\t * @method handleAbort\n\t * @param {Object} event The XHR abort event.\n\t * @private\n\t */\n\tp._handleAbort = function (event) {\n\t\tthis._clean();\n\t\tthis.dispatchEvent(new createjs.ErrorEvent(\"XHR_ABORTED\", null, event));\n\t};\n\n\t/**\n\t * The XHR request has reported an error event.\n\t * @method _handleError\n\t * @param {Object} event The XHR error event.\n\t * @private\n\t */\n\tp._handleError = function (event) {\n\t\tthis._clean();\n\t\tthis.dispatchEvent(new createjs.ErrorEvent(event.message));\n\t};\n\n\t/**\n\t * The XHR request has reported a readyState change. Note that older browsers (IE 7 & 8) do not provide an onload\n\t * event, so we must monitor the readyStateChange to determine if the file is loaded.\n\t * @method _handleReadyStateChange\n\t * @param {Object} event The XHR readyStateChange event.\n\t * @private\n\t */\n\tp._handleReadyStateChange = function (event) {\n\t\tif (this._request.readyState == 4) {\n\t\t\tthis._handleLoad();\n\t\t}\n\t};\n\n\t/**\n\t * The XHR request has completed. This is called by the XHR request directly, or by a readyStateChange that has\n\t * <code>request.readyState == 4</code>. Only the first call to this method will be processed.\n\t *\n\t * Note that This method uses {{#crossLink \"_checkError\"}}{{/crossLink}} to determine if the server has returned an\n\t * error code.\n\t * @method _handleLoad\n\t * @param {Object} event The XHR load event.\n\t * @private\n\t */\n\tp._handleLoad = function (event) {\n\t\tif (this.loaded) {\n\t\t\treturn;\n\t\t}\n\t\tthis.loaded = true;\n\n\t\tvar error = this._checkError();\n\t\tif (error) {\n\t\t\tthis._handleError(error);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._response = this._getResponse();\n\t\t// Convert arraybuffer back to blob\n\t\tif (this._responseType === 'arraybuffer') {\n\t\t\ttry {\n\t\t\t\tthis._response = new Blob([this._response]);\n\t\t\t} catch (e) {\n\t\t\t\t// Fallback to use BlobBuilder if Blob constructor is not supported\n\t\t\t\t// Tested on Android 2.3 ~ 4.2 and iOS5 safari\n\t\t\t\twindow.BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n\t\t\t\tif (e.name === 'TypeError' && window.BlobBuilder) {\n\t\t\t\t\tvar builder = new BlobBuilder();\n\t\t\t\t\tbuilder.append(this._response);\n\t\t\t\t\tthis._response = builder.getBlob();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._clean();\n\n\t\tthis.dispatchEvent(new createjs.Event(\"complete\"));\n\t};\n\n\t/**\n\t * The XHR request has timed out. This is called by the XHR request directly, or via a <code>setTimeout</code>\n\t * callback.\n\t * @method _handleTimeout\n\t * @param {Object} [event] The XHR timeout event. This is occasionally null when called by the backup setTimeout.\n\t * @private\n\t */\n\tp._handleTimeout = function (event) {\n\t\tthis._clean();\n\t\tthis.dispatchEvent(new createjs.ErrorEvent(\"PRELOAD_TIMEOUT\", null, event));\n\t};\n\n\t// Protected\n\t/**\n\t * Determine if there is an error in the current load.\n\t * Currently this checks the status of the request for problem codes, and not actual response content:\n\t * <ul>\n\t *     <li>Status codes between 400 and 599 (HTTP error range)</li>\n\t *     <li>A status of 0, but *only when the application is running on a server*. If the application is running\n\t *     on `file:`, then it may incorrectly treat an error on local (or embedded applications) as a successful\n\t *     load.</li>\n\t * </ul>\n\t * @method _checkError\n\t * @return {Error} An error with the status code in the `message` argument.\n\t * @private\n\t */\n\tp._checkError = function () {\n\t\tvar status = parseInt(this._request.status);\n\t\tif (status >= 400 && status <= 599) {\n\t\t\treturn new Error(status);\n\t\t} else if (status == 0) {\n\t\t\tif ((/^https?:/).test(location.protocol)) { return new Error(0); }\n\t\t\treturn null; // Likely an embedded app.\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\n\t/**\n\t * Validate the response. Different browsers have different approaches, some of which throw errors when accessed\n\t * in other browsers. If there is no response, the <code>_response</code> property will remain null.\n\t * @method _getResponse\n\t * @private\n\t */\n\tp._getResponse = function () {\n\t\tif (this._response != null) {\n\t\t\treturn this._response;\n\t\t}\n\n\t\tif (this._request.response != null) {\n\t\t\treturn this._request.response;\n\t\t}\n\n\t\t// Android 2.2 uses .responseText\n\t\ttry {\n\t\t\tif (this._request.responseText != null) {\n\t\t\t\treturn this._request.responseText;\n\t\t\t}\n\t\t} catch (e) {\n\t\t}\n\n\t\t// When loading XML, IE9 does not return .response, instead it returns responseXML.xml\n\t\ttry {\n\t\t\tif (this._request.responseXML != null) {\n\t\t\t\treturn this._request.responseXML;\n\t\t\t}\n\t\t} catch (e) {\n\t\t}\n\n\t\treturn null;\n\t};\n\n\t/**\n\t * Create an XHR request. Depending on a number of factors, we get totally different results.\n\t * <ol><li>Some browsers get an <code>XDomainRequest</code> when loading cross-domain.</li>\n\t *      <li>XMLHttpRequest are created when available.</li>\n\t *      <li>ActiveX.XMLHTTP objects are used in older IE browsers.</li>\n\t *      <li>Text requests override the mime type if possible</li>\n\t *      <li>Origin headers are sent for crossdomain requests in some browsers.</li>\n\t *      <li>Binary loads set the response type to \"arraybuffer\"</li></ol>\n\t * @method _createXHR\n\t * @param {Object} item The requested item that is being loaded.\n\t * @return {Boolean} If an XHR request or equivalent was successfully created.\n\t * @private\n\t */\n\tp._createXHR = function (item) {\n\t\t// Check for cross-domain loads. We can't fully support them, but we can try.\n\t\tvar crossdomain = createjs.URLUtils.isCrossDomain(item);\n\t\tvar headers = {};\n\n\t\t// Create the request. Fallback to whatever support we have.\n\t\tvar req = null;\n\t\tif (window.XMLHttpRequest) {\n\t\t\treq = new XMLHttpRequest();\n\t\t\t// This is 8 or 9, so use XDomainRequest instead.\n\t\t\tif (crossdomain && req.withCredentials === undefined && window.XDomainRequest) {\n\t\t\t\treq = new XDomainRequest();\n\t\t\t}\n\t\t} else { // Old IE versions use a different approach\n\t\t\tfor (var i = 0, l = s.ACTIVEX_VERSIONS.length; i < l; i++) {\n\t\t\t\tvar axVersion = s.ACTIVEX_VERSIONS[i];\n\t\t\t\ttry {\n\t\t\t\t\treq = new ActiveXObject(axVersion);\n\t\t\t\t\tbreak;\n\t\t\t\t} catch (e) {\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (req == null) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\t// Default to utf-8 for Text requests.\n\t\tif (item.mimeType == null && createjs.RequestUtils.isText(item.type)) {\n\t\t\titem.mimeType = \"text/plain; charset=utf-8\";\n\t\t}\n\n\t\t// IE9 doesn't support overrideMimeType(), so we need to check for it.\n\t\tif (item.mimeType && req.overrideMimeType) {\n\t\t\treq.overrideMimeType(item.mimeType);\n\t\t}\n\n\t\t// Determine the XHR level\n\t\tthis._xhrLevel = (typeof req.responseType === \"string\") ? 2 : 1;\n\n\t\tvar src = null;\n\t\tif (item.method == createjs.Methods.GET) {\n\t\t\tsrc = createjs.URLUtils.buildURI(item.src, item.values);\n\t\t} else {\n\t\t\tsrc = item.src;\n\t\t}\n\n\t\t// Open the request.  Set cross-domain flags if it is supported (XHR level 1 only)\n\t\treq.open(item.method || createjs.Methods.GET, src, true);\n\n\t\tif (crossdomain && req instanceof XMLHttpRequest && this._xhrLevel == 1) {\n\t\t\theaders[\"Origin\"] = location.origin;\n\t\t}\n\n\t\t// To send data we need to set the Content-type header)\n\t\tif (item.values && item.method == createjs.Methods.POST) {\n\t\t\theaders[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n\t\t}\n\n\t\tif (!crossdomain && !headers[\"X-Requested-With\"]) {\n\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t}\n\n\t\tif (item.headers) {\n\t\t\tfor (var n in item.headers) {\n\t\t\t\theaders[n] = item.headers[n];\n\t\t\t}\n\t\t}\n\n\t\tfor (n in headers) {\n\t\t\treq.setRequestHeader(n, headers[n])\n\t\t}\n\n\t\tif (req instanceof XMLHttpRequest && item.withCredentials !== undefined) {\n\t\t\treq.withCredentials = item.withCredentials;\n\t\t}\n\n\t\tthis._request = req;\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * A request has completed (or failed or canceled), and needs to be disposed.\n\t * @method _clean\n\t * @private\n\t */\n\tp._clean = function () {\n\t\tclearTimeout(this._loadTimeout);\n\n\t\tif (this._request.removeEventListener != null) {\n\t\t\tthis._request.removeEventListener(\"loadstart\", this._handleLoadStartProxy);\n\t\t\tthis._request.removeEventListener(\"progress\", this._handleProgressProxy);\n\t\t\tthis._request.removeEventListener(\"abort\", this._handleAbortProxy);\n\t\t\tthis._request.removeEventListener(\"error\", this._handleErrorProxy);\n\t\t\tthis._request.removeEventListener(\"timeout\", this._handleTimeoutProxy);\n\t\t\tthis._request.removeEventListener(\"load\", this._handleLoadProxy);\n\t\t\tthis._request.removeEventListener(\"readystatechange\", this._handleReadyStateChangeProxy);\n\t\t} else {\n\t\t\tthis._request.onloadstart = null;\n\t\t\tthis._request.onprogress = null;\n\t\t\tthis._request.onabort = null;\n\t\t\tthis._request.onerror = null;\n\t\t\tthis._request.ontimeout = null;\n\t\t\tthis._request.onload = null;\n\t\t\tthis._request.onreadystatechange = null;\n\t\t}\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[PreloadJS XHRRequest]\";\n\t};\n\n\tcreatejs.XHRRequest = createjs.promote(XHRRequest, \"AbstractRequest\");\n\n}());\n\n//##############################################################################\n// SoundLoader.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t// constructor\n\t/**\n\t * A loader for HTML audio files. PreloadJS can not load WebAudio files, as a WebAudio context is required, which\n\t * should be created by either a library playing the sound (such as <a href=\"http://soundjs.com\">SoundJS</a>, or an\n\t * external framework that handles audio playback. To load content that can be played by WebAudio, use the\n\t * {{#crossLink \"BinaryLoader\"}}{{/crossLink}}, and handle the audio context decoding manually.\n\t * @class SoundLoader\n\t * @param {LoadItem|Object} loadItem\n\t * @param {Boolean} preferXHR\n\t * @extends AbstractMediaLoader\n\t * @constructor\n\t */\n\tfunction SoundLoader(loadItem, preferXHR) {\n\t\tthis.AbstractMediaLoader_constructor(loadItem, preferXHR, createjs.Types.SOUND);\n\n\t\t// protected properties\n\t\tif (createjs.DomUtils.isAudioTag(loadItem)) {\n\t\t\tthis._tag = loadItem;\n\t\t} else if (createjs.DomUtils.isAudioTag(loadItem.src)) {\n\t\t\tthis._tag = loadItem;\n\t\t} else if (createjs.DomUtils.isAudioTag(loadItem.tag)) {\n\t\t\tthis._tag = createjs.DomUtils.isAudioTag(loadItem) ? loadItem : loadItem.src;\n\t\t}\n\n\t\tif (this._tag != null) {\n\t\t\tthis._preferXHR = false;\n\t\t}\n\t}\n\n\tvar p = createjs.extend(SoundLoader, createjs.AbstractMediaLoader);\n\tvar s = SoundLoader;\n\n\t// static methods\n\t/**\n\t * Determines if the loader can load a specific item. This loader can only load items that are of type\n\t * {{#crossLink \"Types/SOUND:property\"}}{{/crossLink}}.\n\t * @method canLoadItem\n\t * @param {LoadItem|Object} item The LoadItem that a LoadQueue is trying to load.\n\t * @returns {Boolean} Whether the loader can load the item.\n\t * @static\n\t */\n\ts.canLoadItem = function (item) {\n\t\treturn item.type == createjs.Types.SOUND;\n\t};\n\n\t// protected methods\n\tp._createTag = function (src) {\n\t\tvar tag = createjs.Elements.audio();\n\t\ttag.autoplay = false;\n\t\ttag.preload = \"none\";\n\n\t\t//LM: Firefox fails when this the preload=\"none\" for other tags, but it needs to be \"none\" to ensure PreloadJS works.\n\t\ttag.src = src;\n\t\treturn tag;\n\t};\n\n\tcreatejs.SoundLoader = createjs.promote(SoundLoader, \"AbstractMediaLoader\");\n\n}());\n\n//##############################################################################\n// AudioSprite.js\n//##############################################################################\n\n//  NOTE this is \"Class\" is purely to document audioSprite Setup and usage.\n\n\n/**\n * <strong>Note: AudioSprite is not a class, but its usage is easily lost in the documentation, so it has been called\n * out here for quick reference.</strong>\n *\n * Audio sprites are much like CSS sprites or image sprite sheets: multiple audio assets grouped into a single file.\n * Audio sprites work around limitations in certain browsers, where only a single sound can be loaded and played at a\n * time. We recommend at least 300ms of silence between audio clips to deal with HTML audio tag inaccuracy, and to prevent\n * accidentally playing bits of the neighbouring clips.\n *\n * <strong>Benefits of Audio Sprites:</strong>\n * <ul>\n *     <li>More robust support for older browsers and devices that only allow a single audio instance, such as iOS 5.</li>\n *     <li>They provide a work around for the Internet Explorer 9 audio tag limit, which restricts how many different\n *     sounds that could be loaded at once.</li>\n *     <li>Faster loading by only requiring a single network request for several sounds, especially on mobile devices\n * where the network round trip for each file can add significant latency.</li>\n * </ul>\n *\n * <strong>Drawbacks of Audio Sprites</strong>\n * <ul>\n *     <li>No guarantee of smooth looping when using HTML or Flash audio. If you have a track that needs to loop\n * \t\tsmoothly and you are supporting non-web audio browsers, do not use audio sprites for that sound if you can avoid\n * \t\tit.</li>\n *     <li>No guarantee that HTML audio will play back immediately, especially the first time. In some browsers\n *     (Chrome!), HTML audio will only load enough to play through at the current download speed – so we rely on the\n *     `canplaythrough` event to determine if the audio is loaded. Since audio sprites must jump ahead to play specific\n *     sounds, the audio may not yet have downloaded fully.</li>\n *     <li>Audio sprites share the same core source, so if you have a sprite with 5 sounds and are limited to 2\n * \t\tconcurrently playing instances, you can only play 2 of the sounds at the same time.</li>\n * </ul>\n *\n * <h4>Example</h4>\n *\n *\t\tcreatejs.Sound.initializeDefaultPlugins();\n *\t\tvar assetsPath = \"./assets/\";\n *\t\tvar sounds = [{\n *\t\t\tsrc:\"MyAudioSprite.ogg\", data: {\n *\t\t\t\taudioSprite: [\n *\t\t\t\t\t{id:\"sound1\", startTime:0, duration:500},\n *\t\t\t\t\t{id:\"sound2\", startTime:1000, duration:400},\n *\t\t\t\t\t{id:\"sound3\", startTime:1700, duration: 1000}\n *\t\t\t\t]}\n *\t\t\t}\n *\t\t];\n *\t\tcreatejs.Sound.alternateExtensions = [\"mp3\"];\n *\t\tcreatejs.Sound.on(\"fileload\", loadSound);\n *\t\tcreatejs.Sound.registerSounds(sounds, assetsPath);\n *\t\t// after load is complete\n *\t\tcreatejs.Sound.play(\"sound2\");\n *\n * You can also create audio sprites on the fly by setting the startTime and duration when creating an new AbstractSoundInstance.\n *\n * \t\tcreatejs.Sound.play(\"MyAudioSprite\", {startTime: 1000, duration: 400});\n *\n * The excellent CreateJS community has created a tool to create audio sprites, available at\n * <a href=\"https://github.com/tonistiigi/audiosprite\" target=\"_blank\">https://github.com/tonistiigi/audiosprite</a>,\n * as well as a <a href=\"http://jsfiddle.net/bharat_battu/g8fFP/12/\" target=\"_blank\">jsfiddle</a> to convert the output\n * to SoundJS format.\n *\n * @class AudioSprite\n * @since 0.6.0\n */\n\n//##############################################################################\n// PlayPropsConfig.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\t/**\n\t * A class to store the optional play properties passed in {{#crossLink \"Sound/play\"}}{{/crossLink}} and\n\t * {{#crossLink \"AbstractSoundInstance/play\"}}{{/crossLink}} calls.\n\t *\n\t * Optional Play Properties Include:\n\t * <ul>\n\t * <li>interrupt - How to interrupt any currently playing instances of audio with the same source,\n\t * if the maximum number of instances of the sound are already playing. Values are defined as <code>INTERRUPT_TYPE</code>\n\t * constants on the Sound class, with the default defined by {{#crossLink \"Sound/defaultInterruptBehavior:property\"}}{{/crossLink}}.</li>\n\t * <li>delay - The amount of time to delay the start of audio playback, in milliseconds.</li>\n\t * <li>offset - The offset from the start of the audio to begin playback, in milliseconds.</li>\n\t * <li>loop - How many times the audio loops when it reaches the end of playback. The default is 0 (no\n\t * loops), and -1 can be used for infinite playback.</li>\n\t * <li>volume - The volume of the sound, between 0 and 1. Note that the master volume is applied\n\t * against the individual volume.</li>\n\t * <li>pan - The left-right pan of the sound (if supported), between -1 (left) and 1 (right).</li>\n\t * <li>startTime - To create an audio sprite (with duration), the initial offset to start playback and loop from, in milliseconds.</li>\n\t * <li>duration - To create an audio sprite (with startTime), the amount of time to play the clip for, in milliseconds.</li>\n\t * </ul>\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \tvar props = new createjs.PlayPropsConfig().set({interrupt: createjs.Sound.INTERRUPT_ANY, loop: -1, volume: 0.5})\n\t * \tcreatejs.Sound.play(\"mySound\", props);\n\t * \t// OR\n\t * \tmySoundInstance.play(props);\n\t *\n\t * @class PlayPropsConfig\n\t * @constructor\n\t * @since 0.6.1\n\t */\n\t// TODO think of a better name for this class\n\tvar PlayPropsConfig = function () {\n\t\t// Public Properties\n\t\t/**\n\t\t * How to interrupt any currently playing instances of audio with the same source,\n\t\t * if the maximum number of instances of the sound are already playing. Values are defined as\n\t\t * <code>INTERRUPT_TYPE</code> constants on the Sound class, with the default defined by\n\t\t * {{#crossLink \"Sound/defaultInterruptBehavior:property\"}}{{/crossLink}}.\n\t\t * @property interrupt\n\t\t * @type {string}\n\t\t * @default null\n\t\t */\n\t\tthis.interrupt = null;\n\n\t\t/**\n\t\t * The amount of time to delay the start of audio playback, in milliseconds.\n\t\t * @property delay\n\t\t * @type {Number}\n\t\t * @default null\n\t\t */\n\t\tthis.delay = null;\n\n\t\t/**\n\t\t * The offset from the start of the audio to begin playback, in milliseconds.\n\t\t * @property offset\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.offset = null;\n\n\t\t/**\n\t\t * How many times the audio loops when it reaches the end of playback. The default is 0 (no\n\t\t * loops), and -1 can be used for infinite playback.\n\t\t * @property loop\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.loop = null;\n\n\t\t/**\n\t\t * The volume of the sound, between 0 and 1. Note that the master volume is applied\n\t\t * against the individual volume.\n\t\t * @property volume\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.volume = null;\n\n\t\t/**\n\t\t * The left-right pan of the sound (if supported), between -1 (left) and 1 (right).\n\t\t * @property pan\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.pan = null;\n\n\t\t/**\n\t\t * Used to create an audio sprite (with duration), the initial offset to start playback and loop from, in milliseconds.\n\t\t * @property startTime\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.startTime = null;\n\n\t\t/**\n\t\t * Used to create an audio sprite (with startTime), the amount of time to play the clip for, in milliseconds.\n\t\t * @property duration\n\t\t * @type {number}\n\t\t * @default null\n\t\t */\n\t\tthis.duration = null;\n\t};\n\tvar p = PlayPropsConfig.prototype = {};\n\tvar s = PlayPropsConfig;\n\n\n\t// Static Methods\n\t/**\n\t * Creates a PlayPropsConfig from another PlayPropsConfig or an Object.\n\t *\n\t * @method create\n\t * @param {PlayPropsConfig|Object} value The play properties\n\t * @returns {PlayPropsConfig}\n\t * @static\n\t */\n\ts.create = function (value) {\n\t\tif (typeof (value) === \"string\") {\n\t\t\t// Handle the old API gracefully.\n\t\t\tconsole && (console.warn || console.log)(\"Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info.\");\n\t\t\treturn new createjs.PlayPropsConfig().set({ interrupt: value });\n\t\t} else if (value == null || value instanceof s || value instanceof Object) {\n\t\t\treturn new createjs.PlayPropsConfig().set(value);\n\t\t} else if (value == null) {\n\t\t\tthrow new Error(\"PlayProps configuration not recognized.\");\n\t\t}\n\t};\n\n\t// Public Methods\n\t/**\n\t * Provides a chainable shortcut method for setting a number of properties on the instance.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var PlayPropsConfig = new createjs.PlayPropsConfig().set({loop:-1, volume:0.7});\n\t *\n\t * @method set\n\t * @param {Object} props A generic object containing properties to copy to the PlayPropsConfig instance.\n\t * @return {PlayPropsConfig} Returns the instance the method is called on (useful for chaining calls.)\n\t*/\n\tp.set = function (props) {\n\t\tif (props != null) {\n\t\t\tfor (var n in props) { this[n] = props[n]; }\n\t\t}\n\t\treturn this;\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[PlayPropsConfig]\";\n\t};\n\n\tcreatejs.PlayPropsConfig = s;\n\n}());\n\n//##############################################################################\n// Sound.js\n//##############################################################################\n\n\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * The Sound class is the public API for creating sounds, controlling the overall sound levels, and managing plugins.\n\t * All Sound APIs on this class are static.\n\t *\n\t * <b>Registering and Preloading</b><br />\n\t * Before you can play a sound, it <b>must</b> be registered. You can do this with {{#crossLink \"Sound/registerSound\"}}{{/crossLink}},\n\t * or register multiple sounds using {{#crossLink \"Sound/registerSounds\"}}{{/crossLink}}. If you don't register a\n\t * sound prior to attempting to play it using {{#crossLink \"Sound/play\"}}{{/crossLink}} or create it using {{#crossLink \"Sound/createInstance\"}}{{/crossLink}},\n\t * the sound source will be automatically registered but playback will fail as the source will not be ready. If you use\n\t * <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>, registration is handled for you when the sound is\n\t * preloaded. It is recommended to preload sounds either internally using the register functions or externally using\n\t * PreloadJS so they are ready when you want to use them.\n\t *\n\t * <b>Playback</b><br />\n\t * To play a sound once it's been registered and preloaded, use the {{#crossLink \"Sound/play\"}}{{/crossLink}} method.\n\t * This method returns a {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} which can be paused, resumed, muted, etc.\n\t * Please see the {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} documentation for more on the instance control APIs.\n\t *\n\t * <b>Plugins</b><br />\n\t * By default, the {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}} or the {{#crossLink \"HTMLAudioPlugin\"}}{{/crossLink}}\n\t * are used (when available), although developers can change plugin priority or add new plugins (such as the\n\t * provided {{#crossLink \"FlashAudioPlugin\"}}{{/crossLink}}). Please see the {{#crossLink \"Sound\"}}{{/crossLink}} API\n\t * methods for more on the playback and plugin APIs. To install plugins, or specify a different plugin order, see\n\t * {{#crossLink \"Sound/installPlugins\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.FlashAudioPlugin.swfPath = \"../src/soundjs/flashaudio\";\n\t *      createjs.Sound.registerPlugins([createjs.WebAudioPlugin, createjs.FlashAudioPlugin]);\n\t *      createjs.Sound.alternateExtensions = [\"mp3\"];\n\t *      createjs.Sound.on(\"fileload\", this.loadHandler, this);\n\t *      createjs.Sound.registerSound(\"path/to/mySound.ogg\", \"sound\");\n\t *      function loadHandler(event) {\n     *          // This is fired for each sound that is registered.\n     *          var instance = createjs.Sound.play(\"sound\");  // play using id.  Could also use full source path or event.src.\n     *          instance.on(\"complete\", this.handleComplete, this);\n     *          instance.volume = 0.5;\n\t *      }\n\t *\n\t * The maximum number of concurrently playing instances of the same sound can be specified in the \"data\" argument\n\t * of {{#crossLink \"Sound/registerSound\"}}{{/crossLink}}.  Note that if not specified, the active plugin will apply\n\t * a default limit.  Currently HTMLAudioPlugin sets a default limit of 2, while WebAudioPlugin and FlashAudioPlugin set a\n\t * default limit of 100.\n\t *\n\t *      createjs.Sound.registerSound(\"sound.mp3\", \"soundId\", 4);\n\t *\n\t * Sound can be used as a plugin with PreloadJS to help preload audio properly. Audio preloaded with PreloadJS is\n\t * automatically registered with the Sound class. When audio is not preloaded, Sound will do an automatic internal\n\t * load. As a result, it may fail to play the first time play is called if the audio is not finished loading. Use\n\t * the {{#crossLink \"Sound/fileload:event\"}}{{/crossLink}} event to determine when a sound has finished internally\n\t * preloading. It is recommended that all audio is preloaded before it is played.\n\t *\n\t *      var queue = new createjs.LoadQueue();\n\t *\t\tqueue.installPlugin(createjs.Sound);\n\t *\n\t * <b>Audio Sprites</b><br />\n\t * SoundJS has added support for {{#crossLink \"AudioSprite\"}}{{/crossLink}}, available as of version 0.6.0.\n\t * For those unfamiliar with audio sprites, they are much like CSS sprites or sprite sheets: multiple audio assets\n\t * grouped into a single file.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *\t\tvar assetsPath = \"./assets/\";\n\t *\t\tvar sounds = [{\n\t *\t\t\tsrc:\"MyAudioSprite.ogg\", data: {\n\t *\t\t\t\taudioSprite: [\n\t *\t\t\t\t\t{id:\"sound1\", startTime:0, duration:500},\n\t *\t\t\t\t\t{id:\"sound2\", startTime:1000, duration:400},\n\t *\t\t\t\t\t{id:\"sound3\", startTime:1700, duration: 1000}\n\t *\t\t\t\t]}\n \t *\t\t\t}\n\t *\t\t];\n\t *\t\tcreatejs.Sound.alternateExtensions = [\"mp3\"];\n\t *\t\tcreatejs.Sound.on(\"fileload\", loadSound);\n\t *\t\tcreatejs.Sound.registerSounds(sounds, assetsPath);\n\t *\t\t// after load is complete\n\t *\t\tcreatejs.Sound.play(\"sound2\");\n\t *\n\t * <b>Mobile Playback</b><br />\n\t * Devices running iOS require the WebAudio context to be \"unlocked\" by playing at least one sound inside of a user-\n\t * initiated event (such as touch/click). Earlier versions of SoundJS included a \"MobileSafe\" sample, but this is no\n\t * longer necessary as of SoundJS 0.6.2.\n\t * <ul>\n\t *     <li>\n\t *         In SoundJS 0.4.1 and above, you can either initialize plugins or use the {{#crossLink \"WebAudioPlugin/playEmptySound\"}}{{/crossLink}}\n\t *         method in the call stack of a user input event to manually unlock the audio context.\n\t *     </li>\n\t *     <li>\n\t *         In SoundJS 0.6.2 and above, SoundJS will automatically listen for the first document-level \"mousedown\"\n\t *         and \"touchend\" event, and unlock WebAudio. This will continue to check these events until the WebAudio\n\t *         context becomes \"unlocked\" (changes from \"suspended\" to \"running\")\n\t *     </li>\n\t *     <li>\n\t *         Both the \"mousedown\" and \"touchend\" events can be used to unlock audio in iOS9+, the \"touchstart\" event\n\t *         will work in iOS8 and below. The \"touchend\" event will only work in iOS9 when the gesture is interpreted\n\t *         as a \"click\", so if the user long-presses the button, it will no longer work.\n\t *     </li>\n\t *     <li>\n\t *         When using the <a href=\"http://www.createjs.com/docs/easeljs/classes/Touch.html\">EaselJS Touch class</a>,\n\t *         the \"mousedown\" event will not fire when a canvas is clicked, since MouseEvents are prevented, to ensure\n\t *         only touch events fire. To get around this, you can either rely on \"touchend\", or:\n\t *         <ol>\n\t *             <li>Set the `allowDefault` property on the Touch class constructor to `true` (defaults to `false`).</li>\n\t *             <li>Set the `preventSelection` property on the EaselJS `Stage` to `false`.</li>\n\t *         </ol>\n\t *         These settings may change how your application behaves, and are not recommended.\n\t *     </li>\n\t * </ul>\n\t *\n\t * <b>Loading Alternate Paths and Extension-less Files</b><br />\n\t * SoundJS supports loading alternate paths and extension-less files by passing an object instead of a string for\n\t * the `src` property, which is a hash using the format `{extension:\"path\", extension2:\"path2\"}`. These labels are\n\t * how SoundJS determines if the browser will support the sound. This also enables multiple formats to live in\n\t * different folders, or on CDNs, which often has completely different filenames for each file.\n\t *\n\t * Priority is determined by the property order (first property is tried first).  This is supported by both internal loading\n\t * and loading with PreloadJS.\n\t *\n\t * <em>Note: an id is required for playback.</em>\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *\t\tvar sounds = {path:\"./audioPath/\",\n\t * \t\t\t\tmanifest: [\n\t *\t\t\t\t{id: \"cool\", src: {mp3:\"mp3/awesome.mp3\", ogg:\"noExtensionOggFile\"}}\n\t *\t\t]};\n\t *\n\t *\t\tcreatejs.Sound.alternateExtensions = [\"mp3\"];\n\t *\t\tcreatejs.Sound.addEventListener(\"fileload\", handleLoad);\n\t *\t\tcreatejs.Sound.registerSounds(sounds);\n\t *\n\t * <h3>Known Browser and OS issues</h3>\n\t * <b>IE 9 HTML Audio limitations</b><br />\n\t * <ul><li>There is a delay in applying volume changes to tags that occurs once playback is started. So if you have\n\t * muted all sounds, they will all play during this delay until the mute applies internally. This happens regardless of\n\t * when or how you apply the volume change, as the tag seems to need to play to apply it.</li>\n     * <li>MP3 encoding will not always work for audio tags, particularly in Internet Explorer. We've found default\n\t * encoding with 64kbps works.</li>\n\t * <li>Occasionally very short samples will get cut off.</li>\n\t * <li>There is a limit to how many audio tags you can load and play at once, which appears to be determined by\n\t * hardware and browser settings.  See {{#crossLink \"HTMLAudioPlugin.MAX_INSTANCES\"}}{{/crossLink}} for a safe\n\t * estimate.</li></ul>\n\t *\n\t * <b>Firefox 25 Web Audio limitations</b>\n\t * <ul><li>mp3 audio files do not load properly on all windows machines, reported\n\t * <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=929969\" target=\"_blank\">here</a>. </br>\n\t * For this reason it is recommended to pass another FF supported type (ie ogg) first until this bug is resolved, if\n\t * possible.</li></ul>\n\n\t * <b>Safari limitations</b><br />\n\t * <ul><li>Safari requires Quicktime to be installed for audio playback.</li></ul>\n\t *\n\t * <b>iOS 6 Web Audio limitations</b><br />\n\t * <ul><li>Sound is initially locked, and must be unlocked via a user-initiated event. Please see the section on\n\t * Mobile Playback above.</li>\n\t * <li>A bug exists that will distort un-cached web audio when a video element is present in the DOM that has audio\n\t * at a different sampleRate.</li>\n\t * </ul>\n\t *\n\t * <b>Android HTML Audio limitations</b><br />\n\t * <ul><li>We have no control over audio volume. Only the user can set volume on their device.</li>\n\t * <li>We can only play audio inside a user event (touch/click).  This currently means you cannot loop sound or use\n\t * a delay.</li></ul>\n\t *\n\t * <b>Web Audio and PreloadJS</b><br />\n\t * <ul><li>Web Audio must be loaded through XHR, therefore when used with PreloadJS, tag loading is not possible.\n\t * This means that tag loading can not be used to avoid cross domain issues.</li><ul>\n\t *\n\t * @class Sound\n\t * @static\n\t * @uses EventDispatcher\n\t */\n\tfunction Sound() {\n\t\tthrow \"Sound cannot be instantiated\";\n\t}\n\n\tvar s = Sound;\n\n\n\t// Static Properties\n\t/**\n\t * The interrupt value to interrupt any currently playing instance with the same source, if the maximum number of\n\t * instances of the sound are already playing.\n\t * @property INTERRUPT_ANY\n\t * @type {String}\n\t * @default any\n\t * @static\n\t */\n\ts.INTERRUPT_ANY = \"any\";\n\n\t/**\n\t * The interrupt value to interrupt the earliest currently playing instance with the same source that progressed the\n\t * least distance in the audio track, if the maximum number of instances of the sound are already playing.\n\t * @property INTERRUPT_EARLY\n\t * @type {String}\n\t * @default early\n\t * @static\n\t */\n\ts.INTERRUPT_EARLY = \"early\";\n\n\t/**\n\t * The interrupt value to interrupt the currently playing instance with the same source that progressed the most\n\t * distance in the audio track, if the maximum number of instances of the sound are already playing.\n\t * @property INTERRUPT_LATE\n\t * @type {String}\n\t * @default late\n\t * @static\n\t */\n\ts.INTERRUPT_LATE = \"late\";\n\n\t/**\n\t * The interrupt value to not interrupt any currently playing instances with the same source, if the maximum number of\n\t * instances of the sound are already playing.\n\t * @property INTERRUPT_NONE\n\t * @type {String}\n\t * @default none\n\t * @static\n\t */\n\ts.INTERRUPT_NONE = \"none\";\n\n\t/**\n\t * Defines the playState of an instance that is still initializing.\n\t * @property PLAY_INITED\n\t * @type {String}\n\t * @default playInited\n\t * @static\n\t */\n\ts.PLAY_INITED = \"playInited\";\n\n\t/**\n\t * Defines the playState of an instance that is currently playing or paused.\n\t * @property PLAY_SUCCEEDED\n\t * @type {String}\n\t * @default playSucceeded\n\t * @static\n\t */\n\ts.PLAY_SUCCEEDED = \"playSucceeded\";\n\n\t/**\n\t * Defines the playState of an instance that was interrupted by another instance.\n\t * @property PLAY_INTERRUPTED\n\t * @type {String}\n\t * @default playInterrupted\n\t * @static\n\t */\n\ts.PLAY_INTERRUPTED = \"playInterrupted\";\n\n\t/**\n\t * Defines the playState of an instance that completed playback.\n\t * @property PLAY_FINISHED\n\t * @type {String}\n\t * @default playFinished\n\t * @static\n\t */\n\ts.PLAY_FINISHED = \"playFinished\";\n\n\t/**\n\t * Defines the playState of an instance that failed to play. This is usually caused by a lack of available channels\n\t * when the interrupt mode was \"INTERRUPT_NONE\", the playback stalled, or the sound could not be found.\n\t * @property PLAY_FAILED\n\t * @type {String}\n\t * @default playFailed\n\t * @static\n\t */\n\ts.PLAY_FAILED = \"playFailed\";\n\n\t/**\n\t * A list of the default supported extensions that Sound will <i>try</i> to play. Plugins will check if the browser\n\t * can play these types, so modifying this list before a plugin is initialized will allow the plugins to try to\n\t * support additional media types.\n\t *\n\t * NOTE this does not currently work for {{#crossLink \"FlashAudioPlugin\"}}{{/crossLink}}.\n\t *\n\t * More details on file formats can be found at <a href=\"http://en.wikipedia.org/wiki/Audio_file_format\" target=\"_blank\">http://en.wikipedia.org/wiki/Audio_file_format</a>.<br />\n\t * A very detailed list of file formats can be found at <a href=\"http://www.fileinfo.com/filetypes/audio\" target=\"_blank\">http://www.fileinfo.com/filetypes/audio</a>.\n\t * @property SUPPORTED_EXTENSIONS\n\t * @type {Array[String]}\n\t * @default [\"mp3\", \"ogg\", \"opus\", \"mpeg\", \"wav\", \"m4a\", \"mp4\", \"aiff\", \"wma\", \"mid\"]\n\t * @since 0.4.0\n\t * @static\n\t */\n\ts.SUPPORTED_EXTENSIONS = [\"mp3\", \"ogg\", \"opus\", \"mpeg\", \"wav\", \"m4a\", \"mp4\", \"aiff\", \"wma\", \"mid\"];\n\n\t/**\n\t * Some extensions use another type of extension support to play (one of them is a codex).  This allows you to map\n\t * that support so plugins can accurately determine if an extension is supported.  Adding to this list can help\n\t * plugins determine more accurately if an extension is supported.\n\t *\n \t * A useful list of extensions for each format can be found at <a href=\"http://html5doctor.com/html5-audio-the-state-of-play/\" target=\"_blank\">http://html5doctor.com/html5-audio-the-state-of-play/</a>.\n\t * @property EXTENSION_MAP\n\t * @type {Object}\n\t * @since 0.4.0\n\t * @default {m4a:\"mp4\"}\n\t * @static\n\t */\n\ts.EXTENSION_MAP = {\n\t\tm4a: \"mp4\"\n\t};\n\n\t/**\n\t * The RegExp pattern used to parse file URIs. This supports simple file names, as well as full domain URIs with\n\t * query strings. The resulting match is: protocol:$1 domain:$2 path:$3 file:$4 extension:$5 query:$6.\n\t * @property FILE_PATTERN\n\t * @type {RegExp}\n\t * @static\n\t * @private\n\t */\n\ts.FILE_PATTERN = /^(?:(\\w+:)\\/{2}(\\w+(?:\\.\\w+)*\\/?))?([/.]*?(?:[^?]+)?\\/)?((?:[^/?]+)\\.(\\w+))(?:\\?(\\S+)?)?$/;\n\n\n\t// Class Public properties\n\t/**\n\t * Determines the default behavior for interrupting other currently playing instances with the same source, if the\n\t * maximum number of instances of the sound are already playing.  Currently the default is {{#crossLink \"Sound/INTERRUPT_NONE:property\"}}{{/crossLink}}\n\t * but this can be set and will change playback behavior accordingly.  This is only used when {{#crossLink \"Sound/play\"}}{{/crossLink}}\n\t * is called without passing a value for interrupt.\n\t * @property defaultInterruptBehavior\n\t * @type {String}\n\t * @default Sound.INTERRUPT_NONE, or \"none\"\n\t * @static\n\t * @since 0.4.0\n\t */\n\ts.defaultInterruptBehavior = s.INTERRUPT_NONE;  // OJR does s.INTERRUPT_ANY make more sense as default?  Needs game dev testing to see which case makes more sense.\n\n\t/**\n\t * An array of extensions to attempt to use when loading sound, if the default is unsupported by the active plugin.\n\t * These are applied in order, so if you try to Load Thunder.ogg in a browser that does not support ogg, and your\n\t * extensions array is [\"mp3\", \"m4a\", \"wav\"] it will check mp3 support, then m4a, then wav. The audio files need\n\t * to exist in the same location, as only the extension is altered.\n\t *\n\t * Note that regardless of which file is loaded, you can call {{#crossLink \"Sound/createInstance\"}}{{/crossLink}}\n\t * and {{#crossLink \"Sound/play\"}}{{/crossLink}} using the same id or full source path passed for loading.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *\tvar sounds = [\n\t *\t\t{src:\"myPath/mySound.ogg\", id:\"example\"},\n\t *\t];\n\t *\tcreatejs.Sound.alternateExtensions = [\"mp3\"]; // now if ogg is not supported, SoundJS will try asset0.mp3\n\t *\tcreatejs.Sound.on(\"fileload\", handleLoad); // call handleLoad when each sound loads\n\t *\tcreatejs.Sound.registerSounds(sounds, assetPath);\n\t *\t// ...\n\t *\tcreatejs.Sound.play(\"myPath/mySound.ogg\"); // works regardless of what extension is supported.  Note calling with ID is a better approach\n\t *\n\t * @property alternateExtensions\n\t * @type {Array}\n\t * @since 0.5.2\n\t * @static\n\t */\n\ts.alternateExtensions = [];\n\n\t/**\n\t * The currently active plugin. If this is null, then no plugin could be initialized. If no plugin was specified,\n\t * Sound attempts to apply the default plugins: {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}, followed by\n\t * {{#crossLink \"HTMLAudioPlugin\"}}{{/crossLink}}.\n\t * @property activePlugin\n\t * @type {Object}\n\t * @static\n\t */\n\ts.activePlugin = null;\n\n\n\t// class getter / setter properties\n\n\t/**\n\t * Set the master volume of Sound. The master volume is multiplied against each sound's individual volume.  For\n\t * example, if master volume is 0.5 and a sound's volume is 0.5, the resulting volume is 0.25. To set individual\n\t * sound volume, use AbstractSoundInstance {{#crossLink \"AbstractSoundInstance/volume:property\"}}{{/crossLink}}\n\t * instead.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     createjs.Sound.volume = 0.5;\n\t *\n\t * @property volume\n\t * @type {Number}\n\t * @default 1\n\t * @since 0.6.1\n\t */\n\n\t/**\n\t * The internal volume level. Use {{#crossLink \"Sound/volume:property\"}}{{/crossLink}} to adjust the master volume.\n\t * @property _masterVolume\n\t * @type {number}\n\t * @default 1\n\t * @private\n\t */\n\ts._masterVolume = 1;\n\n\t/**\n\t * Use the {{#crossLink \"Sound/volume:property\"}}{{/crossLink}} property instead.\n\t * @method _getMasterVolume\n\t * @private\n\t * @static\n\t * @return {Number}\n\t **/\n\ts._getMasterVolume = function () {\n\t\treturn this._masterVolume;\n\t};\n\t// Sound.getMasterVolume is @deprecated. Remove for 1.1+\n\ts.getVolume = createjs.deprecate(s._getMasterVolume, \"Sound.getVolume\");\n\t/**\n\t * Use the {{#crossLink \"Sound/volume:property\"}}{{/crossLink}} property instead.\n\t * @method _setMasterVolume\n\t * @static\n\t * @private\n\t **/\n\ts._setMasterVolume = function (value) {\n\t\tif (Number(value) == null) { return; }\n\t\tvalue = Math.max(0, Math.min(1, value));\n\t\ts._masterVolume = value;\n\t\tif (!this.activePlugin || !this.activePlugin.setVolume || !this.activePlugin.setVolume(value)) {\n\t\t\tvar instances = this._instances;\n\t\t\tfor (var i = 0, l = instances.length; i < l; i++) {\n\t\t\t\tinstances[i].setMasterVolume(value);\n\t\t\t}\n\t\t}\n\t};\n\t// Sound.stMasterVolume is @deprecated. Remove for 1.1+\n\ts.setVolume = createjs.deprecate(s._setMasterVolume, \"Sound.setVolume\");\n\n\t/**\n\t * Mute/Unmute all audio. Note that muted audio still plays at 0 volume. This global mute value is maintained\n\t * separately and when set will override, but not change the mute property of individual instances. To mute an individual\n\t * instance, use AbstractSoundInstance {{#crossLink \"AbstractSoundInstance/muted:property\"}}{{/crossLink}} instead.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     createjs.Sound.muted = true;\n\t *\n\t *\n\t * @property muted\n\t * @type {Boolean}\n\t * @default false\n\t * @since 0.6.1\n\t */\n\ts._masterMute = false;\n\n\t/**\n\t * Use the {{#crossLink \"Sound/muted:property\"}}{{/crossLink}} property instead.\n\t * @method _getMute\n\t * @returns {Boolean}\n\t * @static\n\t * @private\n\t */\n\ts._getMute = function () {\n\t\treturn this._masterMute;\n\t};\n\t// Sound.getMute is @deprecated. Remove for 1.1+\n\ts.getMute = createjs.deprecate(s._getMute, \"Sound.getMute\");\n\n\t/**\n\t * Use the {{#crossLink \"Sound/muted:property\"}}{{/crossLink}} property instead.\n\t * @method _setMute\n\t * @param {Boolean} value The muted value\n\t * @static\n\t * @private\n\t */\n\ts._setMute = function (value) {\n\t\tif (value == null) { return; }\n\t\tthis._masterMute = value;\n\t\tif (!this.activePlugin || !this.activePlugin.setMute || !this.activePlugin.setMute(value)) {\n\t\t\tvar instances = this._instances;\n\t\t\tfor (var i = 0, l = instances.length; i < l; i++) {\n\t\t\t\tinstances[i].setMasterMute(value);\n\t\t\t}\n\t\t}\n\t};\n\t// Sound.setMute is @deprecated. Remove for 1.1+\n\ts.setMute = createjs.deprecate(s._setMute, \"Sound.setMute\");\n\n\t/**\n\t * Get the active plugins capabilities, which help determine if a plugin can be used in the current environment,\n\t * or if the plugin supports a specific feature. Capabilities include:\n\t * <ul>\n\t *     <li><b>panning:</b> If the plugin can pan audio from left to right</li>\n\t *     <li><b>volume;</b> If the plugin can control audio volume.</li>\n\t *     <li><b>tracks:</b> The maximum number of audio tracks that can be played back at a time. This will be -1\n\t *     if there is no known limit.</li>\n\t * <br />An entry for each file type in {{#crossLink \"Sound/SUPPORTED_EXTENSIONS:property\"}}{{/crossLink}}:\n\t *     <li><b>mp3:</b> If MP3 audio is supported.</li>\n\t *     <li><b>ogg:</b> If OGG audio is supported.</li>\n\t *     <li><b>wav:</b> If WAV audio is supported.</li>\n\t *     <li><b>mpeg:</b> If MPEG audio is supported.</li>\n\t *     <li><b>m4a:</b> If M4A audio is supported.</li>\n\t *     <li><b>mp4:</b> If MP4 audio is supported.</li>\n\t *     <li><b>aiff:</b> If aiff audio is supported.</li>\n\t *     <li><b>wma:</b> If wma audio is supported.</li>\n\t *     <li><b>mid:</b> If mid audio is supported.</li>\n\t * </ul>\n\t *\n\t * You can get a specific capability of the active plugin using standard object notation\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var mp3 = createjs.Sound.capabilities.mp3;\n\t *\n\t * Note this property is read only.\n\t *\n\t * @property capabilities\n\t * @type {Object}\n\t * @static\n\t * @readOnly\n\t * @since 0.6.1\n\t */\n\n\t/**\n\t * Use the {{#crossLink \"Sound/capabilities:property\"}}{{/crossLink}} property instead.\n\t * @returns {null}\n\t * @private\n\t */\n\ts._getCapabilities = function () {\n\t\tif (s.activePlugin == null) { return null; }\n\t\treturn s.activePlugin._capabilities;\n\t};\n\t// Sound.getCapabilities is @deprecated. Remove for 1.1+\n\ts.getCapabilities = createjs.deprecate(s._getCapabilities, \"Sound.getCapabilities\");\n\n\tObject.defineProperties(s, {\n\t\tvolume: { get: s._getMasterVolume, set: s._setMasterVolume },\n\t\tmuted: { get: s._getMute, set: s._setMute },\n\t\tcapabilities: { get: s._getCapabilities }\n\t});\n\n\n\t// Class Private properties\n\t/**\n\t * Determines if the plugins have been registered. If false, the first call to {{#crossLink \"play\"}}{{/crossLink}} will instantiate the default\n\t * plugins ({{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}, followed by {{#crossLink \"HTMLAudioPlugin\"}}{{/crossLink}}).\n\t * If plugins have been registered, but none are applicable, then sound playback will fail.\n\t * @property _pluginsRegistered\n\t * @type {Boolean}\n\t * @default false\n\t * @static\n\t * @private\n\t */\n\ts._pluginsRegistered = false;\n\n\t/**\n\t * Used internally to assign unique IDs to each AbstractSoundInstance.\n\t * @property _lastID\n\t * @type {Number}\n\t * @static\n\t * @private\n\t */\n\ts._lastID = 0;\n\n\t/**\n\t * An array containing all currently playing instances. This allows Sound to control the volume, mute, and playback of\n\t * all instances when using static APIs like {{#crossLink \"Sound/stop\"}}{{/crossLink}} and {{#crossLink \"Sound/volume:property\"}}{{/crossLink}}.\n\t * When an instance has finished playback, it gets removed via the {{#crossLink \"Sound/finishedPlaying\"}}{{/crossLink}}\n\t * method. If the user replays an instance, it gets added back in via the {{#crossLink \"Sound/_beginPlaying\"}}{{/crossLink}}\n\t * method.\n\t * @property _instances\n\t * @type {Array}\n\t * @private\n\t * @static\n\t */\n\ts._instances = [];\n\n\t/**\n\t * An object hash storing objects with sound sources, startTime, and duration via there corresponding ID.\n\t * @property _idHash\n\t * @type {Object}\n\t * @private\n\t * @static\n\t */\n\ts._idHash = {};\n\n\t/**\n\t * An object hash that stores preloading sound sources via the parsed source that is passed to the plugin.  Contains the\n\t * source, id, and data that was passed in by the user.  Parsed sources can contain multiple instances of source, id,\n\t * and data.\n\t * @property _preloadHash\n\t * @type {Object}\n\t * @private\n\t * @static\n\t */\n\ts._preloadHash = {};\n\n\t/**\n\t * An object hash storing {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}} via the parsed source that is passed as defaultPlayProps in\n\t * {{#crossLink \"Sound/registerSound\"}}{{/crossLink}} and {{#crossLink \"Sound/registerSounds\"}}{{/crossLink}}.\n\t * @property _defaultPlayPropsHash\n\t * @type {Object}\n\t * @private\n\t * @static\n\t * @since 0.6.1\n\t */\n\ts._defaultPlayPropsHash = {};\n\n\n\t// EventDispatcher methods:\n\ts.addEventListener = null;\n\ts.removeEventListener = null;\n\ts.removeAllEventListeners = null;\n\ts.dispatchEvent = null;\n\ts.hasEventListener = null;\n\ts._listeners = null;\n\n\tcreatejs.EventDispatcher.initialize(s); // inject EventDispatcher methods.\n\n\n\t// Events\n\t/**\n\t * This event is fired when a file finishes loading internally. This event is fired for each loaded sound,\n\t * so any handler methods should look up the <code>event.src</code> to handle a particular sound.\n\t * @event fileload\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {String} src The source of the sound that was loaded.\n\t * @param {String} [id] The id passed in when the sound was registered. If one was not provided, it will be null.\n\t * @param {Number|Object} [data] Any additional data associated with the item. If not provided, it will be undefined.\n\t * @since 0.4.1\n\t */\n\n\t/**\n\t * This event is fired when a file fails loading internally. This event is fired for each loaded sound,\n\t * so any handler methods should look up the <code>event.src</code> to handle a particular sound.\n\t * @event fileerror\n\t * @param {Object} target The object that dispatched the event.\n\t * @param {String} type The event type.\n\t * @param {String} src The source of the sound that was loaded.\n\t * @param {String} [id] The id passed in when the sound was registered. If one was not provided, it will be null.\n\t * @param {Number|Object} [data] Any additional data associated with the item. If not provided, it will be undefined.\n\t * @since 0.6.0\n\t */\n\n\n\t// Class Public Methods\n\t/**\n\t * Get the preload rules to allow Sound to be used as a plugin by <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>.\n\t * Any load calls that have the matching type or extension will fire the callback method, and use the resulting\n\t * object, which is potentially modified by Sound. This helps when determining the correct path, as well as\n\t * registering the audio instance(s) with Sound. This method should not be called, except by PreloadJS.\n\t * @method getPreloadHandlers\n\t * @return {Object} An object containing:\n\t * <ul><li>callback: A preload callback that is fired when a file is added to PreloadJS, which provides\n\t *      Sound a mechanism to modify the load parameters, select the correct file format, register the sound, etc.</li>\n\t *      <li>types: A list of file types that are supported by Sound (currently supports \"sound\").</li>\n\t *      <li>extensions: A list of file extensions that are supported by Sound (see {{#crossLink \"Sound/SUPPORTED_EXTENSIONS:property\"}}{{/crossLink}}).</li></ul>\n\t * @static\n\t * @private\n\t */\n\ts.getPreloadHandlers = function () {\n\t\treturn {\n\t\t\tcallback: createjs.proxy(s.initLoad, s),\n\t\t\ttypes: [\"sound\"],\n\t\t\textensions: s.SUPPORTED_EXTENSIONS\n\t\t};\n\t};\n\n\t/**\n\t * Used to dispatch fileload events from internal loading.\n\t * @method _handleLoadComplete\n\t * @param event A loader event.\n\t * @private\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts._handleLoadComplete = function (event) {\n\t\tvar src = event.target.getItem().src;\n\t\tif (!s._preloadHash[src]) { return; }\n\n\t\tfor (var i = 0, l = s._preloadHash[src].length; i < l; i++) {\n\t\t\tvar item = s._preloadHash[src][i];\n\t\t\ts._preloadHash[src][i] = true;\n\n\t\t\tif (!s.hasEventListener(\"fileload\")) { continue; }\n\n\t\t\tvar evt = new createjs.Event(\"fileload\");\n\t\t\tevt.src = item.src;\n\t\t\tevt.id = item.id;\n\t\t\tevt.data = item.data;\n\t\t\tevt.sprite = item.sprite;\n\n\t\t\ts.dispatchEvent(evt);\n\t\t}\n\t};\n\n\t/**\n\t * Used to dispatch error events from internal preloading.\n\t * @param event\n\t * @private\n\t * @since 0.6.0\n\t * @static\n\t */\n\ts._handleLoadError = function (event) {\n\t\tvar src = event.target.getItem().src;\n\t\tif (!s._preloadHash[src]) { return; }\n\n\t\tfor (var i = 0, l = s._preloadHash[src].length; i < l; i++) {\n\t\t\tvar item = s._preloadHash[src][i];\n\t\t\ts._preloadHash[src][i] = false;\n\n\t\t\tif (!s.hasEventListener(\"fileerror\")) { continue; }\n\n\t\t\tvar evt = new createjs.Event(\"fileerror\");\n\t\t\tevt.src = item.src;\n\t\t\tevt.id = item.id;\n\t\t\tevt.data = item.data;\n\t\t\tevt.sprite = item.sprite;\n\n\t\t\ts.dispatchEvent(evt);\n\t\t}\n\t};\n\n\t/**\n\t * Used by {{#crossLink \"Sound/registerPlugins\"}}{{/crossLink}} to register a Sound plugin.\n\t *\n\t * @method _registerPlugin\n\t * @param {Object} plugin The plugin class to install.\n\t * @return {Boolean} Whether the plugin was successfully initialized.\n\t * @static\n\t * @private\n\t */\n\ts._registerPlugin = function (plugin) {\n\t\t// Note: Each plugin is passed in as a class reference, but we store the activePlugin as an instance\n\t\tif (plugin.isSupported()) {\n\t\t\ts.activePlugin = new plugin();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Register a list of Sound plugins, in order of precedence. To register a single plugin, pass a single element in the array.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.FlashAudioPlugin.swfPath = \"../src/soundjs/flashaudio/\";\n\t *      createjs.Sound.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin, createjs.FlashAudioPlugin]);\n\t *\n\t * @method registerPlugins\n\t * @param {Array} plugins An array of plugins classes to install.\n\t * @return {Boolean} Whether a plugin was successfully initialized.\n\t * @static\n\t */\n\ts.registerPlugins = function (plugins) {\n\t\ts._pluginsRegistered = true;\n\t\tfor (var i = 0, l = plugins.length; i < l; i++) {\n\t\t\tif (s._registerPlugin(plugins[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\n\t/**\n\t * Initialize the default plugins. This method is automatically called when any audio is played or registered before\n\t * the user has manually registered plugins, and enables Sound to work without manual plugin setup. Currently, the\n\t * default plugins are {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}} followed by {{#crossLink \"HTMLAudioPlugin\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \tif (!createjs.initializeDefaultPlugins()) { return; }\n\t *\n\t * @method initializeDefaultPlugins\n\t * @returns {Boolean} True if a plugin was initialized, false otherwise.\n\t * @since 0.4.0\n\t * @static\n\t */\n\ts.initializeDefaultPlugins = function () {\n\t\tif (s.activePlugin != null) { return true; }\n\t\tif (s._pluginsRegistered) { return false; }\n\t\tif (s.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin])) { return true; }\n\t\treturn false;\n\t};\n\n\t/**\n\t * Determines if Sound has been initialized, and a plugin has been activated.\n\t *\n\t * <h4>Example</h4>\n\t * This example sets up a Flash fallback, but only if there is no plugin specified yet.\n\t *\n\t * \tif (!createjs.Sound.isReady()) {\n\t *\t\tcreatejs.FlashAudioPlugin.swfPath = \"../src/soundjs/flashaudio/\";\n\t * \t\tcreatejs.Sound.registerPlugins([createjs.WebAudioPlugin, createjs.HTMLAudioPlugin, createjs.FlashAudioPlugin]);\n\t *\t}\n\t *\n\t * @method isReady\n\t * @return {Boolean} If Sound has initialized a plugin.\n\t * @static\n\t */\n\ts.isReady = function () {\n\t\treturn (s.activePlugin != null);\n\t};\n\n\t/**\n\t * Process manifest items from <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>. This method is intended\n\t * for usage by a plugin, and not for direct interaction.\n\t * @method initLoad\n\t * @param {Object} src The object to load.\n\t * @return {Object|AbstractLoader} An instance of AbstractLoader.\n\t * @private\n\t * @static\n\t */\n\ts.initLoad = function (loadItem) {\n\t\tif (loadItem.type == \"video\") { return true; } // Don't handle video. PreloadJS's plugin model is really aggressive.\n\t\treturn s._registerSound(loadItem);\n\t};\n\n\t/**\n\t * Internal method for loading sounds.  This should not be called directly.\n\t *\n\t * @method _registerSound\n\t * @param {Object} src The object to load, containing src property and optionally containing id and data.\n\t * @return {Object} An object with the modified values that were passed in, which defines the sound.\n\t * Returns false if the source cannot be parsed or no plugins can be initialized.\n\t * Returns true if the source is already loaded.\n\t * @static\n\t * @private\n\t * @since 0.6.0\n\t */\n\n\ts._registerSound = function (loadItem) {\n\t\tif (!s.initializeDefaultPlugins()) { return false; }\n\n\t\tvar details;\n\t\tif (loadItem.src instanceof Object) {\n\t\t\tdetails = s._parseSrc(loadItem.src);\n\t\t\tdetails.src = loadItem.path + details.src;\n\t\t} else {\n\t\t\tdetails = s._parsePath(loadItem.src);\n\t\t}\n\t\tif (details == null) { return false; }\n\t\tloadItem.src = details.src;\n\t\tloadItem.type = \"sound\";\n\n\t\tvar data = loadItem.data;\n\t\tvar numChannels = null;\n\t\tif (data != null) {\n\t\t\tif (!isNaN(data.channels)) {\n\t\t\t\tnumChannels = parseInt(data.channels);\n\t\t\t} else if (!isNaN(data)) {\n\t\t\t\tnumChannels = parseInt(data);\n\t\t\t}\n\n\t\t\tif (data.audioSprite) {\n\t\t\t\tvar sp;\n\t\t\t\tfor (var i = data.audioSprite.length; i--;) {\n\t\t\t\t\tsp = data.audioSprite[i];\n\t\t\t\t\ts._idHash[sp.id] = { src: loadItem.src, startTime: parseInt(sp.startTime), duration: parseInt(sp.duration) };\n\n\t\t\t\t\tif (sp.defaultPlayProps) {\n\t\t\t\t\t\ts._defaultPlayPropsHash[sp.id] = createjs.PlayPropsConfig.create(sp.defaultPlayProps);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (loadItem.id != null) { s._idHash[loadItem.id] = { src: loadItem.src } }\n\t\tvar loader = s.activePlugin.register(loadItem);\n\n\t\tSoundChannel.create(loadItem.src, numChannels);\n\n\t\t// return the number of instances to the user.  This will also be returned in the load event.\n\t\tif (data == null || !isNaN(data)) {\n\t\t\tloadItem.data = numChannels || SoundChannel.maxPerChannel();\n\t\t} else {\n\t\t\tloadItem.data.channels = numChannels || SoundChannel.maxPerChannel();\n\t\t}\n\n\t\tif (loader.type) { loadItem.type = loader.type; }\n\n\t\tif (loadItem.defaultPlayProps) {\n\t\t\ts._defaultPlayPropsHash[loadItem.src] = createjs.PlayPropsConfig.create(loadItem.defaultPlayProps);\n\t\t}\n\t\treturn loader;\n\t};\n\n\t/**\n\t * Register an audio file for loading and future playback in Sound. This is automatically called when using\n\t * <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>.  It is recommended to register all sounds that\n\t * need to be played back in order to properly prepare and preload them. Sound does internal preloading when required.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Sound.alternateExtensions = [\"mp3\"];\n\t *      createjs.Sound.on(\"fileload\", handleLoad); // add an event listener for when load is completed\n\t *      createjs.Sound.registerSound(\"myAudioPath/mySound.ogg\", \"myID\", 3);\n\t *      createjs.Sound.registerSound({ogg:\"path1/mySound.ogg\", mp3:\"path2/mySoundNoExtension\"}, \"myID\", 3);\n\t *\n\t *\n\t * @method registerSound\n\t * @param {String | Object} src The source or an Object with a \"src\" property or an Object with multiple extension labeled src properties.\n\t * @param {String} [id] An id specified by the user to play the sound later.  Note id is required for when src is multiple extension labeled src properties.\n\t * @param {Number | Object} [data] Data associated with the item. Sound uses the data parameter as the number of\n\t * channels for an audio instance, however a \"channels\" property can be appended to the data object if it is used\n\t * for other information. The audio channels will set a default based on plugin if no value is found.\n\t * Sound also uses the data property to hold an {{#crossLink \"AudioSprite\"}}{{/crossLink}} array of objects in the following format {id, startTime, duration}.<br/>\n\t *   id used to play the sound later, in the same manner as a sound src with an id.<br/>\n\t *   startTime is the initial offset to start playback and loop from, in milliseconds.<br/>\n\t *   duration is the amount of time to play the clip for, in milliseconds.<br/>\n\t * This allows Sound to support audio sprites that are played back by id.\n\t * @param {string} basePath Set a path that will be prepended to src for loading.\n\t * @param {Object | PlayPropsConfig} defaultPlayProps Optional Playback properties that will be set as the defaults on any new AbstractSoundInstance.\n\t * See {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}} for options.\n\t * @return {Object} An object with the modified values that were passed in, which defines the sound.\n\t * Returns false if the source cannot be parsed or no plugins can be initialized.\n\t * Returns true if the source is already loaded.\n\t * @static\n\t * @since 0.4.0\n\t */\n\ts.registerSound = function (src, id, data, basePath, defaultPlayProps) {\n\t\tvar loadItem = { src: src, id: id, data: data, defaultPlayProps: defaultPlayProps };\n\t\tif (src instanceof Object && src.src) {\n\t\t\tbasePath = id;\n\t\t\tloadItem = src;\n\t\t}\n\t\tloadItem = createjs.LoadItem.create(loadItem);\n\t\tloadItem.path = basePath;\n\n\t\tif (basePath != null && !(loadItem.src instanceof Object)) { loadItem.src = basePath + loadItem.src; }\n\n\t\tvar loader = s._registerSound(loadItem);\n\t\tif (!loader) { return false; }\n\n\t\tif (!s._preloadHash[loadItem.src]) { s._preloadHash[loadItem.src] = []; }\n\t\ts._preloadHash[loadItem.src].push(loadItem);\n\t\tif (s._preloadHash[loadItem.src].length == 1) {\n\t\t\t// OJR note this will disallow reloading a sound if loading fails or the source changes\n\t\t\tloader.on(\"complete\", this._handleLoadComplete, this);\n\t\t\tloader.on(\"error\", this._handleLoadError, this);\n\t\t\ts.activePlugin.preload(loader);\n\t\t} else {\n\t\t\tif (s._preloadHash[loadItem.src][0] == true) { return true; }\n\t\t}\n\n\t\treturn loadItem;\n\t};\n\n\t/**\n\t * Register an array of audio files for loading and future playback in Sound. It is recommended to register all\n\t * sounds that need to be played back in order to properly prepare and preload them. Sound does internal preloading\n\t * when required.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \t\tvar assetPath = \"./myAudioPath/\";\n\t *      var sounds = [\n\t *          {src:\"asset0.ogg\", id:\"example\"},\n\t *          {src:\"asset1.ogg\", id:\"1\", data:6},\n\t *          {src:\"asset2.mp3\", id:\"works\"}\n\t *          {src:{mp3:\"path1/asset3.mp3\", ogg:\"path2/asset3NoExtension\"}, id:\"better\"}\n\t *      ];\n\t *      createjs.Sound.alternateExtensions = [\"mp3\"];\t// if the passed extension is not supported, try this extension\n\t *      createjs.Sound.on(\"fileload\", handleLoad); // call handleLoad when each sound loads\n\t *      createjs.Sound.registerSounds(sounds, assetPath);\n\t *\n\t * @method registerSounds\n\t * @param {Array} sounds An array of objects to load. Objects are expected to be in the format needed for\n\t * {{#crossLink \"Sound/registerSound\"}}{{/crossLink}}: <code>{src:srcURI, id:ID, data:Data}</code>\n\t * with \"id\" and \"data\" being optional.\n\t * You can also pass an object with path and manifest properties, where path is a basePath and manifest is an array of objects to load.\n\t * Note id is required if src is an object with extension labeled src properties.\n\t * @param {string} basePath Set a path that will be prepended to each src when loading.  When creating, playing, or removing\n\t * audio that was loaded with a basePath by src, the basePath must be included.\n\t * @return {Object} An array of objects with the modified values that were passed in, which defines each sound.\n\t * Like registerSound, it will return false for any values when the source cannot be parsed or if no plugins can be initialized.\n\t * Also, it will return true for any values when the source is already loaded.\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.registerSounds = function (sounds, basePath) {\n\t\tvar returnValues = [];\n\t\tif (sounds.path) {\n\t\t\tif (!basePath) {\n\t\t\t\tbasePath = sounds.path;\n\t\t\t} else {\n\t\t\t\tbasePath = basePath + sounds.path;\n\t\t\t}\n\t\t\tsounds = sounds.manifest;\n\t\t\t// TODO document this feature\n\t\t}\n\t\tfor (var i = 0, l = sounds.length; i < l; i++) {\n\t\t\treturnValues[i] = createjs.Sound.registerSound(sounds[i].src, sounds[i].id, sounds[i].data, basePath, sounds[i].defaultPlayProps);\n\t\t}\n\t\treturn returnValues;\n\t};\n\n\t/**\n\t * Remove a sound that has been registered with {{#crossLink \"Sound/registerSound\"}}{{/crossLink}} or\n\t * {{#crossLink \"Sound/registerSounds\"}}{{/crossLink}}.\n\t * <br />Note this will stop playback on active instances playing this sound before deleting them.\n\t * <br />Note if you passed in a basePath, you need to pass it or prepend it to the src here.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Sound.removeSound(\"myID\");\n\t *      createjs.Sound.removeSound(\"myAudioBasePath/mySound.ogg\");\n\t *      createjs.Sound.removeSound(\"myPath/myOtherSound.mp3\", \"myBasePath/\");\n\t *      createjs.Sound.removeSound({mp3:\"musicNoExtension\", ogg:\"music.ogg\"}, \"myBasePath/\");\n\t *\n\t * @method removeSound\n\t * @param {String | Object} src The src or ID of the audio, or an Object with a \"src\" property, or an Object with multiple extension labeled src properties.\n\t * @param {string} basePath Set a path that will be prepended to each src when removing.\n\t * @return {Boolean} True if sound is successfully removed.\n\t * @static\n\t * @since 0.4.1\n\t */\n\ts.removeSound = function (src, basePath) {\n\t\tif (s.activePlugin == null) { return false; }\n\n\t\tif (src instanceof Object && src.src) { src = src.src; }\n\n\t\tvar details;\n\t\tif (src instanceof Object) {\n\t\t\tdetails = s._parseSrc(src);\n\t\t} else {\n\t\t\tsrc = s._getSrcById(src).src;\n\t\t\tdetails = s._parsePath(src);\n\t\t}\n\t\tif (details == null) { return false; }\n\t\tsrc = details.src;\n\t\tif (basePath != null) { src = basePath + src; }\n\n\t\tfor (var prop in s._idHash) {\n\t\t\tif (s._idHash[prop].src == src) {\n\t\t\t\tdelete (s._idHash[prop]);\n\t\t\t}\n\t\t}\n\n\t\t// clear from SoundChannel, which also stops and deletes all instances\n\t\tSoundChannel.removeSrc(src);\n\n\t\tdelete (s._preloadHash[src]);\n\n\t\ts.activePlugin.removeSound(src);\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Remove an array of audio files that have been registered with {{#crossLink \"Sound/registerSound\"}}{{/crossLink}} or\n\t * {{#crossLink \"Sound/registerSounds\"}}{{/crossLink}}.\n\t * <br />Note this will stop playback on active instances playing this audio before deleting them.\n\t * <br />Note if you passed in a basePath, you need to pass it or prepend it to the src here.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t * \t\tassetPath = \"./myPath/\";\n\t *      var sounds = [\n\t *          {src:\"asset0.ogg\", id:\"example\"},\n\t *          {src:\"asset1.ogg\", id:\"1\", data:6},\n\t *          {src:\"asset2.mp3\", id:\"works\"}\n\t *      ];\n\t *      createjs.Sound.removeSounds(sounds, assetPath);\n\t *\n\t * @method removeSounds\n\t * @param {Array} sounds An array of objects to remove. Objects are expected to be in the format needed for\n\t * {{#crossLink \"Sound/removeSound\"}}{{/crossLink}}: <code>{srcOrID:srcURIorID}</code>.\n\t * You can also pass an object with path and manifest properties, where path is a basePath and manifest is an array of objects to remove.\n\t * @param {string} basePath Set a path that will be prepended to each src when removing.\n\t * @return {Object} An array of Boolean values representing if the sounds with the same array index were\n\t * successfully removed.\n\t * @static\n\t * @since 0.4.1\n\t */\n\ts.removeSounds = function (sounds, basePath) {\n\t\tvar returnValues = [];\n\t\tif (sounds.path) {\n\t\t\tif (!basePath) {\n\t\t\t\tbasePath = sounds.path;\n\t\t\t} else {\n\t\t\t\tbasePath = basePath + sounds.path;\n\t\t\t}\n\t\t\tsounds = sounds.manifest;\n\t\t}\n\t\tfor (var i = 0, l = sounds.length; i < l; i++) {\n\t\t\treturnValues[i] = createjs.Sound.removeSound(sounds[i].src, basePath);\n\t\t}\n\t\treturn returnValues;\n\t};\n\n\t/**\n\t * Remove all sounds that have been registered with {{#crossLink \"Sound/registerSound\"}}{{/crossLink}} or\n\t * {{#crossLink \"Sound/registerSounds\"}}{{/crossLink}}.\n\t * <br />Note this will stop playback on all active sound instances before deleting them.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     createjs.Sound.removeAllSounds();\n\t *\n\t * @method removeAllSounds\n\t * @static\n\t * @since 0.4.1\n\t */\n\ts.removeAllSounds = function () {\n\t\ts._idHash = {};\n\t\ts._preloadHash = {};\n\t\tSoundChannel.removeAll();\n\t\tif (s.activePlugin) { s.activePlugin.removeAllSounds(); }\n\t};\n\n\t/**\n\t * Check if a source has been loaded by internal preloaders. This is necessary to ensure that sounds that are\n\t * not completed preloading will not kick off a new internal preload if they are played.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     var mySound = \"assetPath/asset0.ogg\";\n\t *     if(createjs.Sound.loadComplete(mySound) {\n\t *         createjs.Sound.play(mySound);\n\t *     }\n\t *\n\t * @method loadComplete\n\t * @param {String} src The src or id that is being loaded.\n\t * @return {Boolean} If the src is already loaded.\n\t * @since 0.4.0\n\t * @static\n\t */\n\ts.loadComplete = function (src) {\n\t\tif (!s.isReady()) { return false; }\n\t\tvar details = s._parsePath(src);\n\t\tif (details) {\n\t\t\tsrc = s._getSrcById(details.src).src;\n\t\t} else {\n\t\t\tsrc = s._getSrcById(src).src;\n\t\t}\n\t\tif (s._preloadHash[src] == undefined) { return false; }\n\t\treturn (s._preloadHash[src][0] == true);  // src only loads once, so if it's true for the first it's true for all\n\t};\n\n\t/**\n\t * Parse the path of a sound. Alternate extensions will be attempted in order if the\n\t * current extension is not supported\n\t * @method _parsePath\n\t * @param {String} value The path to an audio source.\n\t * @return {Object} A formatted object that can be registered with the {{#crossLink \"Sound/activePlugin:property\"}}{{/crossLink}}\n\t * and returned to a preloader like <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>.\n\t * @private\n\t * @static\n\t */\n\ts._parsePath = function (value) {\n\t\tif (typeof (value) != \"string\") { value = value.toString(); }\n\n\t\tvar match = value.match(s.FILE_PATTERN);\n\t\tif (match == null) { return false; }\n\n\t\tvar name = match[4];\n\t\tvar ext = match[5];\n\t\tvar c = s.capabilities;\n\t\tvar i = 0;\n\t\twhile (!c[ext]) {\n\t\t\text = s.alternateExtensions[i++];\n\t\t\tif (i > s.alternateExtensions.length) { return null; }\t// no extensions are supported\n\t\t}\n\t\tvalue = value.replace(\".\" + match[5], \".\" + ext);\n\n\t\tvar ret = { name: name, src: value, extension: ext };\n\t\treturn ret;\n\t};\n\n\t/**\n\t * Parse the path of a sound based on properties of src matching with supported extensions.\n\t * Returns false if none of the properties are supported\n\t * @method _parseSrc\n\t * @param {Object} value The paths to an audio source, indexed by extension type.\n\t * @return {Object} A formatted object that can be registered with the {{#crossLink \"Sound/activePlugin:property\"}}{{/crossLink}}\n\t * and returned to a preloader like <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>.\n\t * @private\n\t * @static\n\t */\n\ts._parseSrc = function (value) {\n\t\tvar ret = { name: undefined, src: undefined, extension: undefined };\n\t\tvar c = s.capabilities;\n\n\t\tfor (var prop in value) {\n\t\t\tif (value.hasOwnProperty(prop) && c[prop]) {\n\t\t\t\tret.src = value[prop];\n\t\t\t\tret.extension = prop;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!ret.src) { return false; }\t// no matches\n\n\t\tvar i = ret.src.lastIndexOf(\"/\");\n\t\tif (i != -1) {\n\t\t\tret.name = ret.src.slice(i + 1);\n\t\t} else {\n\t\t\tret.name = ret.src;\n\t\t}\n\n\t\treturn ret;\n\t};\n\n\t/* ---------------\n\t Static API.\n\t --------------- */\n\t/**\n\t * Play a sound and get a {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} to control. If the sound fails to\n\t * play, an AbstractSoundInstance will still be returned, and have a playState of {{#crossLink \"Sound/PLAY_FAILED:property\"}}{{/crossLink}}.\n\t * Note that even on sounds with failed playback, you may still be able to call the {{#crossLink \"AbstractSoundInstance/play\"}}{{/crossLink}},\n\t * method, since the failure could be due to lack of available channels. If the src does not have a supported\n\t * extension or if there is no available plugin, a default AbstractSoundInstance will still be returned, which will\n\t * not play any audio, but will not generate errors.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      createjs.Sound.on(\"fileload\", handleLoad);\n\t *      createjs.Sound.registerSound(\"myAudioPath/mySound.mp3\", \"myID\", 3);\n\t *      function handleLoad(event) {\n\t *      \tcreatejs.Sound.play(\"myID\");\n\t *      \t// store off AbstractSoundInstance for controlling\n\t *      \tvar myInstance = createjs.Sound.play(\"myID\", {interrupt: createjs.Sound.INTERRUPT_ANY, loop:-1});\n\t *      }\n\t *\n\t * NOTE: To create an audio sprite that has not already been registered, both startTime and duration need to be set.\n\t * This is only when creating a new audio sprite, not when playing using the id of an already registered audio sprite.\n\t *\n\t * @method play\n\t * @param {String} src The src or ID of the audio.\n\t * @param {Object | PlayPropsConfig} props A PlayPropsConfig instance, or an object that contains the parameters to\n\t * play a sound. See the {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}} for more info.\n\t * @return {AbstractSoundInstance} A {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} that can be controlled\n\t * after it is created.\n\t * @static\n\t */\n\ts.play = function (src, props) {\n\t\tvar playProps = createjs.PlayPropsConfig.create(props);\n\t\tvar instance = s.createInstance(src, playProps.startTime, playProps.duration);\n\t\tvar ok = s._playInstance(instance, playProps);\n\t\tif (!ok) { instance._playFailed(); }\n\t\treturn instance;\n\t};\n\n\t/**\n\t * Creates a {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} using the passed in src. If the src does not have a\n\t * supported extension or if there is no available plugin, a default AbstractSoundInstance will be returned that can be\n\t * called safely but does nothing.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var myInstance = null;\n\t *      createjs.Sound.on(\"fileload\", handleLoad);\n\t *      createjs.Sound.registerSound(\"myAudioPath/mySound.mp3\", \"myID\", 3);\n\t *      function handleLoad(event) {\n\t *      \tmyInstance = createjs.Sound.createInstance(\"myID\");\n\t *      \t// alternately we could call the following\n\t *      \tmyInstance = createjs.Sound.createInstance(\"myAudioPath/mySound.mp3\");\n\t *      }\n\t *\n\t * NOTE to create an audio sprite that has not already been registered, both startTime and duration need to be set.\n\t * This is only when creating a new audio sprite, not when playing using the id of an already registered audio sprite.\n\t *\n\t * @method createInstance\n\t * @param {String} src The src or ID of the audio.\n\t * @param {Number} [startTime=null] To create an audio sprite (with duration), the initial offset to start playback and loop from, in milliseconds.\n\t * @param {Number} [duration=null] To create an audio sprite (with startTime), the amount of time to play the clip for, in milliseconds.\n\t * @return {AbstractSoundInstance} A {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} that can be controlled after it is created.\n\t * Unsupported extensions will return the default AbstractSoundInstance.\n\t * @since 0.4.0\n\t * @static\n\t */\n\ts.createInstance = function (src, startTime, duration) {\n\t\tif (!s.initializeDefaultPlugins()) { return new createjs.DefaultSoundInstance(src, startTime, duration); }\n\n\t\tvar defaultPlayProps = s._defaultPlayPropsHash[src];\t// for audio sprites, which create and store defaults by id\n\t\tsrc = s._getSrcById(src);\n\n\t\tvar details = s._parsePath(src.src);\n\n\t\tvar instance = null;\n\t\tif (details != null && details.src != null) {\n\t\t\tSoundChannel.create(details.src);\n\t\t\tif (startTime == null) { startTime = src.startTime; }\n\t\t\tinstance = s.activePlugin.create(details.src, startTime, duration || src.duration);\n\n\t\t\tdefaultPlayProps = defaultPlayProps || s._defaultPlayPropsHash[details.src];\n\t\t\tif (defaultPlayProps) {\n\t\t\t\tinstance.applyPlayProps(defaultPlayProps);\n\t\t\t}\n\t\t} else {\n\t\t\tinstance = new createjs.DefaultSoundInstance(src, startTime, duration);\n\t\t}\n\n\t\tinstance.uniqueId = s._lastID++;\n\n\t\treturn instance;\n\t};\n\n\t/**\n\t * Stop all audio (global stop). Stopped audio is reset, and not paused. To play audio that has been stopped,\n\t * call AbstractSoundInstance {{#crossLink \"AbstractSoundInstance/play\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     createjs.Sound.stop();\n\t *\n\t * @method stop\n\t * @static\n\t */\n\ts.stop = function () {\n\t\tvar instances = this._instances;\n\t\tfor (var i = instances.length; i--;) {\n\t\t\tinstances[i].stop();  // NOTE stop removes instance from this._instances\n\t\t}\n\t};\n\n\t/**\n\t * Set the default playback properties for all new SoundInstances of the passed in src or ID.\n\t * See {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}} for available properties.\n\t *\n\t * @method setDefaultPlayProps\n\t * @param {String} src The src or ID used to register the audio.\n\t * @param {Object | PlayPropsConfig} playProps The playback properties you would like to set.\n\t * @since 0.6.1\n\t */\n\ts.setDefaultPlayProps = function (src, playProps) {\n\t\tsrc = s._getSrcById(src);\n\t\ts._defaultPlayPropsHash[s._parsePath(src.src).src] = createjs.PlayPropsConfig.create(playProps);\n\t};\n\n\t/**\n\t * Get the default playback properties for the passed in src or ID.  These properties are applied to all\n\t * new SoundInstances.  Returns null if default does not exist.\n\t *\n\t * @method getDefaultPlayProps\n\t * @param {String} src The src or ID used to register the audio.\n\t * @returns {PlayPropsConfig} returns an existing PlayPropsConfig or null if one does not exist\n\t * @since 0.6.1\n\t */\n\ts.getDefaultPlayProps = function (src) {\n\t\tsrc = s._getSrcById(src);\n\t\treturn s._defaultPlayPropsHash[s._parsePath(src.src).src];\n\t};\n\n\n\t/* ---------------\n\t Internal methods\n\t --------------- */\n\t/**\n\t * Play an instance. This is called by the static API, as well as from plugins. This allows the core class to\n\t * control delays.\n\t * @method _playInstance\n\t * @param {AbstractSoundInstance} instance The {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} to start playing.\n\t * @param {PlayPropsConfig} playProps A PlayPropsConfig object.\n\t * @return {Boolean} If the sound can start playing. Sounds that fail immediately will return false. Sounds that\n\t * have a delay will return true, but may still fail to play.\n\t * @private\n\t * @static\n\t */\n\ts._playInstance = function (instance, playProps) {\n\t\tvar defaultPlayProps = s._defaultPlayPropsHash[instance.src] || {};\n\t\tif (playProps.interrupt == null) { playProps.interrupt = defaultPlayProps.interrupt || s.defaultInterruptBehavior }\n\t\tif (playProps.delay == null) { playProps.delay = defaultPlayProps.delay || 0; }\n\t\tif (playProps.offset == null) { playProps.offset = instance.position; }\n\t\tif (playProps.loop == null) { playProps.loop = instance.loop; }\n\t\tif (playProps.volume == null) { playProps.volume = instance.volume; }\n\t\tif (playProps.pan == null) { playProps.pan = instance.pan; }\n\n\t\tif (playProps.delay == 0) {\n\t\t\tvar ok = s._beginPlaying(instance, playProps);\n\t\t\tif (!ok) { return false; }\n\t\t} else {\n\t\t\t//Note that we can't pass arguments to proxy OR setTimeout (IE only), so just wrap the function call.\n\t\t\t// OJR WebAudio may want to handle this differently, so it might make sense to move this functionality into the plugins in the future\n\t\t\tvar delayTimeoutId = setTimeout(function () {\n\t\t\t\ts._beginPlaying(instance, playProps);\n\t\t\t}, playProps.delay);\n\t\t\tinstance.delayTimeoutId = delayTimeoutId;\n\t\t}\n\n\t\tthis._instances.push(instance);\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Begin playback. This is called immediately or after delay by {{#crossLink \"Sound/playInstance\"}}{{/crossLink}}.\n\t * @method _beginPlaying\n\t * @param {AbstractSoundInstance} instance A {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} to begin playback.\n\t * @param {PlayPropsConfig} playProps A PlayPropsConfig object.\n\t * @return {Boolean} If the sound can start playing. If there are no available channels, or the instance fails to\n\t * start, this will return false.\n\t * @private\n\t * @static\n\t */\n\ts._beginPlaying = function (instance, playProps) {\n\t\tif (!SoundChannel.add(instance, playProps.interrupt)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar result = instance._beginPlaying(playProps);\n\t\tif (!result) {\n\t\t\tvar index = createjs.indexOf(this._instances, instance);\n\t\t\tif (index > -1) { this._instances.splice(index, 1); }\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\t/**\n\t * Get the source of a sound via the ID passed in with a register call. If no ID is found the value is returned\n\t * instead.\n\t * @method _getSrcById\n\t * @param {String} value The ID the sound was registered with.\n\t * @return {String} The source of the sound if it has been registered with this ID or the value that was passed in.\n\t * @private\n\t * @static\n\t */\n\ts._getSrcById = function (value) {\n\t\treturn s._idHash[value] || { src: value };\n\t};\n\n\t/**\n\t * A sound has completed playback, been interrupted, failed, or been stopped. This method removes the instance from\n\t * Sound management. It will be added again, if the sound re-plays. Note that this method is called from the\n\t * instances themselves.\n\t * @method _playFinished\n\t * @param {AbstractSoundInstance} instance The instance that finished playback.\n\t * @private\n\t * @static\n\t */\n\ts._playFinished = function (instance) {\n\t\tSoundChannel.remove(instance);\n\t\tvar index = createjs.indexOf(this._instances, instance);\n\t\tif (index > -1) { this._instances.splice(index, 1); }\t// OJR this will always be > -1, there is no way for an instance to exist without being added to this._instances\n\t};\n\n\tcreatejs.Sound = Sound;\n\n\t/**\n\t * An internal class that manages the number of active {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} instances for\n\t * each sound type. This method is only used internally by the {{#crossLink \"Sound\"}}{{/crossLink}} class.\n\t *\n\t * The number of sounds is artificially limited by Sound in order to prevent over-saturation of a\n\t * single sound, as well as to stay within hardware limitations, although the latter may disappear with better\n\t * browser support.\n\t *\n\t * When a sound is played, this class ensures that there is an available instance, or interrupts an appropriate\n\t * sound that is already playing.\n\t * #class SoundChannel\n\t * @param {String} src The source of the instances\n\t * @param {Number} [max=1] The number of instances allowed\n\t * @constructor\n\t * @protected\n\t */\n\tfunction SoundChannel(src, max) {\n\t\tthis.init(src, max);\n\t}\n\n\t/* ------------\n\t Static API\n\t ------------ */\n\t/**\n\t * A hash of channel instances indexed by source.\n\t * #property channels\n\t * @type {Object}\n\t * @static\n\t */\n\tSoundChannel.channels = {};\n\n\t/**\n\t * Create a sound channel. Note that if the sound channel already exists, this will fail.\n\t * #method create\n\t * @param {String} src The source for the channel\n\t * @param {Number} max The maximum amount this channel holds. The default is {{#crossLink \"SoundChannel.maxDefault\"}}{{/crossLink}}.\n\t * @return {Boolean} If the channels were created.\n\t * @static\n\t */\n\tSoundChannel.create = function (src, max) {\n\t\tvar channel = SoundChannel.get(src);\n\t\tif (channel == null) {\n\t\t\tSoundChannel.channels[src] = new SoundChannel(src, max);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\t/**\n\t * Delete a sound channel, stop and delete all related instances. Note that if the sound channel does not exist, this will fail.\n\t * #method remove\n\t * @param {String} src The source for the channel\n\t * @return {Boolean} If the channels were deleted.\n\t * @static\n\t */\n\tSoundChannel.removeSrc = function (src) {\n\t\tvar channel = SoundChannel.get(src);\n\t\tif (channel == null) { return false; }\n\t\tchannel._removeAll();\t// this stops and removes all active instances\n\t\tdelete (SoundChannel.channels[src]);\n\t\treturn true;\n\t};\n\t/**\n\t * Delete all sound channels, stop and delete all related instances.\n\t * #method removeAll\n\t * @static\n\t */\n\tSoundChannel.removeAll = function () {\n\t\tfor (var channel in SoundChannel.channels) {\n\t\t\tSoundChannel.channels[channel]._removeAll();\t// this stops and removes all active instances\n\t\t}\n\t\tSoundChannel.channels = {};\n\t};\n\t/**\n\t * Add an instance to a sound channel.\n\t * #method add\n\t * @param {AbstractSoundInstance} instance The instance to add to the channel\n\t * @param {String} interrupt The interrupt value to use. Please see the {{#crossLink \"Sound/play\"}}{{/crossLink}}\n\t * for details on interrupt modes.\n\t * @return {Boolean} The success of the method call. If the channel is full, it will return false.\n\t * @static\n\t */\n\tSoundChannel.add = function (instance, interrupt) {\n\t\tvar channel = SoundChannel.get(instance.src);\n\t\tif (channel == null) { return false; }\n\t\treturn channel._add(instance, interrupt);\n\t};\n\t/**\n\t * Remove an instance from the channel.\n\t * #method remove\n\t * @param {AbstractSoundInstance} instance The instance to remove from the channel\n\t * @return The success of the method call. If there is no channel, it will return false.\n\t * @static\n\t */\n\tSoundChannel.remove = function (instance) {\n\t\tvar channel = SoundChannel.get(instance.src);\n\t\tif (channel == null) { return false; }\n\t\tchannel._remove(instance);\n\t\treturn true;\n\t};\n\t/**\n\t * Get the maximum number of sounds you can have in a channel.\n\t * #method maxPerChannel\n\t * @return {Number} The maximum number of sounds you can have in a channel.\n\t */\n\tSoundChannel.maxPerChannel = function () {\n\t\treturn p.maxDefault;\n\t};\n\t/**\n\t * Get a channel instance by its src.\n\t * #method get\n\t * @param {String} src The src to use to look up the channel\n\t * @static\n\t */\n\tSoundChannel.get = function (src) {\n\t\treturn SoundChannel.channels[src];\n\t};\n\n\tvar p = SoundChannel.prototype;\n\tp.constructor = SoundChannel;\n\n\t/**\n\t * The source of the channel.\n\t * #property src\n\t * @type {String}\n\t */\n\tp.src = null;\n\n\t/**\n\t * The maximum number of instances in this channel.  -1 indicates no limit\n\t * #property max\n\t * @type {Number}\n\t */\n\tp.max = null;\n\n\t/**\n\t * The default value to set for max, if it isn't passed in.  Also used if -1 is passed.\n\t * #property maxDefault\n\t * @type {Number}\n\t * @default 100\n\t * @since 0.4.0\n\t */\n\tp.maxDefault = 100;\n\n\t/**\n\t * The current number of active instances.\n\t * #property length\n\t * @type {Number}\n\t */\n\tp.length = 0;\n\n\t/**\n\t * Initialize the channel.\n\t * #method init\n\t * @param {String} src The source of the channel\n\t * @param {Number} max The maximum number of instances in the channel\n\t * @protected\n\t */\n\tp.init = function (src, max) {\n\t\tthis.src = src;\n\t\tthis.max = max || this.maxDefault;\n\t\tif (this.max == -1) { this.max = this.maxDefault; }\n\t\tthis._instances = [];\n\t};\n\n\t/**\n\t * Get an instance by index.\n\t * #method get\n\t * @param {Number} index The index to return.\n\t * @return {AbstractSoundInstance} The AbstractSoundInstance at a specific instance.\n\t */\n\tp._get = function (index) {\n\t\treturn this._instances[index];\n\t};\n\n\t/**\n\t * Add a new instance to the channel.\n\t * #method add\n\t * @param {AbstractSoundInstance} instance The instance to add.\n\t * @return {Boolean} The success of the method call. If the channel is full, it will return false.\n\t */\n\tp._add = function (instance, interrupt) {\n\t\tif (!this._getSlot(interrupt, instance)) { return false; }\n\t\tthis._instances.push(instance);\n\t\tthis.length++;\n\t\treturn true;\n\t};\n\n\t/**\n\t * Remove an instance from the channel, either when it has finished playing, or it has been interrupted.\n\t * #method remove\n\t * @param {AbstractSoundInstance} instance The instance to remove\n\t * @return {Boolean} The success of the remove call. If the instance is not found in this channel, it will\n\t * return false.\n\t */\n\tp._remove = function (instance) {\n\t\tvar index = createjs.indexOf(this._instances, instance);\n\t\tif (index == -1) { return false; }\n\t\tthis._instances.splice(index, 1);\n\t\tthis.length--;\n\t\treturn true;\n\t};\n\n\t/**\n\t * Stop playback and remove all instances from the channel.  Usually in response to a delete call.\n\t * #method removeAll\n\t */\n\tp._removeAll = function () {\n\t\t// Note that stop() removes the item from the list\n\t\tfor (var i = this.length - 1; i >= 0; i--) {\n\t\t\tthis._instances[i].stop();\n\t\t}\n\t};\n\n\t/**\n\t * Get an available slot depending on interrupt value and if slots are available.\n\t * #method getSlot\n\t * @param {String} interrupt The interrupt value to use.\n\t * @param {AbstractSoundInstance} instance The sound instance that will go in the channel if successful.\n\t * @return {Boolean} Determines if there is an available slot. Depending on the interrupt mode, if there are no slots,\n\t * an existing AbstractSoundInstance may be interrupted. If there are no slots, this method returns false.\n\t */\n\tp._getSlot = function (interrupt, instance) {\n\t\tvar target, replacement;\n\n\t\tif (interrupt != Sound.INTERRUPT_NONE) {\n\t\t\t// First replacement candidate\n\t\t\treplacement = this._get(0);\n\t\t\tif (replacement == null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = this.max; i < l; i++) {\n\t\t\ttarget = this._get(i);\n\n\t\t\t// Available Space\n\t\t\tif (target == null) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Audio is complete or not playing\n\t\t\tif (target.playState == Sound.PLAY_FINISHED ||\n\t\t\t\ttarget.playState == Sound.PLAY_INTERRUPTED ||\n\t\t\t\ttarget.playState == Sound.PLAY_FAILED) {\n\t\t\t\treplacement = target;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (interrupt == Sound.INTERRUPT_NONE) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Audio is a better candidate than the current target, according to playhead\n\t\t\tif ((interrupt == Sound.INTERRUPT_EARLY && target.position < replacement.position) ||\n\t\t\t\t(interrupt == Sound.INTERRUPT_LATE && target.position > replacement.position)) {\n\t\t\t\treplacement = target;\n\t\t\t}\n\t\t}\n\n\t\tif (replacement != null) {\n\t\t\treplacement._interrupt();\n\t\t\tthis._remove(replacement);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[Sound SoundChannel]\";\n\t};\n\t// do not add SoundChannel to namespace\n\n}());\n\n//##############################################################################\n// AbstractSoundInstance.js\n//##############################################################################\n\n\n\n/**\n * A AbstractSoundInstance is created when any calls to the Sound API method {{#crossLink \"Sound/play\"}}{{/crossLink}} or\n * {{#crossLink \"Sound/createInstance\"}}{{/crossLink}} are made. The AbstractSoundInstance is returned by the active plugin\n * for control by the user.\n *\n * <h4>Example</h4>\n *\n *      var myInstance = createjs.Sound.play(\"myAssetPath/mySrcFile.mp3\");\n *\n * A number of additional parameters provide a quick way to determine how a sound is played. Please see the Sound\n * API method {{#crossLink \"Sound/play\"}}{{/crossLink}} for a list of arguments.\n *\n * Once a AbstractSoundInstance is created, a reference can be stored that can be used to control the audio directly through\n * the AbstractSoundInstance. If the reference is not stored, the AbstractSoundInstance will play out its audio (and any loops), and\n * is then de-referenced from the {{#crossLink \"Sound\"}}{{/crossLink}} class so that it can be cleaned up. If audio\n * playback has completed, a simple call to the {{#crossLink \"AbstractSoundInstance/play\"}}{{/crossLink}} instance method\n * will rebuild the references the Sound class need to control it.\n *\n *      var myInstance = createjs.Sound.play(\"myAssetPath/mySrcFile.mp3\", {loop:2});\n *      myInstance.on(\"loop\", handleLoop);\n *      function handleLoop(event) {\n *          myInstance.volume = myInstance.volume * 0.5;\n *      }\n *\n * Events are dispatched from the instance to notify when the sound has completed, looped, or when playback fails\n *\n *      var myInstance = createjs.Sound.play(\"myAssetPath/mySrcFile.mp3\");\n *      myInstance.on(\"complete\", handleComplete);\n *      myInstance.on(\"loop\", handleLoop);\n *      myInstance.on(\"failed\", handleFailed);\n *\n *\n * @class AbstractSoundInstance\n * @param {String} src The path to and file name of the sound.\n * @param {Number} startTime Audio sprite property used to apply an offset, in milliseconds.\n * @param {Number} duration Audio sprite property used to set the time the clip plays for, in milliseconds.\n * @param {Object} playbackResource Any resource needed by plugin to support audio playback.\n * @extends EventDispatcher\n * @constructor\n */\n\n(function () {\n\t\"use strict\";\n\n\n\t// Constructor:\n\tvar AbstractSoundInstance = function (src, startTime, duration, playbackResource) {\n\t\tthis.EventDispatcher_constructor();\n\n\n\t\t// public properties:\n\t\t/**\n\t\t * The source of the sound.\n\t\t * @property src\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.src = src;\n\n\t\t/**\n\t\t * The unique ID of the instance. This is set by {{#crossLink \"Sound\"}}{{/crossLink}}.\n\t\t * @property uniqueId\n\t\t * @type {String} | Number\n\t\t * @default -1\n\t\t */\n\t\tthis.uniqueId = -1;\n\n\t\t/**\n\t\t * The play state of the sound. Play states are defined as constants on {{#crossLink \"Sound\"}}{{/crossLink}}.\n\t\t * @property playState\n\t\t * @type {String}\n\t\t * @default null\n\t\t */\n\t\tthis.playState = null;\n\n\t\t/**\n\t\t * A Timeout created by {{#crossLink \"Sound\"}}{{/crossLink}} when this AbstractSoundInstance is played with a delay.\n\t\t * This allows AbstractSoundInstance to remove the delay if stop, pause, or cleanup are called before playback begins.\n\t\t * @property delayTimeoutId\n\t\t * @type {timeoutVariable}\n\t\t * @default null\n\t\t * @protected\n\t\t * @since 0.4.0\n\t\t */\n\t\tthis.delayTimeoutId = null;\n\t\t// TODO consider moving delay into AbstractSoundInstance so it can be handled by plugins\n\n\n\t\t// private properties\n\t\t// Getter / Setter Properties\n\t\t// OJR TODO find original reason that we didn't use defined functions.  I think it was performance related\n\t\t/**\n\t\t * The volume of the sound, between 0 and 1.\n\t\t *\n\t\t * The actual output volume of a sound can be calculated using:\n\t\t * <code>myInstance.volume * createjs.Sound._getVolume();</code>\n\t\t *\n\t\t * @property volume\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t */\n\t\tthis._volume = 1;\n\t\tObject.defineProperty(this, \"volume\", {\n\t\t\tget: this._getVolume,\n\t\t\tset: this._setVolume\n\t\t});\n\t\tthis.getVolume = createjs.deprecate(this._getVolume, \"AbstractSoundInstance.getVolume\");\n\t\tthis.setVolume = createjs.deprecate(this._setVolume, \"AbstractSoundInstance.setVolume\");\n\n\t\t/**\n\t\t * The pan of the sound, between -1 (left) and 1 (right). Note that pan is not supported by HTML Audio.\n\t\t *\n\t\t * Note in WebAudioPlugin this only gives us the \"x\" value of what is actually 3D audio\n\t\t * @property pan\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis._pan = 0;\n\t\tObject.defineProperty(this, \"pan\", {\n\t\t\tget: this._getPan,\n\t\t\tset: this._setPan\n\t\t});\n\t\tthis.getPan = createjs.deprecate(this._getPan, \"AbstractSoundInstance.getPan\");\n\t\tthis.setPan = createjs.deprecate(this._setPan, \"AbstractSoundInstance.setPan\");\n\n\t\t/**\n\t\t * Audio sprite property used to determine the starting offset.\n\t\t * @property startTime\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @since 0.6.1\n\t\t */\n\t\tthis._startTime = Math.max(0, startTime || 0);\n\t\tObject.defineProperty(this, \"startTime\", {\n\t\t\tget: this._getStartTime,\n\t\t\tset: this._setStartTime\n\t\t});\n\t\tthis.getStartTime = createjs.deprecate(this._getStartTime, \"AbstractSoundInstance.getStartTime\");\n\t\tthis.setStartTime = createjs.deprecate(this._setStartTime, \"AbstractSoundInstance.setStartTime\");\n\n\t\t/**\n\t\t * Sets or gets the length of the audio clip, value is in milliseconds.\n\t\t *\n\t\t * @property duration\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @since 0.6.0\n\t\t */\n\t\tthis._duration = Math.max(0, duration || 0);\n\t\tObject.defineProperty(this, \"duration\", {\n\t\t\tget: this._getDuration,\n\t\t\tset: this._setDuration\n\t\t});\n\t\tthis.getDuration = createjs.deprecate(this._getDuration, \"AbstractSoundInstance.getDuration\");\n\t\tthis.setDuration = createjs.deprecate(this._setDuration, \"AbstractSoundInstance.setDuration\");\n\n\t\t/**\n\t\t * Object that holds plugin specific resource need for audio playback.\n\t\t * This is set internally by the plugin.  For example, WebAudioPlugin will set an array buffer,\n\t\t * HTMLAudioPlugin will set a tag, FlashAudioPlugin will set a flash reference.\n\t\t *\n\t\t * @property playbackResource\n\t\t * @type {Object}\n\t\t * @default null\n\t\t */\n\t\tthis._playbackResource = null;\n\t\tObject.defineProperty(this, \"playbackResource\", {\n\t\t\tget: this._getPlaybackResource,\n\t\t\tset: this._setPlaybackResource\n\t\t});\n\t\tif (playbackResource !== false && playbackResource !== true) { this._setPlaybackResource(playbackResource); }\n\t\tthis.getPlaybackResource = createjs.deprecate(this._getPlaybackResource, \"AbstractSoundInstance.getPlaybackResource\");\n\t\tthis.setPlaybackResource = createjs.deprecate(this._setPlaybackResource, \"AbstractSoundInstance.setPlaybackResource\");\n\n\t\t/**\n\t\t * The position of the playhead in milliseconds. This can be set while a sound is playing, paused, or stopped.\n\t\t *\n\t\t * @property position\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @since 0.6.0\n\t\t */\n\t\tthis._position = 0;\n\t\tObject.defineProperty(this, \"position\", {\n\t\t\tget: this._getPosition,\n\t\t\tset: this._setPosition\n\t\t});\n\t\tthis.getPosition = createjs.deprecate(this._getPosition, \"AbstractSoundInstance.getPosition\");\n\t\tthis.setPosition = createjs.deprecate(this._setPosition, \"AbstractSoundInstance.setPosition\");\n\n\t\t/**\n\t\t * The number of play loops remaining. Negative values will loop infinitely.\n\t\t *\n\t\t * @property loop\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t * @since 0.6.0\n\t\t */\n\t\tthis._loop = 0;\n\t\tObject.defineProperty(this, \"loop\", {\n\t\t\tget: this._getLoop,\n\t\t\tset: this._setLoop\n\t\t});\n\t\tthis.getLoop = createjs.deprecate(this._getLoop, \"AbstractSoundInstance.getLoop\");\n\t\tthis.setLoop = createjs.deprecate(this._setLoop, \"AbstractSoundInstance.setLoop\");\n\n\t\t/**\n\t\t * Mutes or unmutes the current audio instance.\n\t\t *\n\t\t * @property muted\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @since 0.6.0\n\t\t */\n\t\tthis._muted = false;\n\t\tObject.defineProperty(this, \"muted\", {\n\t\t\tget: this._getMuted,\n\t\t\tset: this._setMuted\n\t\t});\n\t\tthis.getMuted = createjs.deprecate(this._getMuted, \"AbstractSoundInstance.getMuted\");\n\t\tthis.setMuted = createjs.deprecate(this._setMuted, \"AbstractSoundInstance.setMuted\");\n\n\t\t/**\n\t\t * Pauses or resumes the current audio instance.\n\t\t *\n\t\t * @property paused\n\t\t * @type {Boolean}\n\t\t */\n\t\tthis._paused = false;\n\t\tObject.defineProperty(this, \"paused\", {\n\t\t\tget: this._getPaused,\n\t\t\tset: this._setPaused\n\t\t});\n\t\tthis.getPaused = createjs.deprecate(this._getPaused, \"AbstractSoundInstance.getPaused\");\n\t\tthis.setPaused = createjs.deprecate(this._setPaused, \"AbstractSoundInstance.setPaused\");\n\n\n\t\t// Events\n\t\t/**\n\t\t * The event that is fired when playback has started successfully.\n\t\t * @event succeeded\n\t\t * @param {Object} target The object that dispatched the event.\n\t\t * @param {String} type The event type.\n\t\t * @since 0.4.0\n\t\t */\n\n\t\t/**\n\t\t * The event that is fired when playback is interrupted. This happens when another sound with the same\n\t\t * src property is played using an interrupt value that causes this instance to stop playing.\n\t\t * @event interrupted\n\t\t * @param {Object} target The object that dispatched the event.\n\t\t * @param {String} type The event type.\n\t\t * @since 0.4.0\n\t\t */\n\n\t\t/**\n\t\t * The event that is fired when playback has failed. This happens when there are too many channels with the same\n\t\t * src property already playing (and the interrupt value doesn't cause an interrupt of another instance), or\n\t\t * the sound could not be played, perhaps due to a 404 error.\n\t\t * @event failed\n\t\t * @param {Object} target The object that dispatched the event.\n\t\t * @param {String} type The event type.\n\t\t * @since 0.4.0\n\t\t */\n\n\t\t/**\n\t\t * The event that is fired when a sound has completed playing but has loops remaining.\n\t\t * @event loop\n\t\t * @param {Object} target The object that dispatched the event.\n\t\t * @param {String} type The event type.\n\t\t * @since 0.4.0\n\t\t */\n\n\t\t/**\n\t\t * The event that is fired when playback completes. This means that the sound has finished playing in its\n\t\t * entirety, including its loop iterations.\n\t\t * @event complete\n\t\t * @param {Object} target The object that dispatched the event.\n\t\t * @param {String} type The event type.\n\t\t * @since 0.4.0\n\t\t */\n\t};\n\n\tvar p = createjs.extend(AbstractSoundInstance, createjs.EventDispatcher);\n\n\t// Public Methods:\n\t/**\n\t * Play an instance. This method is intended to be called on SoundInstances that already exist (created\n\t * with the Sound API {{#crossLink \"Sound/createInstance\"}}{{/crossLink}} or {{#crossLink \"Sound/play\"}}{{/crossLink}}).\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *      var myInstance = createjs.Sound.createInstance(mySrc);\n\t *      myInstance.play({interrupt:createjs.Sound.INTERRUPT_ANY, loop:2, pan:0.5});\n\t *\n\t * Note that if this sound is already playing, this call will still set the passed in parameters.\n\n\t * <b>Parameters Deprecated</b><br />\n\t * The parameters for this method are deprecated in favor of a single parameter that is an Object or {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}}.\n\t *\n\t * @method play\n\t * @param {Object | PlayPropsConfig} props A PlayPropsConfig instance, or an object that contains the parameters to\n\t * play a sound. See the {{#crossLink \"PlayPropsConfig\"}}{{/crossLink}} for more info.\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t */\n\tp.play = function (props) {\n\t\tvar playProps = createjs.PlayPropsConfig.create(props);\n\t\tif (this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis.applyPlayProps(playProps);\n\t\t\tif (this._paused) { this._setPaused(false); }\n\t\t\treturn;\n\t\t}\n\t\tthis._cleanUp();\n\t\tcreatejs.Sound._playInstance(this, playProps);\t// make this an event dispatch??\n\t\treturn this;\n\t};\n\n\t/**\n\t * Stop playback of the instance. Stopped sounds will reset their position to 0, and calls to {{#crossLink \"AbstractSoundInstance/resume\"}}{{/crossLink}}\n\t * will fail. To start playback again, call {{#crossLink \"AbstractSoundInstance/play\"}}{{/crossLink}}.\n     *\n     * If you don't want to lose your position use yourSoundInstance.paused = true instead. {{#crossLink \"AbstractSoundInstance/paused\"}}{{/crossLink}}.\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     myInstance.stop();\n\t *\n\t * @method stop\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t */\n\tp.stop = function () {\n\t\tthis._position = 0;\n\t\tthis._paused = false;\n\t\tthis._handleStop();\n\t\tthis._cleanUp();\n\t\tthis.playState = createjs.Sound.PLAY_FINISHED;\n\t\treturn this;\n\t};\n\n\t/**\n\t * Remove all external references and resources from AbstractSoundInstance.  Note this is irreversible and AbstractSoundInstance will no longer work\n\t * @method destroy\n\t * @since 0.6.0\n\t */\n\tp.destroy = function () {\n\t\tthis._cleanUp();\n\t\tthis.src = null;\n\t\tthis.playbackResource = null;\n\n\t\tthis.removeAllEventListeners();\n\t};\n\n\t/**\n\t * Takes an PlayPropsConfig or Object with the same properties and sets them on this instance.\n\t * @method applyPlayProps\n\t * @param {PlayPropsConfig | Object} playProps A PlayPropsConfig or object containing the same properties.\n\t * @since 0.6.1\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t */\n\tp.applyPlayProps = function (playProps) {\n\t\tif (playProps.offset != null) { this._setPosition(playProps.offset) }\n\t\tif (playProps.loop != null) { this._setLoop(playProps.loop); }\n\t\tif (playProps.volume != null) { this._setVolume(playProps.volume); }\n\t\tif (playProps.pan != null) { this._setPan(playProps.pan); }\n\t\tif (playProps.startTime != null) {\n\t\t\tthis._setStartTime(playProps.startTime);\n\t\t\tthis._setDuration(playProps.duration);\n\t\t}\n\t\treturn this;\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[AbstractSoundInstance]\";\n\t};\n\n\t// get/set methods that allow support for IE8\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/paused:property\"}}{{/crossLink}} directly as a property.\n\t * @method _getPaused\n\t * @protected\n\t * @return {boolean} If the instance is currently paused\n\t * @since 0.6.0\n\t */\n\tp._getPaused = function () {\n\t\treturn this._paused;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/paused:property\"}}{{/crossLink}} directly as a property\n\t * @method _setPaused\n\t * @protected\n\t * @param {boolean} value\n\t * @since 0.6.0\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t */\n\tp._setPaused = function (value) {\n\t\tif ((value !== true && value !== false) || this._paused == value) { return; }\n\t\tif (value == true && this.playState != createjs.Sound.PLAY_SUCCEEDED) { return; }\n\t\tthis._paused = value;\n\t\tif (value) {\n\t\t\tthis._pause();\n\t\t} else {\n\t\t\tthis._resume();\n\t\t}\n\t\tclearTimeout(this.delayTimeoutId);\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/volume:property\"}}{{/crossLink}} directly as a property\n\t * @method _setVolume\n\t * @protected\n\t * @param {Number} value The volume to set, between 0 and 1.\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t */\n\tp._setVolume = function (value) {\n\t\tif (value == this._volume) { return this; }\n\t\tthis._volume = Math.max(0, Math.min(1, value));\n\t\tif (!this._muted) {\n\t\t\tthis._updateVolume();\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/volume:property\"}}{{/crossLink}} directly as a property\n\t * @method _getVolume\n\t * @protected\n\t * @return {Number} The current volume of the sound instance.\n\t */\n\tp._getVolume = function () {\n\t\treturn this._volume;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/muted:property\"}}{{/crossLink}} directly as a property\n\t * @method _setMuted\n\t * @protected\n\t * @param {Boolean} value If the sound should be muted.\n\t * @return {AbstractSoundInstance} A reference to itself, intended for chaining calls.\n\t * @since 0.6.0\n\t */\n\tp._setMuted = function (value) {\n\t\tif (value !== true && value !== false) { return; }\n\t\tthis._muted = value;\n\t\tthis._updateVolume();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/muted:property\"}}{{/crossLink}} directly as a property\n\t * @method _getMuted\n\t * @protected\n\t * @return {Boolean} If the sound is muted.\n\t * @since 0.6.0\n\t */\n\tp._getMuted = function () {\n\t\treturn this._muted;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/pan:property\"}}{{/crossLink}} directly as a property\n\t * @method _setPan\n\t * @protected\n\t * @param {Number} value The pan value, between -1 (left) and 1 (right).\n\t * @return {AbstractSoundInstance} Returns reference to itself for chaining calls\n\t */\n\tp._setPan = function (value) {\n\t\tif (value == this._pan) { return this; }\n\t\tthis._pan = Math.max(-1, Math.min(1, value));\n\t\tthis._updatePan();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/pan:property\"}}{{/crossLink}} directly as a property\n\t * @method _getPan\n\t * @protected\n\t * @return {Number} The value of the pan, between -1 (left) and 1 (right).\n\t */\n\tp._getPan = function () {\n\t\treturn this._pan;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/position:property\"}}{{/crossLink}} directly as a property\n\t * @method _getPosition\n\t * @protected\n\t * @return {Number} The position of the playhead in the sound, in milliseconds.\n\t */\n\tp._getPosition = function () {\n\t\tif (!this._paused && this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis._position = this._calculateCurrentPosition();\n\t\t}\n\t\treturn this._position;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/position:property\"}}{{/crossLink}} directly as a property\n\t * @method _setPosition\n\t * @protected\n\t * @param {Number} value The position to place the playhead, in milliseconds.\n\t * @return {AbstractSoundInstance} Returns reference to itself for chaining calls\n\t */\n\tp._setPosition = function (value) {\n\t\tthis._position = Math.max(0, value);\n\t\tif (this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis._updatePosition();\n\t\t}\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/startTime:property\"}}{{/crossLink}} directly as a property\n\t * @method _getStartTime\n\t * @protected\n\t * @return {Number} The startTime of the sound instance in milliseconds.\n\t */\n\tp._getStartTime = function () {\n\t\treturn this._startTime;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/startTime:property\"}}{{/crossLink}} directly as a property\n\t * @method _setStartTime\n\t * @protected\n\t * @param {number} value The new startTime time in milli seconds.\n\t * @return {AbstractSoundInstance} Returns reference to itself for chaining calls\n\t */\n\tp._setStartTime = function (value) {\n\t\tif (value == this._startTime) { return this; }\n\t\tthis._startTime = Math.max(0, value || 0);\n\t\tthis._updateStartTime();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/duration:property\"}}{{/crossLink}} directly as a property\n\t * @method _getDuration\n\t * @protected\n\t * @return {Number} The duration of the sound instance in milliseconds.\n\t */\n\tp._getDuration = function () {\n\t\treturn this._duration;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/duration:property\"}}{{/crossLink}} directly as a property\n\t * @method _setDuration\n\t * @protected\n\t * @param {number} value The new duration time in milli seconds.\n\t * @return {AbstractSoundInstance} Returns reference to itself for chaining calls\n\t * @since 0.6.0\n\t */\n\tp._setDuration = function (value) {\n\t\tif (value == this._duration) { return this; }\n\t\tthis._duration = Math.max(0, value || 0);\n\t\tthis._updateDuration();\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/playbackResource:property\"}}{{/crossLink}} directly as a property\n\t * @method _setPlaybackResource\n\t * @protected\n\t * @param {Object} value The new playback resource.\n\t * @return {AbstractSoundInstance} Returns reference to itself for chaining calls\n\t * @since 0.6.0\n\t **/\n\tp._setPlaybackResource = function (value) {\n\t\tthis._playbackResource = value;\n\t\tif (this._duration == 0 && this._playbackResource) { this._setDurationFromSource(); }\n\t\treturn this;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/playbackResource:property\"}}{{/crossLink}} directly as a property\n\t * @method _getPlaybackResource\n\t * @protected\n\t * @param {Object} value The new playback resource.\n\t * @return {Object} playback resource used for playing audio\n\t * @since 0.6.0\n\t **/\n\tp._getPlaybackResource = function () {\n\t\treturn this._playbackResource;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/loop:property\"}}{{/crossLink}} directly as a property\n\t * @method _getLoop\n\t * @protected\n\t * @return {number}\n\t * @since 0.6.0\n\t **/\n\tp._getLoop = function () {\n\t\treturn this._loop;\n\t};\n\n\t/**\n\t * Please use {{#crossLink \"AbstractSoundInstance/loop:property\"}}{{/crossLink}} directly as a property\n\t * @method _setLoop\n\t * @protected\n\t * @param {number} value The number of times to loop after play.\n\t * @since 0.6.0\n\t */\n\tp._setLoop = function (value) {\n\t\tif (this._playbackResource != null) {\n\t\t\t// remove looping\n\t\t\tif (this._loop != 0 && value == 0) {\n\t\t\t\tthis._removeLooping(value);\n\t\t\t}\n\t\t\t// add looping\n\t\t\telse if (this._loop == 0 && value != 0) {\n\t\t\t\tthis._addLooping(value);\n\t\t\t}\n\t\t}\n\t\tthis._loop = value;\n\t};\n\n\n\t// Private Methods:\n\t/**\n\t * A helper method that dispatches all events for AbstractSoundInstance.\n\t * @method _sendEvent\n\t * @param {String} type The event type\n\t * @protected\n\t */\n\tp._sendEvent = function (type) {\n\t\tvar event = new createjs.Event(type);\n\t\tthis.dispatchEvent(event);\n\t};\n\n\t/**\n\t * Clean up the instance. Remove references and clean up any additional properties such as timers.\n\t * @method _cleanUp\n\t * @protected\n\t */\n\tp._cleanUp = function () {\n\t\tclearTimeout(this.delayTimeoutId); // clear timeout that plays delayed sound\n\t\tthis._handleCleanUp();\n\t\tthis._paused = false;\n\n\t\tcreatejs.Sound._playFinished(this);\t// TODO change to an event\n\t};\n\n\t/**\n\t * The sound has been interrupted.\n\t * @method _interrupt\n\t * @protected\n\t */\n\tp._interrupt = function () {\n\t\tthis._cleanUp();\n\t\tthis.playState = createjs.Sound.PLAY_INTERRUPTED;\n\t\tthis._sendEvent(\"interrupted\");\n\t};\n\n\t/**\n\t * Called by the Sound class when the audio is ready to play (delay has completed). Starts sound playing if the\n\t * src is loaded, otherwise playback will fail.\n\t * @method _beginPlaying\n\t * @param {PlayPropsConfig} playProps A PlayPropsConfig object.\n\t * @return {Boolean} If playback succeeded.\n\t * @protected\n\t */\n\t// OJR FlashAudioSoundInstance overwrites\n\tp._beginPlaying = function (playProps) {\n\t\tthis._setPosition(playProps.offset);\n\t\tthis._setLoop(playProps.loop);\n\t\tthis._setVolume(playProps.volume);\n\t\tthis._setPan(playProps.pan);\n\t\tif (playProps.startTime != null) {\n\t\t\tthis._setStartTime(playProps.startTime);\n\t\t\tthis._setDuration(playProps.duration);\n\t\t}\n\n\t\tif (this._playbackResource != null && this._position < this._duration) {\n\t\t\tthis._paused = false;\n\t\t\tthis._handleSoundReady();\n\t\t\tthis.playState = createjs.Sound.PLAY_SUCCEEDED;\n\t\t\tthis._sendEvent(\"succeeded\");\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis._playFailed();\n\t\t\treturn false;\n\t\t}\n\t};\n\n\t/**\n\t * Play has failed, which can happen for a variety of reasons.\n\t * Cleans up instance and dispatches failed event\n\t * @method _playFailed\n\t * @private\n\t */\n\tp._playFailed = function () {\n\t\tthis._cleanUp();\n\t\tthis.playState = createjs.Sound.PLAY_FAILED;\n\t\tthis._sendEvent(\"failed\");\n\t};\n\n\t/**\n\t * Audio has finished playing. Manually loop it if required.\n\t * @method _handleSoundComplete\n\t * @param event\n\t * @protected\n\t */\n\tp._handleSoundComplete = function (event) {\n\t\tthis._position = 0;  // have to set this as it can be set by pause during playback\n\n\t\tif (this._loop != 0) {\n\t\t\tthis._loop--;  // NOTE this introduces a theoretical limit on loops = float max size x 2 - 1\n\t\t\tthis._handleLoop();\n\t\t\tthis._sendEvent(\"loop\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis._cleanUp();\n\t\tthis.playState = createjs.Sound.PLAY_FINISHED;\n\t\tthis._sendEvent(\"complete\");\n\t};\n\n\t// Plugin specific code\n\t/**\n\t * Handles starting playback when the sound is ready for playing.\n\t * @method _handleSoundReady\n\t * @protected\n \t */\n\tp._handleSoundReady = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function used to update the volume based on the instance volume, master volume, instance mute value,\n\t * and master mute value.\n\t * @method _updateVolume\n\t * @protected\n\t */\n\tp._updateVolume = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function used to update the pan\n\t * @method _updatePan\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._updatePan = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function used to update the startTime of the audio.\n\t * @method _updateStartTime\n\t * @protected\n\t * @since 0.6.1\n\t */\n\tp._updateStartTime = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function used to update the duration of the audio.\n\t * @method _updateDuration\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._updateDuration = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function used to get the duration of the audio from the source we'll be playing.\n\t * @method _updateDuration\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._setDurationFromSource = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function that calculates the current position of the playhead and sets this._position to that value\n\t * @method _calculateCurrentPosition\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._calculateCurrentPosition = function () {\n\t\t// plugin specific code that sets this.position\n\t};\n\n\t/**\n\t * Internal function used to update the position of the playhead.\n\t * @method _updatePosition\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._updatePosition = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when looping is removed during playback.\n\t * @method _removeLooping\n\t * @param {number} value The number of times to loop after play.\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._removeLooping = function (value) {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when looping is added during playback.\n\t * @method _addLooping\n\t * @param {number} value The number of times to loop after play.\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._addLooping = function (value) {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when pausing playback\n\t * @method _pause\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._pause = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when resuming playback\n\t * @method _resume\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._resume = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when stopping playback\n\t * @method _handleStop\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._handleStop = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when AbstractSoundInstance is being cleaned up\n\t * @method _handleCleanUp\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._handleCleanUp = function () {\n\t\t// plugin specific code\n\t};\n\n\t/**\n\t * Internal function called when AbstractSoundInstance has played to end and is looping\n\t * @method _handleLoop\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._handleLoop = function () {\n\t\t// plugin specific code\n\t};\n\n\tcreatejs.AbstractSoundInstance = createjs.promote(AbstractSoundInstance, \"EventDispatcher\");\n\tcreatejs.DefaultSoundInstance = createjs.AbstractSoundInstance;\t// used when no plugin is supported\n}());\n\n//##############################################################################\n// AbstractPlugin.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\n\t// constructor:\n\t/**\n   * A default plugin class used as a base for all other plugins.\n   * @class AbstractPlugin\n   * @constructor\n   * @since 0.6.0\n   */\n\n\tvar AbstractPlugin = function () {\n\t\t// private properties:\n\t\t/**\n\t\t * The capabilities of the plugin.\n\t\t * method and is used internally.\n\t\t * @property _capabilities\n\t\t * @type {Object}\n\t\t * @default null\n\t\t * @protected\n\t\t * @static\n\t\t */\n\t\tthis._capabilities = null;\n\n\t\t/**\n\t\t * Object hash indexed by the source URI of all created loaders, used to properly destroy them if sources are removed.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._loaders = {};\n\n\t\t/**\n\t\t * Object hash indexed by the source URI of each file to indicate if an audio source has begun loading,\n\t\t * is currently loading, or has completed loading.  Can be used to store non boolean data after loading\n\t\t * is complete (for example arrayBuffers for web audio).\n\t\t * @property _audioSources\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._audioSources = {};\n\n\t\t/**\n\t\t * Object hash indexed by the source URI of all created SoundInstances, updates the playbackResource if it loads after they are created,\n\t\t * and properly destroy them if sources are removed\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._soundInstances = {};\n\n\t\t/**\n\t\t * The internal master volume value of the plugin.\n\t\t * @property _volume\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @protected\n\t\t */\n\t\tthis._volume = 1;\n\n\t\t/**\n\t\t * A reference to a loader class used by a plugin that must be set.\n\t\t * @type {Object}\n\t\t * @protected\n\t\t */\n\t\tthis._loaderClass;\n\n\t\t/**\n\t\t * A reference to an AbstractSoundInstance class used by a plugin that must be set.\n\t\t * @type {Object}\n\t\t * @protected;\n\t\t */\n\t\tthis._soundInstanceClass;\n\t};\n\tvar p = AbstractPlugin.prototype;\n\n\t// Static Properties:\n\t// NOTE THESE PROPERTIES NEED TO BE ADDED TO EACH PLUGIN\n\t/**\n\t * The capabilities of the plugin. This is generated via the _generateCapabilities method and is used internally.\n\t * @property _capabilities\n\t * @type {Object}\n\t * @default null\n\t * @private\n\t * @static\n\t */\n\tAbstractPlugin._capabilities = null;\n\n\t/**\n\t * Determine if the plugin can be used in the current browser/OS.\n\t * @method isSupported\n\t * @return {Boolean} If the plugin can be initialized.\n\t * @static\n\t */\n\tAbstractPlugin.isSupported = function () {\n\t\treturn true;\n\t};\n\n\n\t// public methods:\n\t/**\n\t * Pre-register a sound for preloading and setup. This is called by {{#crossLink \"Sound\"}}{{/crossLink}}.\n\t * Note all plugins provide a <code>Loader</code> instance, which <a href=\"http://preloadjs.com\" target=\"_blank\">PreloadJS</a>\n\t * can use to assist with preloading.\n\t * @method register\n\t * @param {String} loadItem An Object containing the source of the audio\n\t * Note that not every plugin will manage this value.\n\t * @return {Object} A result object, containing a \"tag\" for preloading purposes.\n\t */\n\tp.register = function (loadItem) {\n\t\tvar loader = this._loaders[loadItem.src];\n\t\tif (loader && !loader.canceled) { return this._loaders[loadItem.src]; }\t// already loading/loaded this, so don't load twice\n\t\t// OJR potential issue that we won't be firing loaded event, might need to trigger if this is already loaded?\n\t\tthis._audioSources[loadItem.src] = true;\n\t\tthis._soundInstances[loadItem.src] = [];\n\t\tloader = new this._loaderClass(loadItem);\n\t\tloader.on(\"complete\", this._handlePreloadComplete, this);\n\t\tthis._loaders[loadItem.src] = loader;\n\t\treturn loader;\n\t};\n\n\t// note sound calls register before calling preload\n\t/**\n\t * Internally preload a sound.\n\t * @method preload\n\t * @param {Loader} loader The sound URI to load.\n\t */\n\tp.preload = function (loader) {\n\t\tloader.on(\"error\", this._handlePreloadError, this);\n\t\tloader.load();\n\t};\n\n\t/**\n\t * Checks if preloading has started for a specific source. If the source is found, we can assume it is loading,\n\t * or has already finished loading.\n\t * @method isPreloadStarted\n\t * @param {String} src The sound URI to check.\n\t * @return {Boolean}\n\t */\n\tp.isPreloadStarted = function (src) {\n\t\treturn (this._audioSources[src] != null);\n\t};\n\n\t/**\n\t * Checks if preloading has finished for a specific source.\n\t * @method isPreloadComplete\n\t * @param {String} src The sound URI to load.\n\t * @return {Boolean}\n\t */\n\tp.isPreloadComplete = function (src) {\n\t\treturn (!(this._audioSources[src] == null || this._audioSources[src] == true));\n\t};\n\n\t/**\n\t * Remove a sound added using {{#crossLink \"WebAudioPlugin/register\"}}{{/crossLink}}. Note this does not cancel a preload.\n\t * @method removeSound\n\t * @param {String} src The sound URI to unload.\n\t */\n\tp.removeSound = function (src) {\n\t\tif (!this._soundInstances[src]) { return; }\n\t\tfor (var i = this._soundInstances[src].length; i--;) {\n\t\t\tvar item = this._soundInstances[src][i];\n\t\t\titem.destroy();\n\t\t}\n\t\tdelete (this._soundInstances[src]);\n\t\tdelete (this._audioSources[src]);\n\t\tif (this._loaders[src]) { this._loaders[src].destroy(); }\n\t\tdelete (this._loaders[src]);\n\t};\n\n\t/**\n\t * Remove all sounds added using {{#crossLink \"WebAudioPlugin/register\"}}{{/crossLink}}. Note this does not cancel a preload.\n\t * @method removeAllSounds\n\t * @param {String} src The sound URI to unload.\n\t */\n\tp.removeAllSounds = function () {\n\t\tfor (var key in this._audioSources) {\n\t\t\tthis.removeSound(key);\n\t\t}\n\t};\n\n\t/**\n\t * Create a sound instance. If the sound has not been preloaded, it is internally preloaded here.\n\t * @method create\n\t * @param {String} src The sound source to use.\n\t * @param {Number} startTime Audio sprite property used to apply an offset, in milliseconds.\n\t * @param {Number} duration Audio sprite property used to set the time the clip plays for, in milliseconds.\n\t * @return {AbstractSoundInstance} A sound instance for playback and control.\n\t */\n\tp.create = function (src, startTime, duration) {\n\t\tif (!this.isPreloadStarted(src)) {\n\t\t\tthis.preload(this.register(src));\n\t\t}\n\t\tvar si = new this._soundInstanceClass(src, startTime, duration, this._audioSources[src]);\n\t\tif (this._soundInstances[src]) {\n\t\t\tthis._soundInstances[src].push(si);\n\t\t}\n\n\t\t// Plugins that don't have a setVolume should implement a setMasterVolune/setMasterMute\n\t\t// So we have to check that here.\n\t\tsi.setMasterVolume && si.setMasterVolume(createjs.Sound.volume);\n\t\tsi.setMasterMute && si.setMasterMute(createjs.Sound.muted);\n\n\t\treturn si;\n\t};\n\n\t// if a plugin does not support volume and mute, it should set these to null\n\t/**\n\t * Set the master volume of the plugin, which affects all SoundInstances.\n\t * @method setVolume\n\t * @param {Number} value The volume to set, between 0 and 1.\n\t * @return {Boolean} If the plugin processes the setVolume call (true). The Sound class will affect all the\n\t * instances manually otherwise.\n\t */\n\tp.setVolume = function (value) {\n\t\tthis._volume = value;\n\t\tthis._updateVolume();\n\t\treturn true;\n\t};\n\n\t/**\n\t * Get the master volume of the plugin, which affects all SoundInstances.\n\t * @method getVolume\n\t * @return {Number} The volume level, between 0 and 1.\n\t */\n\tp.getVolume = function () {\n\t\treturn this._volume;\n\t};\n\n\t/**\n\t * Mute all sounds via the plugin.\n\t * @method setMute\n\t * @param {Boolean} value If all sound should be muted or not. Note that plugin-level muting just looks up\n\t * the mute value of Sound {{#crossLink \"Sound/muted:property\"}}{{/crossLink}}, so this property is not used here.\n\t * @return {Boolean} If the mute call succeeds.\n\t */\n\tp.setMute = function (value) {\n\t\tthis._updateVolume();\n\t\treturn true;\n\t};\n\n\t// plugins should overwrite this method\n\tp.toString = function () {\n\t\treturn \"[AbstractPlugin]\";\n\t};\n\n\n\t// private methods:\n\t/**\n\t * Handles internal preload completion.\n\t * @method _handlePreloadComplete\n\t * @param event\n\t * @protected\n\t */\n\tp._handlePreloadComplete = function (event) {\n\t\tvar src = event.target.getItem().src;\n\t\tthis._audioSources[src] = event.result;\n\t\tfor (var i = 0, l = this._soundInstances[src].length; i < l; i++) {\n\t\t\tvar item = this._soundInstances[src][i];\n\t\t\titem.playbackResource = this._audioSources[src];\n\t\t\t// ToDo consider adding play call here if playstate == playfailed\n\t\t\tthis._soundInstances[src] = null;\n\t\t}\n\t};\n\n\t/**\n\t * Handles internal preload errors\n\t * @method _handlePreloadError\n\t * @param event\n\t * @protected\n\t */\n\tp._handlePreloadError = function (event) {\n\t\t//delete(this._audioSources[src]);\n\t};\n\n\t/**\n\t * Set the gain value for master audio. Should not be called externally.\n\t * @method _updateVolume\n\t * @protected\n\t */\n\tp._updateVolume = function () {\n\t\t// Plugin Specific code\n\t};\n\n\tcreatejs.AbstractPlugin = AbstractPlugin;\n}());\n\n//##############################################################################\n// WebAudioLoader.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * Loader provides a mechanism to preload Web Audio content via PreloadJS or internally. Instances are returned to\n\t * the preloader, and the load method is called when the asset needs to be requested.\n\t *\n\t * @class WebAudioLoader\n\t * @param {String} loadItem The item to be loaded\n\t * @extends XHRRequest\n\t * @protected\n\t */\n\tfunction Loader(loadItem) {\n\t\tthis.AbstractLoader_constructor(loadItem, true, createjs.Types.SOUND);\n\n\t}\n\tvar p = createjs.extend(Loader, createjs.AbstractLoader);\n\n\t/**\n\t * web audio context required for decoding audio\n\t * @property context\n\t * @type {AudioContext}\n\t * @static\n\t */\n\tLoader.context = null;\n\n\n\t// public methods\n\tp.toString = function () {\n\t\treturn \"[WebAudioLoader]\";\n\t};\n\n\n\t// private methods\n\tp._createRequest = function () {\n\t\tthis._request = new createjs.XHRRequest(this._item, false);\n\t\tthis._request.setResponseType(\"arraybuffer\");\n\t};\n\n\tp._sendComplete = function (event) {\n\t\t// OJR we leave this wrapped in Loader because we need to reference src and the handler only receives a single argument, the decodedAudio\n\t\tLoader.context.decodeAudioData(this._rawResult,\n\t\t\tcreatejs.proxy(this._handleAudioDecoded, this),\n\t\t\tcreatejs.proxy(this._sendError, this));\n\t};\n\n\n\t/**\n\t* The audio has been decoded.\n\t* @method handleAudioDecoded\n\t* @param decoded\n\t* @protected\n\t*/\n\tp._handleAudioDecoded = function (decodedAudio) {\n\t\tthis._result = decodedAudio;\n\t\tthis.AbstractLoader__sendComplete();\n\t};\n\n\tcreatejs.WebAudioLoader = createjs.promote(Loader, \"AbstractLoader\");\n}());\n\n//##############################################################################\n// WebAudioSoundInstance.js\n//##############################################################################\n\n\n\n/**\n * WebAudioSoundInstance extends the base api of {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} and is used by\n * {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}.\n *\n * WebAudioSoundInstance exposes audioNodes for advanced users.\n *\n * @param {String} src The path to and file name of the sound.\n * @param {Number} startTime Audio sprite property used to apply an offset, in milliseconds.\n * @param {Number} duration Audio sprite property used to set the time the clip plays for, in milliseconds.\n * @param {Object} playbackResource Any resource needed by plugin to support audio playback.\n * @class WebAudioSoundInstance\n * @extends AbstractSoundInstance\n * @constructor\n */\n(function () {\n\t\"use strict\";\n\n\tfunction WebAudioSoundInstance(src, startTime, duration, playbackResource) {\n\t\tthis.AbstractSoundInstance_constructor(src, startTime, duration, playbackResource);\n\n\n\t\t// public properties\n\t\t/**\n\t\t * NOTE this is only intended for use by advanced users.\n\t\t * <br />GainNode for controlling <code>WebAudioSoundInstance</code> volume. Connected to the {{#crossLink \"WebAudioSoundInstance/destinationNode:property\"}}{{/crossLink}}.\n\t\t * @property gainNode\n\t\t * @type {AudioGainNode}\n\t\t * @since 0.4.0\n\t\t *\n\t\t */\n\t\tthis.gainNode = s.context.createGain();\n\n\t\t/**\n\t\t * NOTE this is only intended for use by advanced users.\n\t\t * <br />A panNode allowing left and right audio channel panning only. Connected to WebAudioSoundInstance {{#crossLink \"WebAudioSoundInstance/gainNode:property\"}}{{/crossLink}}.\n\t\t * @property panNode\n\t\t * @type {AudioPannerNode}\n\t\t * @since 0.4.0\n\t\t */\n\t\tthis.panNode = s.context.createPanner();\n\t\tthis.panNode.panningModel = s._panningModel;\n\t\tthis.panNode.connect(this.gainNode);\n\t\tthis._updatePan();\n\n\t\t/**\n\t\t * NOTE this is only intended for use by advanced users.\n\t\t * <br />sourceNode is the audio source. Connected to WebAudioSoundInstance {{#crossLink \"WebAudioSoundInstance/panNode:property\"}}{{/crossLink}}.\n\t\t * @property sourceNode\n\t\t * @type {AudioNode}\n\t\t * @since 0.4.0\n\t\t *\n\t\t */\n\t\tthis.sourceNode = null;\n\n\n\t\t// private properties\n\t\t/**\n\t\t * Timeout that is created internally to handle sound playing to completion.\n\t\t * Stored so we can remove it when stop, pause, or cleanup are called\n\t\t * @property _soundCompleteTimeout\n\t\t * @type {timeoutVariable}\n\t\t * @default null\n\t\t * @protected\n\t\t * @since 0.4.0\n\t\t */\n\t\tthis._soundCompleteTimeout = null;\n\n\t\t/**\n\t\t * NOTE this is only intended for use by very advanced users.\n\t\t * _sourceNodeNext is the audio source for the next loop, inserted in a look ahead approach to allow for smooth\n\t\t * looping. Connected to {{#crossLink \"WebAudioSoundInstance/gainNode:property\"}}{{/crossLink}}.\n\t\t * @property _sourceNodeNext\n\t\t * @type {AudioNode}\n\t\t * @default null\n\t\t * @protected\n\t\t * @since 0.4.1\n\t\t *\n\t\t */\n\t\tthis._sourceNodeNext = null;\n\n\t\t/**\n\t\t * Time audio started playback, in seconds. Used to handle set position, get position, and resuming from paused.\n\t\t * @property _playbackStartTime\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @protected\n\t\t * @since 0.4.0\n\t\t */\n\t\tthis._playbackStartTime = 0;\n\n\t\t// Proxies, make removing listeners easier.\n\t\tthis._endedHandler = createjs.proxy(this._handleSoundComplete, this);\n\t}\n\tvar p = createjs.extend(WebAudioSoundInstance, createjs.AbstractSoundInstance);\n\tvar s = WebAudioSoundInstance;\n\n\t/**\n\t * Note this is only intended for use by advanced users.\n\t * <br />Audio context used to create nodes.  This is and needs to be the same context used by {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}.\n  \t * @property context\n\t * @type {AudioContext}\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.context = null;\n\n\t/**\n\t * Note this is only intended for use by advanced users.\n\t * <br />The scratch buffer that will be assigned to the buffer property of a source node on close.  \n\t * This is and should be the same scratch buffer referenced by {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}.\n  \t * @property _scratchBuffer\n\t * @type {AudioBufferSourceNode}\n\t * @static\n\t */\n\ts._scratchBuffer = null;\n\n\t/**\n\t * Note this is only intended for use by advanced users.\n\t * <br /> Audio node from WebAudioPlugin that sequences to <code>context.destination</code>\n\t * @property destinationNode\n\t * @type {AudioNode}\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts.destinationNode = null;\n\n\t/**\n\t * Value to set panning model to equal power for WebAudioSoundInstance.  Can be \"equalpower\" or 0 depending on browser implementation.\n\t * @property _panningModel\n\t * @type {Number / String}\n\t * @protected\n\t * @static\n\t * @since 0.6.0\n\t */\n\ts._panningModel = \"equalpower\";\n\n\n\t// Public methods\n\tp.destroy = function () {\n\t\tthis.AbstractSoundInstance_destroy();\n\n\t\tthis.panNode.disconnect(0);\n\t\tthis.panNode = null;\n\t\tthis.gainNode.disconnect(0);\n\t\tthis.gainNode = null;\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[WebAudioSoundInstance]\";\n\t};\n\n\n\t// Private Methods\n\tp._updatePan = function () {\n\t\tthis.panNode.setPosition(this._pan, 0, -0.5);\n\t\t// z need to be -0.5 otherwise the sound only plays in left, right, or center\n\t};\n\n\tp._removeLooping = function (value) {\n\t\tthis._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext);\n\t};\n\n\tp._addLooping = function (value) {\n\t\tif (this.playState != createjs.Sound.PLAY_SUCCEEDED) { return; }\n\t\tthis._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0);\n\t};\n\n\tp._setDurationFromSource = function () {\n\t\tthis._duration = this.playbackResource.duration * 1000;\n\t};\n\n\tp._handleCleanUp = function () {\n\t\tif (this.sourceNode && this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis.sourceNode = this._cleanUpAudioNode(this.sourceNode);\n\t\t\tthis._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext);\n\t\t}\n\n\t\tif (this.gainNode.numberOfOutputs != 0) { this.gainNode.disconnect(0); }\n\t\t// OJR there appears to be a bug that this doesn't always work in webkit (Chrome and Safari). According to the documentation, this should work.\n\n\t\tclearTimeout(this._soundCompleteTimeout);\n\n\t\tthis._playbackStartTime = 0;\t// This is used by _getPosition\n\t};\n\n\t/**\n\t * Turn off and disconnect an audioNode, then set reference to null to release it for garbage collection\n\t * @method _cleanUpAudioNode\n\t * @param audioNode\n\t * @return {audioNode}\n\t * @protected\n\t * @since 0.4.1\n\t */\n\tp._cleanUpAudioNode = function (audioNode) {\n\t\tif (audioNode) {\n\t\t\taudioNode.stop(0);\n\t\t\taudioNode.disconnect(0);\n\t\t\t// necessary to prevent leak on iOS Safari 7-9. will throw in almost all other\n\t\t\t// browser implementations.\n\t\t\tif (createjs.BrowserDetect.isIOS) {\n\t\t\t\ttry { audioNode.buffer = s._scratchBuffer; } catch (e) { }\n\t\t\t}\n\t\t\taudioNode = null;\n\t\t}\n\t\treturn audioNode;\n\t};\n\n\tp._handleSoundReady = function (event) {\n\t\tthis.gainNode.connect(s.destinationNode);  // this line can cause a memory leak.  Nodes need to be disconnected from the audioDestination or any sequence that leads to it.\n\n\t\tvar dur = this._duration * 0.001,\n\t\t\tpos = Math.min(Math.max(0, this._position) * 0.001, dur);\n\t\tthis.sourceNode = this._createAndPlayAudioNode((s.context.currentTime - dur), pos);\n\t\tthis._playbackStartTime = this.sourceNode.startTime - pos;\n\n\t\tthis._soundCompleteTimeout = setTimeout(this._endedHandler, (dur - pos) * 1000);\n\n\t\tif (this._loop != 0) {\n\t\t\tthis._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0);\n\t\t}\n\t};\n\n\t/**\n\t * Creates an audio node using the current src and context, connects it to the gain node, and starts playback.\n\t * @method _createAndPlayAudioNode\n\t * @param {Number} startTime The time to add this to the web audio context, in seconds.\n\t * @param {Number} offset The amount of time into the src audio to start playback, in seconds.\n\t * @return {audioNode}\n\t * @protected\n\t * @since 0.4.1\n\t */\n\tp._createAndPlayAudioNode = function (startTime, offset) {\n\t\tvar audioNode = s.context.createBufferSource();\n\t\taudioNode.buffer = this.playbackResource;\n\t\taudioNode.connect(this.panNode);\n\t\tvar dur = this._duration * 0.001;\n\t\taudioNode.startTime = startTime + dur;\n\t\taudioNode.start(audioNode.startTime, offset + (this._startTime * 0.001), dur - offset);\n\t\treturn audioNode;\n\t};\n\n\tp._pause = function () {\n\t\tthis._position = (s.context.currentTime - this._playbackStartTime) * 1000;  // * 1000 to give milliseconds, lets us restart at same point\n\t\tthis.sourceNode = this._cleanUpAudioNode(this.sourceNode);\n\t\tthis._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext);\n\n\t\tif (this.gainNode.numberOfOutputs != 0) { this.gainNode.disconnect(0); }\n\n\t\tclearTimeout(this._soundCompleteTimeout);\n\t};\n\n\tp._resume = function () {\n\t\tthis._handleSoundReady();\n\t};\n\n\t/*\n\tp._handleStop = function () {\n\t\t// web audio does not need to do anything extra\n\t};\n\t*/\n\n\tp._updateVolume = function () {\n\t\tvar newVolume = this._muted ? 0 : this._volume;\n\t\tif (newVolume != this.gainNode.gain.value) {\n\t\t\tthis.gainNode.gain.value = newVolume;\n\t\t}\n\t};\n\n\tp._calculateCurrentPosition = function () {\n\t\treturn ((s.context.currentTime - this._playbackStartTime) * 1000); // pos in seconds * 1000 to give milliseconds\n\t};\n\n\tp._updatePosition = function () {\n\t\tthis.sourceNode = this._cleanUpAudioNode(this.sourceNode);\n\t\tthis._sourceNodeNext = this._cleanUpAudioNode(this._sourceNodeNext);\n\t\tclearTimeout(this._soundCompleteTimeout);\n\n\t\tif (!this._paused) { this._handleSoundReady(); }\n\t};\n\n\t// OJR we are using a look ahead approach to ensure smooth looping.\n\t// We add _sourceNodeNext to the audio context so that it starts playing even if this callback is delayed.\n\t// This technique is described here:  http://www.html5rocks.com/en/tutorials/audio/scheduling/\n\t// NOTE the cost of this is that our audio loop may not always match the loop event timing precisely.\n\tp._handleLoop = function () {\n\t\tthis._cleanUpAudioNode(this.sourceNode);\n\t\tthis.sourceNode = this._sourceNodeNext;\n\t\tthis._playbackStartTime = this.sourceNode.startTime;\n\t\tthis._sourceNodeNext = this._createAndPlayAudioNode(this._playbackStartTime, 0);\n\t\tthis._soundCompleteTimeout = setTimeout(this._endedHandler, this._duration);\n\t};\n\n\tp._updateDuration = function () {\n\t\tif (this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis._pause();\n\t\t\tthis._resume();\n\t\t}\n\t};\n\n\tcreatejs.WebAudioSoundInstance = createjs.promote(WebAudioSoundInstance, \"AbstractSoundInstance\");\n}());\n\n//##############################################################################\n// WebAudioPlugin.js\n//##############################################################################\n\n\n\n(function () {\n\n\t\"use strict\";\n\n\t/**\n\t * Play sounds using Web Audio in the browser. The WebAudioPlugin is currently the default plugin, and will be used\n\t * anywhere that it is supported. To change plugin priority, check out the Sound API\n\t * {{#crossLink \"Sound/registerPlugins\"}}{{/crossLink}} method.\n\n\t * <h4>Known Browser and OS issues for Web Audio</h4>\n\t * <b>Firefox 25</b>\n\t * <li>\n\t *     mp3 audio files do not load properly on all windows machines, reported <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=929969\" target=\"_blank\">here</a>.\n\t *     <br />For this reason it is recommended to pass another FireFox-supported type (i.e. ogg) as the default\n\t *     extension, until this bug is resolved\n\t * </li>\n\t *\n\t * <b>Webkit (Chrome and Safari)</b>\n\t * <li>\n\t *     AudioNode.disconnect does not always seem to work.  This can cause the file size to grow over time if you\n\t * \t   are playing a lot of audio files.\n\t * </li>\n\t *\n\t * <b>iOS 6 limitations</b>\n\t * <ul>\n\t *     <li>\n\t *         Sound is initially muted and will only unmute through play being called inside a user initiated event\n\t *         (touch/click). Please read the mobile playback notes in the the {{#crossLink \"Sound\"}}{{/crossLink}}\n\t *         class for a full overview of the limitations, and how to get around them.\n\t *     </li>\n\t *\t   <li>\n\t *\t       A bug exists that will distort un-cached audio when a video element is present in the DOM. You can avoid\n\t *\t       this bug by ensuring the audio and video audio share the same sample rate.\n\t *\t   </li>\n\t * </ul>\n\t * @class WebAudioPlugin\n\t * @extends AbstractPlugin\n\t * @constructor\n\t * @since 0.4.0\n\t */\n\tfunction WebAudioPlugin() {\n\t\tthis.AbstractPlugin_constructor();\n\n\n\t\t// Private Properties\n\t\t/**\n\t\t * Value to set panning model to equal power for WebAudioSoundInstance.  Can be \"equalpower\" or 0 depending on browser implementation.\n\t\t * @property _panningModel\n\t\t * @type {Number / String}\n\t\t * @protected\n\t\t */\n\t\tthis._panningModel = s._panningModel;\n\n\t\t/**\n\t\t * The web audio context, which WebAudio uses to play audio. All nodes that interact with the WebAudioPlugin\n\t\t * need to be created within this context.\n\t\t * @property context\n\t\t * @type {AudioContext}\n\t\t */\n\t\tthis.context = s.context;\n\n\t\t/**\n\t\t * A DynamicsCompressorNode, which is used to improve sound quality and prevent audio distortion.\n\t\t * It is connected to <code>context.destination</code>.\n\t\t *\n\t\t * Can be accessed by advanced users through createjs.Sound.activePlugin.dynamicsCompressorNode.\n\t\t * @property dynamicsCompressorNode\n\t\t * @type {AudioNode}\n\t\t */\n\t\tthis.dynamicsCompressorNode = this.context.createDynamicsCompressor();\n\t\tthis.dynamicsCompressorNode.connect(this.context.destination);\n\n\t\t/**\n\t\t * A GainNode for controlling master volume. It is connected to {{#crossLink \"WebAudioPlugin/dynamicsCompressorNode:property\"}}{{/crossLink}}.\n\t\t *\n\t\t * Can be accessed by advanced users through createjs.Sound.activePlugin.gainNode.\n\t\t * @property gainNode\n\t\t * @type {AudioGainNode}\n\t\t */\n\t\tthis.gainNode = this.context.createGain();\n\t\tthis.gainNode.connect(this.dynamicsCompressorNode);\n\t\tcreatejs.WebAudioSoundInstance.destinationNode = this.gainNode;\n\n\t\tthis._capabilities = s._capabilities;\n\n\t\tthis._loaderClass = createjs.WebAudioLoader;\n\t\tthis._soundInstanceClass = createjs.WebAudioSoundInstance;\n\n\t\tthis._addPropsToClasses();\n\t}\n\tvar p = createjs.extend(WebAudioPlugin, createjs.AbstractPlugin);\n\n\t// Static Properties\n\tvar s = WebAudioPlugin;\n\t/**\n\t * The capabilities of the plugin. This is generated via the {{#crossLink \"WebAudioPlugin/_generateCapabilities:method\"}}{{/crossLink}}\n\t * method and is used internally.\n\t * @property _capabilities\n\t * @type {Object}\n\t * @default null\n\t * @private\n\t * @static\n\t */\n\ts._capabilities = null;\n\n\t/**\n\t * Value to set panning model to equal power for WebAudioSoundInstance.  Can be \"equalpower\" or 0 depending on browser implementation.\n\t * @property _panningModel\n\t * @type {Number / String}\n\t * @private\n\t * @static\n\t */\n\ts._panningModel = \"equalpower\";\n\n\t/**\n\t * The web audio context, which WebAudio uses to play audio. All nodes that interact with the WebAudioPlugin\n\t * need to be created within this context.\n\t *\n\t * Advanced users can set this to an existing context, but <b>must</b> do so before they call\n\t * {{#crossLink \"Sound/registerPlugins\"}}{{/crossLink}} or {{#crossLink \"Sound/initializeDefaultPlugins\"}}{{/crossLink}}.\n\t *\n\t * @property context\n\t * @type {AudioContext}\n\t * @static\n\t */\n\ts.context = null;\n\n\t/**\n\t * The scratch buffer that will be assigned to the buffer property of a source node on close.\n\t * Works around an iOS Safari bug: https://github.com/CreateJS/SoundJS/issues/102\n\t *\n\t * Advanced users can set this to an existing source node, but <b>must</b> do so before they call\n\t * {{#crossLink \"Sound/registerPlugins\"}}{{/crossLink}} or {{#crossLink \"Sound/initializeDefaultPlugins\"}}{{/crossLink}}.\n\t *\n\t * @property _scratchBuffer\n\t * @type {AudioBuffer}\n\t * @private\n\t * @static\n\t */\n\ts._scratchBuffer = null;\n\n\t/**\n\t * Indicated whether audio on iOS has been unlocked, which requires a touchend/mousedown event that plays an\n\t * empty sound.\n\t * @property _unlocked\n\t * @type {boolean}\n\t * @since 0.6.2\n\t * @private\n\t */\n\ts._unlocked = false;\n\n\t/**\n\t * The default sample rate used when checking for iOS compatibility. See {{#crossLink \"WebAudioPlugin/_createAudioContext\"}}{{/crossLink}}.\n\t * @property DEFAULT_SAMPLE_REATE\n\t * @type {number}\n\t * @default 44100\n\t * @static\n\t */\n\ts.DEFAULT_SAMPLE_RATE = 44100;\n\n\t// Static Public Methods\n\t/**\n\t * Determine if the plugin can be used in the current browser/OS.\n\t * @method isSupported\n\t * @return {Boolean} If the plugin can be initialized.\n\t * @static\n\t */\n\ts.isSupported = function () {\n\t\t// check if this is some kind of mobile device, Web Audio works with local protocol under PhoneGap and it is unlikely someone is trying to run a local file\n\t\tvar isMobilePhoneGap = createjs.BrowserDetect.isIOS || createjs.BrowserDetect.isAndroid || createjs.BrowserDetect.isBlackberry;\n\t\t// OJR isMobile may be redundant with _isFileXHRSupported available.  Consider removing.\n\t\tif (location.protocol == \"file:\" && !isMobilePhoneGap && !this._isFileXHRSupported()) { return false; }  // Web Audio requires XHR, which is not usually available locally\n\t\ts._generateCapabilities();\n\t\tif (s.context == null) { return false; }\n\t\treturn true;\n\t};\n\n\t/**\n\t * Plays an empty sound in the web audio context.  This is used to enable web audio on iOS devices, as they\n\t * require the first sound to be played inside of a user initiated event (touch/click).  This is called when\n\t * {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}} is initialized (by Sound {{#crossLink \"Sound/initializeDefaultPlugins\"}}{{/crossLink}}\n\t * for example).\n\t *\n\t * <h4>Example</h4>\n\t *\n\t *     function handleTouch(event) {\n\t *         createjs.WebAudioPlugin.playEmptySound();\n\t *     }\n\t *\n\t * @method playEmptySound\n\t * @static\n\t * @since 0.4.1\n\t */\n\ts.playEmptySound = function () {\n\t\tif (s.context == null) { return; }\n\t\tvar source = s.context.createBufferSource();\n\t\tsource.buffer = s._scratchBuffer;\n\t\tsource.connect(s.context.destination);\n\t\tsource.start(0, 0, 0);\n\t};\n\n\n\t// Static Private Methods\n\t/**\n\t * Determine if XHR is supported, which is necessary for web audio.\n\t * @method _isFileXHRSupported\n\t * @return {Boolean} If XHR is supported.\n\t * @since 0.4.2\n\t * @private\n\t * @static\n\t */\n\ts._isFileXHRSupported = function () {\n\t\t// it's much easier to detect when something goes wrong, so let's start optimistically\n\t\tvar supported = true;\n\n\t\tvar xhr = new XMLHttpRequest();\n\t\ttry {\n\t\t\txhr.open(\"GET\", \"WebAudioPluginTest.fail\", false); // loading non-existant file triggers 404 only if it could load (synchronous call)\n\t\t} catch (error) {\n\t\t\t// catch errors in cases where the onerror is passed by\n\t\t\tsupported = false;\n\t\t\treturn supported;\n\t\t}\n\t\txhr.onerror = function () { supported = false; }; // cause irrelevant\n\t\t// with security turned off, we can get empty success results, which is actually a failed read (status code 0?)\n\t\txhr.onload = function () { supported = this.status == 404 || (this.status == 200 || (this.status == 0 && this.response != \"\")); };\n\t\ttry {\n\t\t\txhr.send();\n\t\t} catch (error) {\n\t\t\t// catch errors in cases where the onerror is passed by\n\t\t\tsupported = false;\n\t\t}\n\n\t\treturn supported;\n\t};\n\n\t/**\n\t * Determine the capabilities of the plugin. Used internally. Please see the Sound API {{#crossLink \"Sound/capabilities:property\"}}{{/crossLink}}\n\t * method for an overview of plugin capabilities.\n\t * @method _generateCapabilities\n\t * @static\n\t * @private\n\t */\n\ts._generateCapabilities = function () {\n\t\tif (s._capabilities != null) { return; }\n\t\t// Web Audio can be in any formats supported by the audio element, from http://www.w3.org/TR/webaudio/#AudioContext-section\n\t\tvar t = document.createElement(\"audio\");\n\t\tif (t.canPlayType == null) { return null; }\n\n\t\tif (s.context == null) {\n\t\t\ts.context = s._createAudioContext();\n\t\t\tif (s.context == null) { return null; }\n\t\t}\n\t\tif (s._scratchBuffer == null) {\n\t\t\ts._scratchBuffer = s.context.createBuffer(1, 1, 22050);\n\t\t}\n\n\t\ts._compatibilitySetUp();\n\n\t\t// Listen for document level clicks to unlock WebAudio on iOS. See the _unlock method.\n\t\tif (\"ontouchstart\" in window && s.context.state != \"running\") {\n\t\t\ts._unlock(); // When played inside of a touch event, this will enable audio on iOS immediately.\n\t\t\tdocument.addEventListener(\"mousedown\", s._unlock, true);\n\t\t\tdocument.addEventListener(\"touchstart\", s._unlock, true);\n\t\t\tdocument.addEventListener(\"touchend\", s._unlock, true);\n\t\t}\n\n\t\ts._capabilities = {\n\t\t\tpanning: true,\n\t\t\tvolume: true,\n\t\t\ttracks: -1\n\t\t};\n\n\t\t// determine which extensions our browser supports for this plugin by iterating through Sound.SUPPORTED_EXTENSIONS\n\t\tvar supportedExtensions = createjs.Sound.SUPPORTED_EXTENSIONS;\n\t\tvar extensionMap = createjs.Sound.EXTENSION_MAP;\n\t\tfor (var i = 0, l = supportedExtensions.length; i < l; i++) {\n\t\t\tvar ext = supportedExtensions[i];\n\t\t\tvar playType = extensionMap[ext] || ext;\n\t\t\ts._capabilities[ext] = (t.canPlayType(\"audio/\" + ext) != \"no\" && t.canPlayType(\"audio/\" + ext) != \"\") || (t.canPlayType(\"audio/\" + playType) != \"no\" && t.canPlayType(\"audio/\" + playType) != \"\");\n\t\t}  // OJR another way to do this might be canPlayType:\"m4a\", codex: mp4\n\n\t\t// 0=no output, 1=mono, 2=stereo, 4=surround, 6=5.1 surround.\n\t\t// See http://www.w3.org/TR/webaudio/#AudioChannelSplitter for more details on channels.\n\t\tif (s.context.destination.numberOfChannels < 2) {\n\t\t\ts._capabilities.panning = false;\n\t\t}\n\t};\n\n\t/**\n\t * Create an audio context for the sound.\n\t *\n\t * This method handles both vendor prefixes (specifically webkit support), as well as a case on iOS where\n\t * audio played with a different sample rate may play garbled when first started. The default sample rate is\n\t * 44,100, however it can be changed using the {{#crossLink \"WebAudioPlugin/DEFAULT_SAMPLE_RATE:property\"}}{{/crossLink}}.\n\t * @method _createAudioContext\n\t * @return {AudioContext | webkitAudioContext}\n\t * @private\n\t * @static\n\t * @since 1.0.0\n\t */\n\ts._createAudioContext = function () {\n\t\t// Slightly modified version of https://github.com/Jam3/ios-safe-audio-context\n\t\t// Resolves issues with first-run contexts playing garbled on iOS.\n\t\tvar AudioCtor = (window.AudioContext || window.webkitAudioContext);\n\t\tif (AudioCtor == null) { return null; }\n\t\tvar context = new AudioCtor();\n\n\t\t// Check if hack is necessary. Only occurs in iOS6+ devices\n\t\t// and only when you first boot the iPhone, or play a audio/video\n\t\t// with a different sample rate\n\t\tif (/(iPhone|iPad)/i.test(navigator.userAgent)\n\t\t\t&& context.sampleRate !== s.DEFAULT_SAMPLE_RATE) {\n\t\t\tvar buffer = context.createBuffer(1, 1, s.DEFAULT_SAMPLE_RATE),\n\t\t\t\tdummy = context.createBufferSource();\n\t\t\tdummy.buffer = buffer;\n\t\t\tdummy.connect(context.destination);\n\t\t\tdummy.start(0);\n\t\t\tdummy.disconnect();\n\t\t\tcontext.close() // dispose old context\n\n\t\t\tcontext = new AudioCtor();\n\t\t}\n\t\treturn context;\n\t}\n\n\t/**\n\t * Set up compatibility if only deprecated web audio calls are supported.\n\t * See http://www.w3.org/TR/webaudio/#DeprecationNotes\n\t * Needed so we can support new browsers that don't support deprecated calls (Firefox) as well as old browsers that\n\t * don't support new calls.\n\t *\n\t * @method _compatibilitySetUp\n\t * @static\n\t * @private\n\t * @since 0.4.2\n\t */\n\ts._compatibilitySetUp = function () {\n\t\ts._panningModel = \"equalpower\";\n\t\t//assume that if one new call is supported, they all are\n\t\tif (s.context.createGain) { return; }\n\n\t\t// simple name change, functionality the same\n\t\ts.context.createGain = s.context.createGainNode;\n\n\t\t// source node, add to prototype\n\t\tvar audioNode = s.context.createBufferSource();\n\t\taudioNode.__proto__.start = audioNode.__proto__.noteGrainOn;\t// note that noteGrainOn requires all 3 parameters\n\t\taudioNode.__proto__.stop = audioNode.__proto__.noteOff;\n\n\t\t// panningModel\n\t\ts._panningModel = 0;\n\t};\n\n\t/**\n\t * Try to unlock audio on iOS. This is triggered from either WebAudio plugin setup (which will work if inside of\n\t * a `mousedown` or `touchend` event stack), or the first document touchend/mousedown event. If it fails (touchend\n\t * will fail if the user presses for too long, indicating a scroll event instead of a click event.\n\t *\n\t * Note that earlier versions of iOS supported `touchstart` for this, but iOS9 removed this functionality. Adding\n\t * a `touchstart` event to support older platforms may preclude a `mousedown` even from getting fired on iOS9, so we\n\t * stick with `mousedown` and `touchend`.\n\t * @method _unlock\n\t * @since 0.6.2\n\t * @private\n\t */\n\ts._unlock = function () {\n\t\tif (s._unlocked) { return; }\n\t\ts.playEmptySound();\n\t\tif (s.context.state == \"running\") {\n\t\t\tdocument.removeEventListener(\"mousedown\", s._unlock, true);\n\t\t\tdocument.removeEventListener(\"touchend\", s._unlock, true);\n\t\t\tdocument.removeEventListener(\"touchstart\", s._unlock, true);\n\t\t\ts._unlocked = true;\n\t\t}\n\t};\n\n\n\t// Public Methods\n\tp.toString = function () {\n\t\treturn \"[WebAudioPlugin]\";\n\t};\n\n\n\t// Private Methods\n\t/**\n\t * Set up needed properties on supported classes WebAudioSoundInstance and WebAudioLoader.\n\t * @method _addPropsToClasses\n\t * @static\n\t * @protected\n\t * @since 0.6.0\n\t */\n\tp._addPropsToClasses = function () {\n\t\tvar c = this._soundInstanceClass;\n\t\tc.context = this.context;\n\t\tc._scratchBuffer = s._scratchBuffer;\n\t\tc.destinationNode = this.gainNode;\n\t\tc._panningModel = this._panningModel;\n\n\t\tthis._loaderClass.context = this.context;\n\t};\n\n\n\t/**\n\t * Set the gain value for master audio. Should not be called externally.\n\t * @method _updateVolume\n\t * @protected\n\t */\n\tp._updateVolume = function () {\n\t\tvar newVolume = createjs.Sound._masterMute ? 0 : this._volume;\n\t\tif (newVolume != this.gainNode.gain.value) {\n\t\t\tthis.gainNode.gain.value = newVolume;\n\t\t}\n\t};\n\n\tcreatejs.WebAudioPlugin = createjs.promote(WebAudioPlugin, \"AbstractPlugin\");\n}());\n\n//##############################################################################\n// HTMLAudioTagPool.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * HTMLAudioTagPool is an object pool for HTMLAudio tag instances.\n\t * @class HTMLAudioTagPool\n\t * @param {String} src The source of the channel.\n\t * @protected\n\t */\n\tfunction HTMLAudioTagPool() {\n\t\tthrow \"HTMLAudioTagPool cannot be instantiated\";\n\t}\n\n\tvar s = HTMLAudioTagPool;\n\n\t// Static Properties\n\t/**\n\t * A hash lookup of each base audio tag, indexed by the audio source.\n\t * @property _tags\n\t * @type {{}}\n\t * @static\n\t * @private\n\t */\n\ts._tags = {};\n\n\t/**\n\t * An object pool for html audio tags\n\t * @property _tagPool\n\t * @type {TagPool}\n\t * @static\n\t * @private\n\t */\n\ts._tagPool = new TagPool();\n\n\t/**\n\t * A hash lookup of if a base audio tag is available, indexed by the audio source\n\t * @property _tagsUsed\n\t * @type {{}}\n\t * @private\n\t * @static\n\t */\n\ts._tagUsed = {};\n\n\t// Static Methods\n\t/**\n\t  * Get an audio tag with the given source.\n\t  * @method get\n\t  * @param {String} src The source file used by the audio tag.\n\t  * @static\n\t  */\n\ts.get = function (src) {\n\t\tvar t = s._tags[src];\n\t\tif (t == null) {\n\t\t\t// create new base tag\n\t\t\tt = s._tags[src] = s._tagPool.get();\n\t\t\tt.src = src;\n\t\t} else {\n\t\t\t// get base or pool\n\t\t\tif (s._tagUsed[src]) {\n\t\t\t\tt = s._tagPool.get();\n\t\t\t\tt.src = src;\n\t\t\t} else {\n\t\t\t\ts._tagUsed[src] = true;\n\t\t\t}\n\t\t}\n\t\treturn t;\n\t};\n\n\t/**\n\t * Return an audio tag to the pool.\n\t * @method set\n\t * @param {String} src The source file used by the audio tag.\n\t * @param {HTMLElement} tag Audio tag to set.\n\t * @static\n\t */\n\ts.set = function (src, tag) {\n\t\t// check if this is base, if yes set boolean if not return to pool\n\t\tif (tag == s._tags[src]) {\n\t\t\ts._tagUsed[src] = false;\n\t\t} else {\n\t\t\ts._tagPool.set(tag);\n\t\t}\n\t};\n\n\t/**\n\t * Delete stored tag reference and return them to pool. Note that if the tag reference does not exist, this will fail.\n\t * @method remove\n\t * @param {String} src The source for the tag\n\t * @return {Boolean} If the TagPool was deleted.\n\t * @static\n\t */\n\ts.remove = function (src) {\n\t\tvar tag = s._tags[src];\n\t\tif (tag == null) { return false; }\n\t\ts._tagPool.set(tag);\n\t\tdelete (s._tags[src]);\n\t\tdelete (s._tagUsed[src]);\n\t\treturn true;\n\t};\n\n\t/**\n\t * Gets the duration of the src audio in milliseconds\n\t * @method getDuration\n\t * @param {String} src The source file used by the audio tag.\n\t * @return {Number} Duration of src in milliseconds\n\t * @static\n\t */\n\ts.getDuration = function (src) {\n\t\tvar t = s._tags[src];\n\t\tif (t == null || !t.duration) { return 0; }\t// OJR duration is NaN if loading has not completed\n\t\treturn t.duration * 1000;\n\t};\n\n\tcreatejs.HTMLAudioTagPool = HTMLAudioTagPool;\n\n\n\t// ************************************************************************************************************\n\t/**\n\t * The TagPool is an object pool for HTMLAudio tag instances.\n\t * #class TagPool\n\t * @param {String} src The source of the channel.\n\t * @protected\n\t */\n\tfunction TagPool(src) {\n\n\t\t// Public Properties\n\t\t/**\n\t\t * A list of all available tags in the pool.\n\t\t * #property tags\n\t\t * @type {Array}\n\t\t * @protected\n\t\t */\n\t\tthis._tags = [];\n\t}\n\n\tvar p = TagPool.prototype;\n\tp.constructor = TagPool;\n\n\n\t// Public Methods\n\t/**\n\t * Get an HTMLAudioElement for immediate playback. This takes it out of the pool.\n\t * #method get\n\t * @return {HTMLAudioElement} An HTML audio tag.\n\t */\n\tp.get = function () {\n\t\tvar tag;\n\t\tif (this._tags.length == 0) {\n\t\t\ttag = this._createTag();\n\t\t} else {\n\t\t\ttag = this._tags.pop();\n\t\t}\n\t\tif (tag.parentNode == null) { document.body.appendChild(tag); }\n\t\treturn tag;\n\t};\n\n\t/**\n\t * Put an HTMLAudioElement back in the pool for use.\n\t * #method set\n\t * @param {HTMLAudioElement} tag HTML audio tag\n\t */\n\tp.set = function (tag) {\n\t\t// OJR this first step seems unnecessary\n\t\tvar index = createjs.indexOf(this._tags, tag);\n\t\tif (index == -1) {\n\t\t\tthis._tags.src = null;\n\t\t\tthis._tags.push(tag);\n\t\t}\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[TagPool]\";\n\t};\n\n\n\t// Private Methods\n\t/**\n\t * Create an HTML audio tag.\n\t * #method _createTag\n\t * @param {String} src The source file to set for the audio tag.\n\t * @return {HTMLElement} Returns an HTML audio tag.\n\t * @protected\n\t */\n\tp._createTag = function () {\n\t\tvar tag = document.createElement(\"audio\");\n\t\ttag.autoplay = false;\n\t\ttag.preload = \"none\";\n\t\t//LM: Firefox fails when this the preload=\"none\" for other tags, but it needs to be \"none\" to ensure PreloadJS works.\n\t\treturn tag;\n\t};\n\n}());\n\n//##############################################################################\n// HTMLAudioSoundInstance.js\n//##############################################################################\n\n\n\n(function () {\n\t\"use strict\";\n\n\t/**\n\t * HTMLAudioSoundInstance extends the base api of {{#crossLink \"AbstractSoundInstance\"}}{{/crossLink}} and is used by\n\t * {{#crossLink \"HTMLAudioPlugin\"}}{{/crossLink}}.\n\t *\n\t * @param {String} src The path to and file name of the sound.\n\t * @param {Number} startTime Audio sprite property used to apply an offset, in milliseconds.\n\t * @param {Number} duration Audio sprite property used to set the time the clip plays for, in milliseconds.\n\t * @param {Object} playbackResource Any resource needed by plugin to support audio playback.\n\t * @class HTMLAudioSoundInstance\n\t * @extends AbstractSoundInstance\n\t * @constructor\n\t */\n\tfunction HTMLAudioSoundInstance(src, startTime, duration, playbackResource) {\n\t\tthis.AbstractSoundInstance_constructor(src, startTime, duration, playbackResource);\n\n\n\t\t// Private Properties\n\t\tthis._audioSpriteStopTime = null;\n\t\tthis._delayTimeoutId = null;\n\n\t\t// Proxies, make removing listeners easier.\n\t\tthis._endedHandler = createjs.proxy(this._handleSoundComplete, this);\n\t\tthis._readyHandler = createjs.proxy(this._handleTagReady, this);\n\t\tthis._stalledHandler = createjs.proxy(this._playFailed, this);\n\t\tthis._audioSpriteEndHandler = createjs.proxy(this._handleAudioSpriteLoop, this);\n\t\tthis._loopHandler = createjs.proxy(this._handleSoundComplete, this);\n\n\t\tif (duration) {\n\t\t\tthis._audioSpriteStopTime = (startTime + duration) * 0.001;\n\t\t} else {\n\t\t\tthis._duration = createjs.HTMLAudioTagPool.getDuration(this.src);\n\t\t}\n\t}\n\tvar p = createjs.extend(HTMLAudioSoundInstance, createjs.AbstractSoundInstance);\n\n\t// Public Methods\n\t/**\n\t * Called by {{#crossLink \"Sound\"}}{{/crossLink}} when plugin does not handle master volume.\n\t * undoc'd because it is not meant to be used outside of Sound\n\t * #method setMasterVolume\n\t * @param value\n\t */\n\tp.setMasterVolume = function (value) {\n\t\tthis._updateVolume();\n\t};\n\n\t/**\n\t * Called by {{#crossLink \"Sound\"}}{{/crossLink}} when plugin does not handle master mute.\n\t * undoc'd because it is not meant to be used outside of Sound\n\t * #method setMasterMute\n\t * @param value\n\t */\n\tp.setMasterMute = function (isMuted) {\n\t\tthis._updateVolume();\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[HTMLAudioSoundInstance]\";\n\t};\n\n\t//Private Methods\n\tp._removeLooping = function () {\n\t\tif (this._playbackResource == null) { return; }\n\t\tthis._playbackResource.loop = false;\n\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t};\n\n\tp._addLooping = function () {\n\t\tif (this._playbackResource == null || this._audioSpriteStopTime) { return; }\n\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t\tthis._playbackResource.loop = true;\n\t};\n\n\tp._handleCleanUp = function () {\n\t\tvar tag = this._playbackResource;\n\t\tif (tag != null) {\n\t\t\ttag.pause();\n\t\t\ttag.loop = false;\n\t\t\ttag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, false);\n\t\t\ttag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, false);\n\t\t\ttag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, false);\n\t\t\ttag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t\t\ttag.removeEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, false);\n\n\t\t\ttry {\n\t\t\t\ttag.currentTime = this._startTime;\n\t\t\t} catch (e) {\n\t\t\t} // Reset Position\n\t\t\tcreatejs.HTMLAudioTagPool.set(this.src, tag);\n\t\t\tthis._playbackResource = null;\n\t\t}\n\t};\n\n\tp._beginPlaying = function (playProps) {\n\t\tthis._playbackResource = createjs.HTMLAudioTagPool.get(this.src);\n\t\treturn this.AbstractSoundInstance__beginPlaying(playProps);\n\t};\n\n\tp._handleSoundReady = function (event) {\n\t\tif (this._playbackResource.readyState !== 4) {\n\t\t\tvar tag = this._playbackResource;\n\t\t\ttag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, false);\n\t\t\ttag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, false);\n\t\t\ttag.preload = \"auto\"; // This is necessary for Firefox, as it won't ever \"load\" until this is set.\n\t\t\ttag.load();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._updateVolume();\n\t\tthis._playbackResource.currentTime = (this._startTime + this._position) * 0.001;\n\t\tif (this._audioSpriteStopTime) {\n\t\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, false);\n\t\t} else {\n\t\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, false);\n\t\t\tif (this._loop != 0) {\n\t\t\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t\t\t\tthis._playbackResource.loop = true;\n\t\t\t}\n\t\t}\n\n\t\tthis._playbackResource.play();\n\t};\n\n\t/**\n\t * Used to handle when a tag is not ready for immediate playback when it is returned from the HTMLAudioTagPool.\n\t * @method _handleTagReady\n\t * @param event\n\t * @protected\n\t */\n\tp._handleTagReady = function (event) {\n\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY, this._readyHandler, false);\n\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED, this._stalledHandler, false);\n\n\t\tthis._handleSoundReady();\n\t};\n\n\tp._pause = function () {\n\t\tthis._playbackResource.pause();\n\t};\n\n\tp._resume = function () {\n\t\tthis._playbackResource.play();\n\t};\n\n\tp._updateVolume = function () {\n\t\tif (this._playbackResource != null) {\n\t\t\tvar newVolume = (this._muted || createjs.Sound._masterMute) ? 0 : this._volume * createjs.Sound._masterVolume;\n\t\t\tif (newVolume != this._playbackResource.volume) { this._playbackResource.volume = newVolume; }\n\t\t}\n\t};\n\n\tp._calculateCurrentPosition = function () {\n\t\treturn (this._playbackResource.currentTime * 1000) - this._startTime;\n\t};\n\n\tp._updatePosition = function () {\n\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, false);\n\t\ttry {\n\t\t\tthis._playbackResource.currentTime = (this._position + this._startTime) * 0.001;\n\t\t} catch (error) { // Out of range\n\t\t\tthis._handleSetPositionSeek(null);\n\t\t}\n\t};\n\n\t/**\n\t * Used to enable setting position, as we need to wait for that seek to be done before we add back our loop handling seek listener\n\t * @method _handleSetPositionSeek\n\t * @param event\n\t * @protected\n\t */\n\tp._handleSetPositionSeek = function (event) {\n\t\tif (this._playbackResource == null) { return; }\n\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._handleSetPositionSeek, false);\n\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t};\n\n\t/**\n\t * Timer used to loop audio sprites.\n\t * NOTE because of the inaccuracies in the timeupdate event (15 - 250ms) and in setting the tag to the desired timed\n\t * (up to 300ms), it is strongly recommended not to loop audio sprites with HTML Audio if smooth looping is desired\n\t *\n\t * @method _handleAudioSpriteLoop\n\t * @param event\n\t * @private\n\t */\n\tp._handleAudioSpriteLoop = function (event) {\n\t\tif (this._playbackResource.currentTime <= this._audioSpriteStopTime) { return; }\n\t\tthis._playbackResource.pause();\n\t\tif (this._loop == 0) {\n\t\t\tthis._handleSoundComplete(null);\n\t\t} else {\n\t\t\tthis._position = 0;\n\t\t\tthis._loop--;\n\t\t\tthis._playbackResource.currentTime = this._startTime * 0.001;\n\t\t\tif (!this._paused) { this._playbackResource.play(); }\n\t\t\tthis._sendEvent(\"loop\");\n\t\t}\n\t};\n\n\t// NOTE with this approach audio will loop as reliably as the browser allows\n\t// but we could end up sending the loop event after next loop playback begins\n\tp._handleLoop = function (event) {\n\t\tif (this._loop == 0) {\n\t\t\tthis._playbackResource.loop = false;\n\t\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED, this._loopHandler, false);\n\t\t}\n\t};\n\n\tp._updateStartTime = function () {\n\t\tthis._audioSpriteStopTime = (this._startTime + this._duration) * 0.001;\n\n\t\tif (this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, false);\n\t\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, false);\n\t\t}\n\t};\n\n\tp._updateDuration = function () {\n\t\tthis._audioSpriteStopTime = (this._startTime + this._duration) * 0.001;\n\n\t\tif (this.playState == createjs.Sound.PLAY_SUCCEEDED) {\n\t\t\tthis._playbackResource.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED, this._endedHandler, false);\n\t\t\tthis._playbackResource.addEventListener(createjs.HTMLAudioPlugin._TIME_UPDATE, this._audioSpriteEndHandler, false);\n\t\t}\n\t};\n\n\tp._setDurationFromSource = function () {\n\t\tthis._duration = createjs.HTMLAudioTagPool.getDuration(this.src);\n\t\tthis._playbackResource = null;\n\t};\n\n\tcreatejs.HTMLAudioSoundInstance = createjs.promote(HTMLAudioSoundInstance, \"AbstractSoundInstance\");\n}());\n\n//##############################################################################\n// HTMLAudioPlugin.js\n//##############################################################################\n\n\n\n(function () {\n\n\t\"use strict\";\n\n\t/**\n\t * Play sounds using HTML &lt;audio&gt; tags in the browser. This plugin is the second priority plugin installed\n\t * by default, after the {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}}.  For older browsers that do not support html\n\t * audio, include and install the {{#crossLink \"FlashAudioPlugin\"}}{{/crossLink}}.\n\t *\n\t * <h4>Known Browser and OS issues for HTML Audio</h4>\n\t * <b>All browsers</b><br />\n\t * Testing has shown in all browsers there is a limit to how many audio tag instances you are allowed.  If you exceed\n\t * this limit, you can expect to see unpredictable results. Please use {{#crossLink \"Sound.MAX_INSTANCES\"}}{{/crossLink}} as\n\t * a guide to how many total audio tags you can safely use in all browsers.  This issue is primarily limited to IE9.\n\t *\n     * <b>IE html limitations</b><br />\n     * <ul><li>There is a delay in applying volume changes to tags that occurs once playback is started. So if you have\n     * muted all sounds, they will all play during this delay until the mute applies internally. This happens regardless of\n     * when or how you apply the volume change, as the tag seems to need to play to apply it.</li>\n     * <li>MP3 encoding will not always work for audio tags if it's not default.  We've found default encoding with\n     * 64kbps works.</li>\n\t * <li>Occasionally very short samples will get cut off.</li>\n\t * <li>There is a limit to how many audio tags you can load or play at once, which appears to be determined by\n\t * hardware and browser settings.  See {{#crossLink \"HTMLAudioPlugin.MAX_INSTANCES\"}}{{/crossLink}} for a safe estimate.\n\t * Note that audio sprites can be used as a solution to this issue.</li></ul>\n\t *\n\t * <b>Safari limitations</b><br />\n\t * <ul><li>Safari requires Quicktime to be installed for audio playback.</li></ul>\n\t *\n\t * <b>iOS 6 limitations</b><br />\n\t * <ul><li>can only have one &lt;audio&gt; tag</li>\n\t * \t\t<li>can not preload or autoplay the audio</li>\n\t * \t\t<li>can not cache the audio</li>\n\t * \t\t<li>can not play the audio except inside a user initiated event.</li>\n\t *\t\t<li>Note it is recommended to use {{#crossLink \"WebAudioPlugin\"}}{{/crossLink}} for iOS (6+)</li>\n\t * \t\t<li>audio sprites can be used to mitigate some of these issues and are strongly recommended on iOS</li>\n\t * </ul>\n\t *\n\t * <b>Android Native Browser limitations</b><br />\n\t * <ul><li>We have no control over audio volume. Only the user can set volume on their device.</li>\n\t *      <li>We can only play audio inside a user event (touch/click).  This currently means you cannot loop sound or use a delay.</li></ul>\n\t * <b> Android Chrome 26.0.1410.58 specific limitations</b><br />\n\t * <ul> <li>Can only play 1 sound at a time.</li>\n\t *      <li>Sound is not cached.</li>\n\t *      <li>Sound can only be loaded in a user initiated touch/click event.</li>\n\t *      <li>There is a delay before a sound is played, presumably while the src is loaded.</li>\n\t * </ul>\n\t *\n\t * See {{#crossLink \"Sound\"}}{{/crossLink}} for general notes on known issues.\n\t *\n\t * @class HTMLAudioPlugin\n\t * @extends AbstractPlugin\n\t * @constructor\n\t */\n\tfunction HTMLAudioPlugin() {\n\t\tthis.AbstractPlugin_constructor();\n\n\n\t\t// Public Properties\n\t\tthis._capabilities = s._capabilities;\n\n\t\tthis._loaderClass = createjs.SoundLoader;\n\t\tthis._soundInstanceClass = createjs.HTMLAudioSoundInstance;\n\t}\n\n\tvar p = createjs.extend(HTMLAudioPlugin, createjs.AbstractPlugin);\n\tvar s = HTMLAudioPlugin;\n\n\t// Static Properties\n\t/**\n\t * The maximum number of instances that can be loaded or played. This is a browser limitation, primarily limited to IE9.\n\t * The actual number varies from browser to browser (and is largely hardware dependant), but this is a safe estimate.\n\t * Audio sprites work around this limitation.\n\t * @property MAX_INSTANCES\n\t * @type {Number}\n\t * @default 30\n\t * @static\n\t */\n\ts.MAX_INSTANCES = 30;\n\n\t/**\n\t * Event constant for the \"canPlayThrough\" event for cleaner code.\n\t * @property _AUDIO_READY\n\t * @type {String}\n\t * @default canplaythrough\n\t * @static\n\t * @private\n\t */\n\ts._AUDIO_READY = \"canplaythrough\";\n\n\t/**\n\t * Event constant for the \"ended\" event for cleaner code.\n\t * @property _AUDIO_ENDED\n\t * @type {String}\n\t * @default ended\n\t * @static\n\t * @private\n\t */\n\ts._AUDIO_ENDED = \"ended\";\n\n\t/**\n\t * Event constant for the \"seeked\" event for cleaner code.  We utilize this event for maintaining loop events.\n\t * @property _AUDIO_SEEKED\n\t * @type {String}\n\t * @default seeked\n\t * @static\n\t * @private\n\t */\n\ts._AUDIO_SEEKED = \"seeked\";\n\n\t/**\n\t * Event constant for the \"stalled\" event for cleaner code.\n\t * @property _AUDIO_STALLED\n\t * @type {String}\n\t * @default stalled\n\t * @static\n\t * @private\n\t */\n\ts._AUDIO_STALLED = \"stalled\";\n\n\t/**\n\t * Event constant for the \"timeupdate\" event for cleaner code.  Utilized for looping audio sprites.\n\t * This event callsback ever 15 to 250ms and can be dropped by the browser for performance.\n\t * @property _TIME_UPDATE\n\t * @type {String}\n\t * @default timeupdate\n\t * @static\n\t * @private\n\t */\n\ts._TIME_UPDATE = \"timeupdate\";\n\n\t/**\n\t * The capabilities of the plugin. This is generated via the {{#crossLink \"HTMLAudioPlugin/_generateCapabilities\"}}{{/crossLink}}\n\t * method. Please see the Sound {{#crossLink \"Sound/capabilities:property\"}}{{/crossLink}} method for an overview of all\n\t * of the available properties.\n\t * @property _capabilities\n\t * @type {Object}\n\t * @private\n\t * @static\n\t */\n\ts._capabilities = null;\n\n\n\t// Static Methods\n\t/**\n\t * Determine if the plugin can be used in the current browser/OS. Note that HTML audio is available in most modern\n\t * browsers, but is disabled in iOS because of its limitations.\n\t * @method isSupported\n\t * @return {Boolean} If the plugin can be initialized.\n\t * @static\n\t */\n\ts.isSupported = function () {\n\t\ts._generateCapabilities();\n\t\treturn (s._capabilities != null);\n\t};\n\n\t/**\n\t * Determine the capabilities of the plugin. Used internally. Please see the Sound API {{#crossLink \"Sound/capabilities:property\"}}{{/crossLink}}\n\t * method for an overview of plugin capabilities.\n\t * @method _generateCapabilities\n\t * @static\n\t * @private\n\t */\n\ts._generateCapabilities = function () {\n\t\tif (s._capabilities != null) { return; }\n\t\tvar t = document.createElement(\"audio\");\n\t\tif (t.canPlayType == null) { return null; }\n\n\t\ts._capabilities = {\n\t\t\tpanning: false,\n\t\t\tvolume: true,\n\t\t\ttracks: -1\n\t\t};\n\n\t\t// determine which extensions our browser supports for this plugin by iterating through Sound.SUPPORTED_EXTENSIONS\n\t\tvar supportedExtensions = createjs.Sound.SUPPORTED_EXTENSIONS;\n\t\tvar extensionMap = createjs.Sound.EXTENSION_MAP;\n\t\tfor (var i = 0, l = supportedExtensions.length; i < l; i++) {\n\t\t\tvar ext = supportedExtensions[i];\n\t\t\tvar playType = extensionMap[ext] || ext;\n\t\t\ts._capabilities[ext] = (t.canPlayType(\"audio/\" + ext) != \"no\" && t.canPlayType(\"audio/\" + ext) != \"\") || (t.canPlayType(\"audio/\" + playType) != \"no\" && t.canPlayType(\"audio/\" + playType) != \"\");\n\t\t}  // OJR another way to do this might be canPlayType:\"m4a\", codex: mp4\n\t};\n\n\n\t// public methods\n\tp.register = function (loadItem) {\n\t\tvar tag = createjs.HTMLAudioTagPool.get(loadItem.src);\n\t\tvar loader = this.AbstractPlugin_register(loadItem);\n\t\tloader.setTag(tag);\n\n\t\treturn loader;\n\t};\n\n\tp.removeSound = function (src) {\n\t\tthis.AbstractPlugin_removeSound(src);\n\t\tcreatejs.HTMLAudioTagPool.remove(src);\n\t};\n\n\tp.create = function (src, startTime, duration) {\n\t\tvar si = this.AbstractPlugin_create(src, startTime, duration);\n\t\tsi.playbackResource = null;\n\t\treturn si;\n\t};\n\n\tp.toString = function () {\n\t\treturn \"[HTMLAudioPlugin]\";\n\t};\n\n\t// plugin does not support these\n\tp.setVolume = p.getVolume = p.setMute = null;\n\n\n\tcreatejs.HTMLAudioPlugin = createjs.promote(HTMLAudioPlugin, \"AbstractPlugin\");\n}());\n\nexport default createjs;","let store = {\n  debug: true,\n  state: {\n    message: \"Hello!\",\n    // 用于加载Loading页的素材列表\n    sourceArrayPreLoad: [process.env.BASE_URL + \"imgs/bg-loading.jpg\"],\n    // 用于加载主内容的素材列表\n    sourceArrayLoading: [\n      process.env.BASE_URL + \"imgs/1.jpg\",\n      process.env.BASE_URL + \"imgs/2.jpg\",\n      process.env.BASE_URL + \"imgs/3.jpg\",\n      process.env.BASE_URL + \"imgs/4.jpg\",\n      process.env.BASE_URL + \"imgs/5.jpg\",\n      process.env.BASE_URL + \"imgs/6.jpg\",\n      process.env.BASE_URL + \"imgs/7.jpg\",\n      process.env.BASE_URL + \"imgs/8.jpg\",\n      process.env.BASE_URL + \"imgs/9.jpg\",\n      process.env.BASE_URL + \"imgs/10.jpg\",\n      process.env.BASE_URL + \"imgs/11.jpg\",\n      process.env.BASE_URL + \"imgs/12.jpg\"\n    ],\n    testArr: [],\n    backgrundMusicIsPlaying: false\n  },\n  setBackgroundMusicPause() {\n    this.state.backgrundMusicIsPlaying = false;\n  },\n  setBackgroundMusicPlaying() {\n    this.state.backgrundMusicIsPlaying = true;\n  }\n};\n\nlet handler = {\n  get: function(target, prop) {\n    // if(store.debug){\n    // \tconsole.log(`store get:target: ${JSON.stringify(target)}, prop: ${prop}`);\n    // }\n\n    return Reflect.get(target, prop);\n  },\n  set: function(target, prop, value) {\n    if (store.debug) {\n      console.log(`store set: prop: ${prop}, value: ${value}`);\n    }\n\n    return Reflect.set(...arguments);\n  }\n};\n\nlet initStore = function(obj) {\n  for (let [key, value] of Object.entries(obj)) {\n    if (typeof value == \"object\") {\n      obj[key] = new Proxy(value, handler);\n      initStore(value);\n    }\n  }\n\n  return new Proxy(obj, handler);\n};\n\nstore.state = initStore(store.state);\n\nwindow.store = store;\n\nexport default store;\n","import Vue from 'vue';\nimport App from './App.vue';\n// eslint-disable-next-line no-unused-vars\nimport createjs from './util/soundjs';\n// eslint-disable-next-line no-unused-vars\nimport store from './util/store.js';\n// eslint-disable-next-line no-unused-vars\nconst vConsole = require('./util/vconsole.js');\n\nrequire('./util/alert.js');\nVue.config.productionTip = false;\n\nnew Vue({\n    render: h => h(App),\n}).$mount('#app');\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./HButton.vue?vue&type=style&index=0&id=2e8246de&lang=scss&scoped=true&\"","export * from \"-!../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./MovieClip.vue?vue&type=style&index=0&id=5ba65ece&scoped=true&lang=css&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./PageLoading.vue?vue&type=style&index=0&id=983368ec&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./ShakePage.vue?vue&type=style&index=0&id=dd6d2f66&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./BgMusicHint.vue?vue&type=style&index=0&id=1d9edc60&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/logo.82b9c7a5.png\";","module.exports = __webpack_public_path__ + \"img/3.705da6d3.jpg\";","import Vconsole from \"vconsole\";\nconst vConsole = new Vconsole();\nexport default vConsole;\n"],"sourceRoot":""}