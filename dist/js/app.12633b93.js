(function(t){function e(e){for(var i,o,r=e[0],u=e[1],l=e[2],d=0,h=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);c&&c(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var u=n[r];0!==s[u]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},s={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0465":function(t,e,n){},"200d":function(t,e,n){"use strict";n("d98f")},"22b0":function(t,e,n){},"2b91":function(t,e){console.log("alert js: loading..."),function(){window.alert=function(t){var e=document.createElement("IFRAME");e.style.display="none",e.setAttribute("src","data:text/plain"),document.documentElement.appendChild(e),window.frames[0].window.alert(t),e.parentNode.removeChild(e)}}(),console.log("alert js: no title alert loaded"),console.log("alert js: load complete.")},3118:function(t,e,n){"use strict";n("89a4")},"34c1":function(t,e,n){"use strict";n("22b0")},4422:function(t,e,n){},"4fea":function(t,e,n){"use strict";n("b3cd")},"56d7":function(t,e,n){"use strict";n.r(e);n("e44b"),n("6648"),n("5f54"),n("f0e6");var i=n("a593"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"app"}},[t.pageLoadingShow?n("PageLoading",{on:{loadComplete:t.handleLoadComplete}}):t._e(),n("BasePage",{class:t.pageClass(1),attrs:{id:"page-1"},on:{commonclick:t.nextPageClick}},[n("div",{staticClass:"page1-bg"},[n("div",{staticClass:"page-hint"},[t._v("Page 1, click go to next page")])])]),n("BasePage",{class:t.pageClass(2)},[n("div",{staticClass:"page2-bg"},[n("herdsric-button",{staticClass:"herdsric-button",attrs:{"border-color":"#ffffff","show-loading":t.buttonLoading},on:{click:t.butClick}},[t._v("test")]),n("herdsric-button",{on:{click:t.but2Click}},[t._v("Test2")]),n("herdsric-button",{attrs:{disabled:!0},on:{click:t.but2Click}},[t._v("Test3")]),n("herdsric-button",{attrs:{"show-loading":t.buttonLoading,type:"image",src:"./imgs/music-off.png"},on:{click:t.but2Click}},[t._v("Test4")]),n("MovieClip",{staticClass:"movie-clip-demo",attrs:{imageArray:t.movieClipInfo.imageArray,fps:t.movieClipInfo.fps,startPlay:t.movieClipInfo.startPlay,loop:t.movieClipInfo.loop,reversePlay:t.movieClipInfo.reversePlay,pause:t.movieClipInfo.pause},on:{frameEnd:t.playToEnd}}),n("herdsric-button",{staticClass:"herdsric-button",attrs:{"show-loading":t.buttonLoading},on:{click:t.movieClipPlayClickHandler}},[t._v("\n                "+t._s(t.movieClipInfo.startPlay?"点击暂停序列帧":"点击开始序列帧")+"\n            ")]),n("div",{staticClass:"page-hint",on:{click:t.movieClipPlayClickHandler}},[t._v("\n                "+t._s(t.movieClipInfo.startPlay?"点击暂停序列帧":"点击开始序列帧")+"\n            ")]),n("div",{staticClass:"page-hint",on:{click:t.movieClipLoopClickHandler}},[t._v("\n                "+t._s(t.movieClipInfo.loop?"点击序列帧单次播放":"点击序列帧循环播放")+"\n            ")]),n("div",{staticClass:"page-hint",on:{click:t.movieClipReverseClickHandler}},[t._v("\n                "+t._s(t.movieClipInfo.reversePlay?"切换到正序播放":"切换到倒序播放")+"\n            ")]),n("div",{staticClass:"page-hint",attrs:{id:"page-2"},on:{click:t.nextPageClick}},[t._v("Page 2, click go to next page")])],1)]),n("UploadPage",{class:t.pageClass(3),on:{nextPage:t.uploadPageNextPageHandler}}),n("ShakePage",{class:t.pageClass(4),on:{nextPage:t.shakePageNextPageHandler}}),n("MusicButton",{on:{backgroundMusicPause:t.backgroundMusicPauseHandler,backgroundMusicPlay:t.backgroundMusicPlayHandler}}),n("BgMusicHint",{attrs:{showBgMusicHint:t.showBgMusicHint},on:{confirm:t.bgMusicConfirmHandler,cancel:t.bgMusicCancelHandler}})],1)},o=[],r=(n("9e76"),{isIE:!1,isAndroid:!1,isIos:!1,isWX:!1,isDD:!1,isKB:!1,isWB:!1,isQQSpace:!1,isWebApp:!1,isMac:!1,isEdge:!1,isQQBrowser:!1,isMobile:!1,isIpad:!1,isPC:!1,init:function(){var t=navigator.userAgent,e={trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),mac:t.indexOf("Mac")>-1,edge:t.indexOf("Edge")>-1,qqBrowser:t.indexOf("QQBrowser")>-1};if(this.isIE=e.trident,this.isEdge=e.edge,this.isMac=e.mac,this.isQQBrowser=e.qqBrowser,this.isMobile=e.mobile,this.isIpad=e.iPad,this.isIos=e.ios,this.isAndroid=e.android,this.isWebApp=e.webApp,e.mobile){var n=t.toLowerCase();"micromessenger"==n.match(/MicroMessenger/i)&&(this.isWX=!0),"weibo"==n.match(/WeiBo/i)&&(this.isWB=!0),"qq"==n.match(/QQ/i)&&(this.isQQSpace=!0),"koubeidefined"==n.match(/koubeidefined/i)&&(this.isKB=!0),"dingtalk"==n.match(/dingtalk/i)&&(this.isDD=!0)}},output:function(){console.log("navi controller: ".concat(navigator.userAgent)),console.log("navi controller: ".concat(JSON.stringify({wx:this.isWX,ios:this.isIos})))}});r.init();var u=r;function l(){var t,e,n,i,s,a,o,r;return window.body&&(n=document.body.clientWidth,i=document.body.clientHeight),window.documentElement&&(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight),o=window.innerWidth,r=window.innerHeight,t=n||s,e=i||a,t||e||(t=o,e=r),{width:t,height:e}}function c(){var t=100/7.5;return document.documentElement.style.fontSize=t+"vw",t}c();var d=n("0e4d"),h=n("94ef"),p=function(){function t(){Object(d["a"])(this,t),this.currentIndex=null,this.nextIndex=null,this.nextDuration=500}return Object(h["a"])(t,[{key:"turnToPage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n<=0?(this.currentIndex=t,this.nextIndex=null,new Promise((function(t){t()}))):(this.nextIndex=t,new Promise((function(i){setTimeout((function(){console.log("this is ".concat(JSON.stringify(e))),e.nextIndex=null,e.currentIndex=t,i()}),n)})))}},{key:"turnToNextPageAutomatically",value:function(){return this.turnToPage(this.currentIndex+1,this.nextDuration)}},{key:"isCurrentPage",value:function(t){return!isNaN(t)&&t==this.currentIndex}},{key:"isNextPage",value:function(t){return!isNaN(t)&&t==this.nextIndex}},{key:"toString",value:function(){console.log("page manager: ".concat(JSON.stringify({currentIndex:this.currentIndex,nextIndex:this.nextIndex,nextDuration:this.nextDuration})))}}]),t}(),_=new p,g=_,f=function(){function t(){Object(d["a"])(this,t),this.id="bg",this.sound=window.createjs.Sound,this.bgInstanceLoaded=!1,this.bgInstance=null,this.autoPlay=!0}return Object(h["a"])(t,[{key:"load",value:function(){this.bgInstanceLoaded?console.log("BGMusic: background music has already been loaded"):(this.sound.alternateExtensions=["mp3"],this.sound.on("fileload",this.loadComplete,this),this.sound.registerSound("imgs/bgmusic.mp3",this.id))}},{key:"loadComplete",value:function(t){console.log("BGMusic: background music load complete! src: ".concat(t.src)),this.bgInstanceLoaded=!0,this.autoPlay&&this.play()}},{key:"play",value:function(){this.bgInstanceLoaded||console.log("BGMusic: background music has not been loaded yet, play quit!"),this.bgInstance=this.sound.play(this.id,{loop:-1})}},{key:"pause",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, pause quit!"),this.bgInstance.paused=!0}},{key:"resume",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, resume quit!"),this.bgInstance.paused=!1}},{key:"stop",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, stop quit!"),this.bgInstance.stop()}}]),t}(),m=f,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",on:{click:t.pageClick}},[t._t("default",[n("div",{staticClass:"page page-common-default"},[t._v("This is default page, click go to next page")])])],2)},y=[],b={name:"pagecommon",data:function(){return{}},methods:{pageClick:function(t){this.$emit("commonclick",t)}}},P=b,T=(n("34c1"),n("c701")),S=Object(T["a"])(P,v,y,!1,null,"32b9d32a",null),E=S.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-button",class:[t.sharedState.backgrundMusicIsPlaying?"playing":"paused"],style:{transform:t.rotateAngleDeg},on:{click:t.musicButtonClick}})},L=[],I=1e3/60,x=1500,C={name:"MusicButton",data:function(){return{rotateAnglePerFrame:Math.round(360/x*I*100)/100,lastRotateTime:0,sharedState:window.store.state,rotateAngle:0}},computed:{rotateAngleDeg:function(){return"rotate(".concat(this.rotateAngle,"deg)")}},methods:{musicButtonClick:function(){this.sharedState.backgrundMusicIsPlaying?(window.store.setBackgroundMusicPause(),this.$emit("backgroundMusicPause")):(window.store.setBackgroundMusicPlaying(),this.$emit("backgroundMusicPlay"))},rotate:function(t){t-this.lastRotateTime>I&&(this.lastRotateTime=t,this.rotateAngle+=this.rotateAnglePerFrame,this.rotateAngle>360&&(this.rotateAngle-=360))},initRotate:function(){var t=new Date;this.sharedState.backgrundMusicIsPlaying&&this.rotate(t),requestAnimationFrame(this.initRotate)},init:function(){requestAnimationFrame(this.initRotate)}},mounted:function(){this.init()}},M=C,w=(n("200d"),Object(T["a"])(M,A,L,!1,null,null,null)),k=w.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BasePage",[n("div",{staticClass:"bg abs page",style:{backgroundImage:t.finalImageSrcBg}},[t._v("\n        Loading "+t._s(t.loadPercent)+"%\n    ")])])},D=[],N=(n("6d57"),n("2b45"),function(){this.images={},this.imageUrls=[],this.imagesLoaded=0,this.imagesFailedToLoad=0,this.imagesIndex=0,this.imageLoadingProgress=0});N.prototype={getImage:function(t){return this.images[t]},imageLoadedCallback:function(){this.imagesLoaded++},imageLoadedErrorCallback:function(){this.imagesFailedToLoad++},loadImage:function(t){var e=new window.Image,n=this;e.src=t,e.addEventListener("load",(function(t){n.imageLoadedCallback(t)})),e.addEventListener("error",(function(t){n.imageLoadedErrorCallback(t)})),this.images[t]=e},loadImages:function(){return this.imagesIndex<this.imageUrls.length&&(this.loadImage(this.imageUrls[this.imagesIndex]),this.imagesIndex++),(this.imagesLoaded+this.imagesFailedToLoad)/this.imageUrls.length*100},queueImage:function(t){var e=this;return"[object Array]"===Object.prototype.toString.call(t)?t.forEach((function(t){e.imageUrls.push(t)})):this.imageUrls.push(t),this},imageLoadingProgressCallback:function(t,e){var n=this,i=setInterval((function(){n.imageLoadingProgress=isNaN(n.loadImages())?100:n.loadImages(),100===n.imageLoadingProgress&&(clearInterval(i),setTimeout((function(){e.call(n)}),300)),t.call(n,n.imageLoadingProgress)}),10)}};var O=N,H={name:"pageLoading",components:{BasePage:E},data:function(){return{sharedState:window.store.state,loadPercent:0,publicPath:"",imageBgSrc:"imgs/bg-loading.jpg"}},computed:{finalImageSrcBg:function(){return"url(".concat(this.publicPath).concat(this.imageBgSrc,")")}},created:function(){var t=this,e=new O;e.queueImage(this.sharedState.sourceArrayPreLoad).imageLoadingProgressCallback((function(e){t.preloadPercent=Math.floor(e)}),(function(){t.startLoading()}))},methods:{startLoading:function(){var t=this,e=new O;e.queueImage(this.sharedState.sourceArrayLoading).imageLoadingProgressCallback((function(e){t.loadPercent=Math.floor(e)}),(function(){t.$emit("loadComplete")}))}}},U=H,B=(n("7c2f"),Object(T["a"])(U,R,D,!1,null,"983368ec",null)),q=B.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"movie-clip-container",style:t.containerStyle},t._l(t.movieClip,(function(e){return n("img",{key:e.id,staticClass:"frame",style:{opacity:t.isFrameShow(e.id)},attrs:{src:e.src}})})),0)},j=[],V=(n("163d"),{name:"MovieClip",data:function(){return{containerStyle:"opacity:0",lastAnimationTime:0,frameIndex:1}},props:{imageArray:{type:Array,default:function(){return[""]}},fps:{type:Number,default:24},startPlay:{type:Boolean,default:!1},pause:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},reversePlay:{type:Boolean,default:!1},specFrame:{type:Object,default:function(){return{startIndex:-1,endIndex:-1}}}},watch:{startPlay:function(t){t?(this.reset(),this.play()):this.reset()}},computed:{animationInterval:function(){return 1e3/this.fps},movieClip:function(){var t=[];return this.imageArray.reduce((function(e,n){t.push({id:t.length,src:n})}),t),t}},created:function(){},methods:{isFrameShow:function(t){return t==this.frameIndex?1:0},playEnterFrame:function(){if(this.startPlay)if(this.pause)requestAnimationFrame(this.playEnterFrame);else{var t=!1,e=Date.now();e-this.lastAnimationTime<=this.animationInterval?requestAnimationFrame(this.playEnterFrame):(this.lastAnimationTime=e,this.reversePlay?this.frameIndex--:this.frameIndex++,this.specFrame.startIndex>=0&&this.specFrame.endIndex>=0&&(this.reversePlay?this.frameIndex<this.specFrame.startIndex&&(this.$emit("frameEnd"),this.loop?this.frameIndex=this.specFrame.endIndex:t=!0):this.frameIndex>this.specFrame.endIndex&&(this.$emit("frameEnd"),this.loop?this.frameIndex=this.specFrame.startIndex:t=!0)),this.frameIndex>=this.imageArray.length&&!this.reversePlay&&(this.$emit("frameEnd"),this.loop?this.frameIndex=0:t=!0),this.frameIndex<0&&this.reversePlay&&(this.$emit("frameEnd"),this.loop?this.frameIndex=this.imageArray.length-1:t=!0),t||requestAnimationFrame(this.playEnterFrame))}},play:function(){this.containerStyle="opacity:1",this.playEnterFrame()},reset:function(){this.specFrame.startIndex>=0&&this.specFrame.endIndex>=0?this.frameIndex=this.specFrame.startIndex:this.reversePlay?this.frameIndex=this.imageArray.length-1:this.frameIndex=0}}}),X=V,W=(n("7035"),Object(T["a"])(X,F,j,!1,null,"5ba65ece",null)),G=W.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BasePage",{staticClass:"bg"},[i("div",{staticClass:"abs bg"},[i("img",{staticClass:"abs bg",attrs:{src:n("cfa8"),alt:""}})]),i("div",{staticClass:"upload-container"},[i("input",{staticClass:"page2-btn-upload button",attrs:{type:"file",id:"add-upload-input",accept:"image/*"},on:{change:function(e){return t.uploadFuns(e)}}}),t._v("\n        上传图片\n    ")]),i("div",{staticClass:"image-container"},[i("img",{attrs:{src:t.uploadSrc,alt:""}})]),i("div",{staticClass:"page-hint",on:{click:t.nextPageHandler}},[t._v("Page Upload, click go to next page")])])},J=[],$=n("5501"),K=n.n($),z={name:"uploadPage",components:{BasePage:E},data:function(){return{sharedState:window.store.state,loadPercent:0,publicPath:"",imageBgSrc:"imgs/bg-loading.jpg",uploadSrc:null}},computed:{},created:function(){},methods:{uploadFuns:function(t){var e=this,n=t.target.files[0];if(0==n.type.indexOf("image"))if(n.size/1024/1024>4)console.log("error, the size of image is too big. try another image which size is less than 4mb");else{var i=new FileReader;i.readAsDataURL(n),i.onload=function(t){var n=t.target.result,i=new Image;i.src=n,e.uploadSrc=n,i.onload=function(){console.log("image load"),K.a.getData(i,(function(){var t=K.a.getTag(e,"Make"),n=K.a.getTag(e,"Model"),i=document.getElementById("makeAndModel");i.innerHTML="".concat(t," ").concat(n)}))}}}},nextPageHandler:function(t){this.$emit("nextPage",t)}}},Q=z,Z=(n("4fea"),Object(T["a"])(Q,Y,J,!1,null,"369cbc99",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showBgMusicHint?n("div",{staticClass:"hint-bg-music-box"},[n("div",{staticClass:"all-black"}),n("div",{staticClass:"dialog-container"},[n("p",[t._v("是否播放背景音乐")]),n("div",{staticClass:"border-split"}),n("div",{staticClass:"button-container"},[n("div",{staticClass:"confirm",on:{click:t.bgMusicConfirmHandler}},[t._v("是")]),n("div",{staticClass:"cancel",on:{click:t.bgMusicCancelHandler}},[t._v("否")])])])]):t._e()},nt=[],it={name:"pagecommon",data:function(){return{}},props:{showBgMusicHint:{type:Boolean,default:!1}},methods:{bgMusicConfirmHandler:function(){this.$emit("confirm")},bgMusicCancelHandler:function(){this.$emit("cancel")}}},st=it,at=(n("ae05"),Object(T["a"])(st,et,nt,!1,null,"1d9edc60",null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("BasePage",[i("div",{staticClass:"abs page shakePage"},[i("h1",[t._v("摇一摇示意页面")]),i("h2",[t._v("注意IOS环境下，重力感应有两个限制条件")]),i("h3",[t._v("1. 如果在微信浏览其中，那需要符合网页url是https协议的")]),i("h3",[t._v("2. 如果在原生浏览器中，那不但要符合1，还必须通过按钮点击调用ios的api调用")]),i("h3",[t._v("ps: 安卓不会有上面的限制")]),i("div",{staticClass:"shake-container"},[i("h2",[t._v("摇一摇手机，如果成功的话，下方图片会晃动")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.deviceIsInIOSSafari,expression:"deviceIsInIOSSafari"}],staticClass:"ios-permission",on:{click:t.askPermission}},[t._v("IOS Safari专用shake按钮")]),i("img",{class:{shaking:t.deviceIsShaking},attrs:{src:n("ca8f"),alt:"logo"}})]),i("div",{staticClass:"page-hint",on:{click:t.pageHintClickHandler}},[t._v("Page Shake, click go to next page")])])])},ut=[],lt={name:"shakePage",components:{BasePage:E},data:function(){return{deviceIsInIOSSafari:!1,deviceMotionSpeedThreshold:3e3,deviceIsShaking:!1,resetShakingTimeoutHandler:null,lastDeviceMotionX:0,lastDeviceMotionY:0,lastDeviceMotionZ:0,lastDeviceMotionUpdateTime:0}},computed:{},created:function(){},mounted:function(){console.log("shake page: devicemotion init"),u.output(),this.deviceIsInIOSSafari=u.isIos&&!u.isWX,this.deviceIsInIOSSafari||(window.DeviceMotionEvent?(window.addEventListener("devicemotion",this.deviceMotionHandler,!1),console.log("shake page: devicemotion init success")):console.log("shake page: devicemotion init failure"))},methods:{askPermission:function(){var t=this;console.log("shake page: ios device motion permission");try{window.DeviceMotionEvent.requestPermission().then((function(e){"granted"==e&&window.addEventListener("devicemotion",t.deviceMotionHandler,!1)})).catch((function(t){console.log("shake page: ios device motion permission failure!"),console.error(t)}))}catch(e){return console.log("shake page: ios device motion permission failure! no such permissoion"),void console.error(e)}},deviceMotionHandler:function(t){var e=t.accelerationIncludingGravity,n=Date.now();0===this.lastDeviceMotionUpdateTime&&(this.lastDeviceMotionUpdateTime=n);var i=n-this.lastDeviceMotionUpdateTime,s=e.x,a=e.y,o=e.z,r=Math.abs(s+a+o-this.lastDeviceMotionX-this.lastDeviceMotionY-this.lastDeviceMotionZ)/i*1e4;r>this.deviceMotionSpeedThreshold&&(console.log("shake page: shaking!!!"),this.setShaking()),this.lastDeviceMotionX=s,this.lastDeviceMotionY=a,this.lastDeviceMotionZ=o,this.lastDeviceMotionUpdateTime=n},setShaking:function(){this.deviceIsShaking=!0,this.resetShaking()},resetShaking:function(){var t=this;this.resetShakingTimeoutHandler&&window.clearTimeout(this.resetShakingTimeoutHandler),this.resetShakingTimeoutHandler=setTimeout((function(){t.deviceIsShaking=!1}),1e3)},pageHintClickHandler:function(){this.$emit("nextPage")}}},ct=lt,dt=(n("91d3"),Object(T["a"])(ct,rt,ut,!1,null,"dd6d2f66",null)),ht=dt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"css"==t.type?n("ButtonFrame",{class:t.classes,attrs:{color:t.borderColor}},[n("button",{staticClass:"btn",class:t.classes,attrs:{disabled:t.disabled},on:{click:t.handleClick}},[t.isLoading?n("i",{staticClass:"loading"}):t._e(),t._t("default",[t._v(t._s(t.text))])],2)]):n("div",{staticClass:"img-btn"},[t.isLoading?n("div",{staticClass:"img-btn-loading"},[n("i",{staticClass:"loading"})]):t._e(),n("img",{class:t.classes,attrs:{src:t.src,alt:t.text},on:{click:t.handleClick}})])},_t=[],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.borderClicked?"btn-borders border-wave":"btn-borders",on:{click:t.borderWaveIn}},[t._t("default"),n("div",{staticClass:"border-top",style:t.borderColor}),n("div",{staticClass:"border-right",style:t.borderColor}),n("div",{staticClass:"border-bottom",style:t.borderColor}),n("div",{staticClass:"border-left",style:t.borderColor})],2)},ft=[],mt={name:"herdsric-button-frame",data:function(){return{borderClicked:!1,borderWaveTimer:null}},props:{color:{type:String,default:"hsl(var(--hue), 100%, 41%)"}},computed:{borderColor:function(){return"background:".concat(this.color)}},methods:{borderWaveIn:function(){this.borderClicked=!0;var t=this;null!=this.borderWaveTimer&&clearTimeout(this.borderWaveTimer),this.borderWaveTimer=setTimeout((function(){t.borderClicked=!1}),1e3)}},beforeDestroy:function(){this.borderWaveTimer&&clearTimeout(this.borderWaveTimer)}},vt=mt,yt=(n("3118"),Object(T["a"])(vt,gt,ft,!1,null,null,null)),bt=yt.exports,Pt={name:"herdsric-button",components:{ButtonFrame:bt},data:function(){return{isLoading:this.showLoading}},props:{type:{default:"css"},disabled:Boolean,src:String,text:String,actionType:String,showLoading:[Boolean,Object],link:[String,Object],delay:[Boolean,Number],borderColor:String},methods:{handleClick:function(t){this.isLoading||this.disabled?console.log("click not"):this.$emit("click",t)}},watch:{showLoading:function(t,e){var n=this;console.log("watching showLoaindg:".concat(t)),e&&"boolean"!==typeof e&&clearTimeout(this.delayTimeout),t&&"boolean"!==typeof t&&t.delay?this.delayTimeout=setTimeout((function(){n.isLoading=!!t}),t.delay):this.isLoading=!!t}},beforeDestroy:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)},computed:{classes:function(){return[this.disabled&&"css"===this.type?"btn-disabled":"",this.isLoading&&"css"===this.type?"btn-loading":"",this.disabled&&"image"===this.type?"img-btn-disabled":""]}}},Tt=Pt,St=(n("5817"),Object(T["a"])(Tt,pt,_t,!1,null,"2e8246de",null)),Et=St.exports,At=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={category:"general",value:null,g:!0,b:!0},s=function(t,e,n,i){window._hmt.push(["_trackEvent",t,e,n,i])},a=function(t,e,n,i){window.gtag("event",e,{event_category:t,event_label:n,value:i})};Object.assign(i,n),i.b&&s(i.category,t,e,i.value),i.g&&a(i.category,t,e,i.value)},Lt=At,It={name:"app",components:{BasePage:E,PageLoading:q,MusicButton:k,MovieClip:G,UploadPage:tt,BgMusicHint:ot,ShakePage:ht,herdsricButton:Et},data:function(){return{buttonLoading:!1,sharedState:window.store.state,backgroundMusicAutoPlay:!0,bgMusic:null,userBgMusicConfirmed:!1,assetsLoaded:!1,pageTurningManager:g,publicPath:"",movieClipInfo:{imageArray:[],fps:30,startPlay:!1,loop:!0,reversePlay:!1,pause:!1},showBgMusicHint:!1}},computed:{pageLoadingShow:function(){return this.pageTurningManager.isCurrentPage(0)},pageClass:function(){return function(t){var e="";return e=this.pageTurningManager.isCurrentPage(t)?"page-show":this.pageTurningManager.isNextPage(t)?"page-animate":"page-hide",e}}},created:function(){this.pageTurningManager.turnToPage(0),this.backgroundMusicAutoPlay&&this.initBackgroundMusic(),this.initMovieClipImageArray()},mounted:function(){var t=l(),e=t.width,n=t.height;document.body.style.setProperty("--px-total-height",n+"px"),document.body.style.setProperty("--circle-radius",Math.ceil(100*Math.sqrt(n*n+e*e))/100+"px")},methods:{butClick:function(){var t=this;this.buttonLoading=!0,console.log("button clicked!"),setTimeout((function(){t.buttonLoading=!1,console.log("button click completed!")}),2e3)},but2Click:function(){var t=this;console.log("button2 clicked!"),this.buttonLoading=!0,setTimeout((function(){t.buttonLoading=!1,console.log("button2 click completed!")}),2e3)},handleLoadComplete:function(){this.assetsLoaded=!0,this.checkAndGoFirstPage()},checkAndGoFirstPage:function(){this.userBgMusicConfirmed&&this.assetsLoaded&&this.pageTurningManager.turnToPage(1,500)},nextPageClick:function(t){Lt("nextPageClick",t.target.id),this.pageTurningManager.turnToNextPageAutomatically()},isCurrentPage:function(t){return this.pageTurningManager.isCurrentPage(t)},startPlayBackgroundMusic:function(){this.bgMusic.play()},initBackgroundMusic:function(){var t=this;this.bgMusic=new m,u.isWX?(document.addEventListener("WeixinJSBridgeReady",(function(){console.log("WeixinJSBridgeReady"),t.bgMusic.load(),window.store.setBackgroundMusicPlaying()}),!1),this.userBgMusicConfirmed=!0):this.showBgMusicHint=!0},initBadiduStatistics:function(){},backgroundMusicPauseHandler:function(){window.store.setBackgroundMusicPause(),this.bgMusic.pause()},backgroundMusicPlayHandler:function(){window.store.setBackgroundMusicPlaying(),this.bgMusic.resume()},initMovieClipImageArray:function(){for(var t=[],e=this.publicPath+"imgs/movieclip/mc_",n=1;n<=10;n++)t.push("".concat(e).concat(n,".jpg"));this.movieClipInfo.imageArray=t},movieClipPlayClickHandler:function(){this.movieClipInfo.startPlay?this.movieClipInfo.pause=!this.movieClipInfo.pause:this.movieClipInfo.startPlay=!0},movieClipLoopClickHandler:function(){this.movieClipInfo.loop=!this.movieClipInfo.loop},movieClipReverseClickHandler:function(){this.movieClipInfo.reversePlay=!this.movieClipInfo.reversePlay},playToEnd:function(){this.movieClipInfo.loop||(this.movieClipInfo.startPlay=!1,this.movieClipInfo.pause=!1)},bgMusicConfirmHandler:function(){this.bgMusicCancelHandler(),this.bgMusic.load(),window.store.setBackgroundMusicPlaying()},bgMusicCancelHandler:function(){this.showBgMusicHint=!1,this.userBgMusicConfirmed=!0,this.checkAndGoFirstPage()},uploadPageNextPageHandler:function(t){this.nextPageClick(t)},shakePageNextPageHandler:function(){this.pageTurningManager.turnToPage(1,500)}}},xt=It,Ct=(n("5c0b"),Object(T["a"])(xt,a,o,!1,null,null,null)),Mt=Ct.exports,wt=(n("f548"),n("cc57"),n("9a33"),{});window.createjs?wt=window.createjs:window.createjs=wt,function(){var t=wt.SoundJS=wt.SoundJS||{};t.version="1.0.0",t.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),wt.extend=function(t,e){function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},wt.promote=function(t,e){var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var s in n[(e+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(s)&&"function"==typeof i[s]&&(n[e+s]=i[s]);return t},wt.deprecate=function(t,e){return function(){var n="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(n):console.log(n)),t&&t.apply(this,arguments)}},wt.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},function(){wt.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),function(){function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,wt.BrowserDetect=t}(),function(){function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=i[t];return s&&this.removeEventListener(t,e,n),s=i[t],s?s.push(e):i[t]=[e],e},e.on=function(t,e,n,i,s,a){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,(function(t){e.call(n,t,s),i&&t.remove()}),a)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var s=i[t];if(s)for(var a=0,o=s.length;a<o;a++)if(s[a]==e){1==o?delete i[t]:s.splice(a,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!e&&(!i||!i[t]))return!0;t=new wt.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(u){}if(t.bubbles&&this.parent){var s=this,a=[s];while(s.parent)a.push(s=s.parent);var o,r=a.length;for(o=r-1;o>=0&&!t.propagationStopped;o--)a[o]._dispatchEvent(t,1+(0==o));for(o=1;o<r&&!t.propagationStopped;o++)a[o]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){var e=this;while(e){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(i=s[t.type])&&(n=i.length)){try{t.currentTarget=this}catch(r){}try{t.eventPhase=0|e}catch(r){}t.removed=!1,i=i.slice();for(var a=0;a<n&&!t.immediatePropagationStopped;a++){var o=i[a];o.handleEvent?o.handleEvent(t):o(t),t.removed&&(this.off(t.type,o,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},wt.EventDispatcher=t}(),function(){function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},wt.Event=t}(),function(){function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}var e=wt.extend(t,wt.Event);e.clone=function(){return new wt.ErrorEvent(this.title,this.message,this.data)},wt.ErrorEvent=wt.promote(t,"Event")}(),function(t){function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var n=wt.extend(e,wt.Event);n.clone=function(){return new wt.ProgressEvent(this.loaded,this.total)},wt.ProgressEvent=wt.promote(e,"Event")}(window),function(){function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=wt.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},wt.LoadItem=n}(),function(){var t={POST:"POST",GET:"GET"};wt.Methods=t}(),function(){var t={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};wt.Types=t}(),function(){var t={a:function(){return t.el("a")},svg:function(){return t.el("svg")},object:function(){return t.el("object")},image:function(){return t.el("image")},img:function(){return t.el("img")},style:function(){return t.el("style")},link:function(){return t.el("link")},script:function(){return t.el("script")},audio:function(){return t.el("audio")},video:function(){return t.el("video")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};wt.Elements=t}(),function(){var t={container:null,appendToHead:function(e){t.getHead().appendChild(e)},appendToBody:function(e){if(null==t.container){t.container=document.createElement("div"),t.container.id="preloadjs-container";var n=t.container.style;n.visibility="hidden",n.position="absolute",n.width=t.container.style.height="10px",n.overflow="hidden",n.transform=n.msTransform=n.webkitTransform=n.oTransform="translate(-10px, -10px)",t.getBody().appendChild(t.container)}t.container.appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};wt.DomUtils=t}(),function(){var t={isBinary:function(t){switch(t){case wt.Types.IMAGE:case wt.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case wt.Types.TEXT:case wt.Types.JSON:case wt.Types.MANIFEST:case wt.Types.XML:case wt.Types.CSS:case wt.Types.SVG:case wt.Types.JAVASCRIPT:case wt.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return wt.Types.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return wt.Types.IMAGE;case"ogg":case"mp3":case"webm":return wt.Types.SOUND;case"mp4":case"ts":return wt.Types.VIDEO;case"json":return wt.Types.JSON;case"xml":return wt.Types.XML;case"css":return wt.Types.CSS;case"js":return wt.Types.JAVASCRIPT;case"svg":return wt.Types.SVG;default:return wt.Types.TEXT}}};wt.RequestUtils=t}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var n={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==e)return n;var i=wt.Elements.a();for(var s in i.href=e,n)s in i&&(n[s]=i[s]);var a,o=e.indexOf("?");return o>-1&&(e=e.substr(0,o)),t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(a=e.match(t.EXTENSION_PATT))&&(n.extension=a[1].toLowerCase()),n},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},buildURI:function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var s=t.slice(i+1);n=n.concat(s.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},isCrossDomain:function(t){var e=wt.Elements.a();e.href=t.src;var n=wt.Elements.a();n.href=location.href;var i=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname);return i},isLocal:function(t){var e=wt.Elements.a();return e.href=t.src,""==e.hostname&&"file:"==e.protocol}};wt.URLUtils=t}(),function(){function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?wt.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=wt.extend(t,wt.EventDispatcher),n=t;try{Object.defineProperties(n,{POST:{get:wt.deprecate((function(){return wt.Methods.POST}),"AbstractLoader.POST")},GET:{get:wt.deprecate((function(){return wt.Methods.GET}),"AbstractLoader.GET")},BINARY:{get:wt.deprecate((function(){return wt.Types.BINARY}),"AbstractLoader.BINARY")},CSS:{get:wt.deprecate((function(){return wt.Types.CSS}),"AbstractLoader.CSS")},FONT:{get:wt.deprecate((function(){return wt.Types.FONT}),"AbstractLoader.FONT")},FONTCSS:{get:wt.deprecate((function(){return wt.Types.FONTCSS}),"AbstractLoader.FONTCSS")},IMAGE:{get:wt.deprecate((function(){return wt.Types.IMAGE}),"AbstractLoader.IMAGE")},JAVASCRIPT:{get:wt.deprecate((function(){return wt.Types.JAVASCRIPT}),"AbstractLoader.JAVASCRIPT")},JSON:{get:wt.deprecate((function(){return wt.Types.JSON}),"AbstractLoader.JSON")},JSONP:{get:wt.deprecate((function(){return wt.Types.JSONP}),"AbstractLoader.JSONP")},MANIFEST:{get:wt.deprecate((function(){return wt.Types.MANIFEST}),"AbstractLoader.MANIFEST")},SOUND:{get:wt.deprecate((function(){return wt.Types.SOUND}),"AbstractLoader.SOUND")},VIDEO:{get:wt.deprecate((function(){return wt.Types.VIDEO}),"AbstractLoader.VIDEO")},SPRITESHEET:{get:wt.deprecate((function(){return wt.Types.SPRITESHEET}),"AbstractLoader.SPRITESHEET")},SVG:{get:wt.deprecate((function(){return wt.Types.SVG}),"AbstractLoader.SVG")},TEXT:{get:wt.deprecate((function(){return wt.Types.TEXT}),"AbstractLoader.TEXT")},XML:{get:wt.deprecate((function(){return wt.Types.XML}),"AbstractLoader.XML")}})}catch(i){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new wt.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new wt.XHRRequest(this._item):this._request=new wt.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new wt.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new wt.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new wt.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,wt.proxy(this._resultFormatSuccess,this),wt.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new wt.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"));break}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return"[PreloadJS AbstractLoader]"},wt.AbstractLoader=wt.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=wt.extend(t,wt.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new wt.XHRRequest(this._item):this._request=new wt.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},wt.AbstractMediaLoader=wt.promote(t,"AbstractLoader")}(),function(){var t=function(t){this._item=t},e=wt.extend(t,wt.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},wt.AbstractRequest=wt.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=wt.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=wt.extend(t,wt.AbstractRequest);e.load=function(){this._tag.onload=wt.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=wt.proxy(this._handleReadyStateChange,this),this._tag.onerror=wt.proxy(this._handleError,this);var t=new wt.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(wt.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(wt.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new wt.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},wt.TagRequest=wt.promote(t,"AbstractRequest")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=wt.proxy(this._handleTagComplete,this)}var e=wt.extend(t,wt.TagRequest);e.load=function(){var t=wt.proxy(this._handleStalled,this);this._stalledCallback=t;var e=wt.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new wt.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},wt.MediaTagRequest=wt.promote(t,"TagRequest")}(),function(){function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=wt.proxy(this._handleLoadStart,this),this._handleProgressProxy=wt.proxy(this._handleProgress,this),this._handleAbortProxy=wt.proxy(this._handleAbort,this),this._handleErrorProxy=wt.proxy(this._handleError,this),this._handleTimeoutProxy=wt.proxy(this._handleTimeout,this),this._handleLoadProxy=wt.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=wt.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=wt.extend(t,wt.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(wt.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(wt.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new wt.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new wt.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new wt.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new wt.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new wt.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new wt.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return t>=400&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=wt.URLUtils.isCrossDomain(t),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var a=0,o=s.ACTIVEX_VERSIONS.length;a<o;a++){var r=s.ACTIVEX_VERSIONS[a];try{i=new ActiveXObject(r);break}catch(c){}}if(null==i)return!1}null==t.mimeType&&wt.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"===typeof i.responseType?2:1;var u=null;if(u=t.method==wt.Methods.GET?wt.URLUtils.buildURI(t.src,t.values):t.src,i.open(t.method||wt.Methods.GET,u,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n["Origin"]=location.origin),t.values&&t.method==wt.Methods.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),e||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)n[l]=t.headers[l];for(l in n)i.setRequestHeader(l,n[l]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},wt.XHRRequest=wt.promote(t,"AbstractRequest")}(),function(){function t(t,e){this.AbstractMediaLoader_constructor(t,e,wt.Types.SOUND),wt.DomUtils.isAudioTag(t)||wt.DomUtils.isAudioTag(t.src)?this._tag=t:wt.DomUtils.isAudioTag(t.tag)&&(this._tag=wt.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=wt.extend(t,wt.AbstractMediaLoader),n=t;n.canLoadItem=function(t){return t.type==wt.Types.SOUND},e._createTag=function(t){var e=wt.Elements.audio();return e.autoplay=!1,e.preload="none",e.src=t,e},wt.SoundLoader=wt.promote(t,"AbstractMediaLoader")}(),function(){var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},n=t;n.create=function(t){if("string"===typeof t)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new wt.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof n||t instanceof Object)return(new wt.PlayPropsConfig).set(t);if(null==t)throw new Error("PlayProps configuration not recognized.")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},wt.PlayPropsConfig=n}(),function(){function t(){throw"Sound cannot be instantiated"}var e=t;function n(t,e){this.init(t,e)}e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.alternateExtensions=[],e.activePlugin=null,e._masterVolume=1,e._getMasterVolume=function(){return this._masterVolume},e.getVolume=wt.deprecate(e._getMasterVolume,"Sound.getVolume"),e._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var n=this._instances,i=0,s=n.length;i<s;i++)n[i].setMasterVolume(t)},e.setVolume=wt.deprecate(e._setMasterVolume,"Sound.setVolume"),e._masterMute=!1,e._getMute=function(){return this._masterMute},e.getMute=wt.deprecate(e._getMute,"Sound.getMute"),e._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,n=0,i=e.length;n<i;n++)e[n].setMasterMute(t)},e.setMute=wt.deprecate(e._setMute,"Sound.setMute"),e._getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin._capabilities},e.getCapabilities=wt.deprecate(e._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(e,{volume:{get:e._getMasterVolume,set:e._setMasterVolume},muted:{get:e._getMute,set:e._setMute},capabilities:{get:e._getCapabilities}}),e._pluginsRegistered=!1,e._lastID=0,e._instances=[],e._idHash={},e._preloadHash={},e._defaultPlayPropsHash={},e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,wt.EventDispatcher.initialize(e),e.getPreloadHandlers=function(){return{callback:wt.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e._handleLoadComplete=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var a=e._preloadHash[n][i];if(e._preloadHash[n][i]=!0,e.hasEventListener("fileload")){var o=new wt.Event("fileload");o.src=a.src,o.id=a.id,o.data=a.data,o.sprite=a.sprite,e.dispatchEvent(o)}}},e._handleLoadError=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var a=e._preloadHash[n][i];if(e._preloadHash[n][i]=!1,e.hasEventListener("fileerror")){var o=new wt.Event("fileerror");o.src=a.src,o.id=a.id,o.data=a.data,o.sprite=a.sprite,e.dispatchEvent(o)}}},e._registerPlugin=function(t){return!!t.isSupported()&&(e.activePlugin=new t,!0)},e.registerPlugins=function(t){e._pluginsRegistered=!0;for(var n=0,i=t.length;n<i;n++)if(e._registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin||!e._pluginsRegistered&&!!e.registerPlugins([wt.WebAudioPlugin,wt.HTMLAudioPlugin])},e.isReady=function(){return null!=e.activePlugin},e.initLoad=function(t){return"video"==t.type||e._registerSound(t)},e._registerSound=function(t){if(!e.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=e._parseSrc(t.src),i.src=t.path+i.src):i=e._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var s=t.data,a=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(a=parseInt(s)):a=parseInt(s.channels),s.audioSprite))for(var o,r=s.audioSprite.length;r--;)o=s.audioSprite[r],e._idHash[o.id]={src:t.src,startTime:parseInt(o.startTime),duration:parseInt(o.duration)},o.defaultPlayProps&&(e._defaultPlayPropsHash[o.id]=wt.PlayPropsConfig.create(o.defaultPlayProps));null!=t.id&&(e._idHash[t.id]={src:t.src});var u=e.activePlugin.register(t);return n.create(t.src,a),null!=s&&isNaN(s)?t.data.channels=a||n.maxPerChannel():t.data=a||n.maxPerChannel(),u.type&&(t.type=u.type),t.defaultPlayProps&&(e._defaultPlayPropsHash[t.src]=wt.PlayPropsConfig.create(t.defaultPlayProps)),u},e.registerSound=function(t,n,i,s,a){var o={src:t,id:n,data:i,defaultPlayProps:a};t instanceof Object&&t.src&&(s=n,o=t),o=wt.LoadItem.create(o),o.path=s,null==s||o.src instanceof Object||(o.src=s+o.src);var r=e._registerSound(o);if(!r)return!1;if(e._preloadHash[o.src]||(e._preloadHash[o.src]=[]),e._preloadHash[o.src].push(o),1==e._preloadHash[o.src].length)r.on("complete",this._handleLoadComplete,this),r.on("error",this._handleLoadError,this),e.activePlugin.preload(r);else if(1==e._preloadHash[o.src][0])return!0;return o},e.registerSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=wt.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return n},e.removeSound=function(t,i){if(null==e.activePlugin)return!1;var s;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?s=e._parseSrc(t):(t=e._getSrcById(t).src,s=e._parsePath(t)),null==s)return!1;for(var a in t=s.src,null!=i&&(t=i+t),e._idHash)e._idHash[a].src==t&&delete e._idHash[a];return n.removeSrc(t),delete e._preloadHash[t],e.activePlugin.removeSound(t),!0},e.removeSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=wt.Sound.removeSound(t[i].src,e);return n},e.removeAllSounds=function(){e._idHash={},e._preloadHash={},n.removeAll(),e.activePlugin&&e.activePlugin.removeAllSounds()},e.loadComplete=function(t){if(!e.isReady())return!1;var n=e._parsePath(t);return t=n?e._getSrcById(n.src).src:e._getSrcById(t).src,void 0!=e._preloadHash[t]&&1==e._preloadHash[t][0]},e._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var n=t.match(e.FILE_PATTERN);if(null==n)return!1;var i=n[4],s=n[5],a=e.capabilities,o=0;while(!a[s])if(s=e.alternateExtensions[o++],o>e.alternateExtensions.length)return null;t=t.replace("."+n[5],"."+s);var r={name:i,src:t,extension:s};return r},e._parseSrc=function(t){var n={name:void 0,src:void 0,extension:void 0},i=e.capabilities;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){n.src=t[s],n.extension=s;break}if(!n.src)return!1;var a=n.src.lastIndexOf("/");return n.name=-1!=a?n.src.slice(a+1):n.src,n},e.play=function(t,n){var i=wt.PlayPropsConfig.create(n),s=e.createInstance(t,i.startTime,i.duration),a=e._playInstance(s,i);return a||s._playFailed(),s},e.createInstance=function(t,i,s){if(!e.initializeDefaultPlugins())return new wt.DefaultSoundInstance(t,i,s);var a=e._defaultPlayPropsHash[t];t=e._getSrcById(t);var o=e._parsePath(t.src),r=null;return null!=o&&null!=o.src?(n.create(o.src),null==i&&(i=t.startTime),r=e.activePlugin.create(o.src,i,s||t.duration),a=a||e._defaultPlayPropsHash[o.src],a&&r.applyPlayProps(a)):r=new wt.DefaultSoundInstance(t,i,s),r.uniqueId=e._lastID++,r},e.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},e.setDefaultPlayProps=function(t,n){t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]=wt.PlayPropsConfig.create(n)},e.getDefaultPlayProps=function(t){return t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]},e._playInstance=function(t,n){var i=e._defaultPlayPropsHash[t.src]||{};if(null==n.interrupt&&(n.interrupt=i.interrupt||e.defaultInterruptBehavior),null==n.delay&&(n.delay=i.delay||0),null==n.offset&&(n.offset=t.position),null==n.loop&&(n.loop=t.loop),null==n.volume&&(n.volume=t.volume),null==n.pan&&(n.pan=t.pan),0==n.delay){var s=e._beginPlaying(t,n);if(!s)return!1}else{var a=setTimeout((function(){e._beginPlaying(t,n)}),n.delay);t.delayTimeoutId=a}return this._instances.push(t),!0},e._beginPlaying=function(t,e){if(!n.add(t,e.interrupt))return!1;var i=t._beginPlaying(e);if(!i){var s=wt.indexOf(this._instances,t);return s>-1&&this._instances.splice(s,1),!1}return!0},e._getSrcById=function(t){return e._idHash[t]||{src:t}},e._playFinished=function(t){n.remove(t);var e=wt.indexOf(this._instances,t);e>-1&&this._instances.splice(e,1)},wt.Sound=t,n.channels={},n.create=function(t,e){var i=n.get(t);return null==i&&(n.channels[t]=new n(t,e),!0)},n.removeSrc=function(t){var e=n.get(t);return null!=e&&(e._removeAll(),delete n.channels[t],!0)},n.removeAll=function(){for(var t in n.channels)n.channels[t]._removeAll();n.channels={}},n.add=function(t,e){var i=n.get(t.src);return null!=i&&i._add(t,e)},n.remove=function(t){var e=n.get(t.src);return null!=e&&(e._remove(t),!0)},n.maxPerChannel=function(){return i.maxDefault},n.get=function(t){return n.channels[t]};var i=n.prototype;i.constructor=n,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},i._remove=function(t){var e=wt.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e,n){var i,s;if(e!=t.INTERRUPT_NONE&&(s=this._get(0),null==s))return!0;for(var a=0,o=this.max;a<o;a++){if(i=this._get(a),null==i)return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){s=i;break}e!=t.INTERRUPT_NONE&&((e==t.INTERRUPT_EARLY&&i.position<s.position||e==t.INTERRUPT_LATE&&i.position>s.position)&&(s=i))}return null!=s&&(s._interrupt(),this._remove(s),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),function(){var t=function(t,e,n,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=wt.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=wt.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=wt.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=wt.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=wt.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=wt.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=wt.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=wt.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==i&&!0!==i&&this._setPlaybackResource(i),this.getPlaybackResource=wt.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=wt.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=wt.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=wt.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this.getLoop=wt.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=wt.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=wt.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=wt.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=wt.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=wt.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},e=wt.extend(t,wt.EventDispatcher);e.play=function(t){var e=wt.PlayPropsConfig.create(t);return this.playState==wt.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),wt.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=wt.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if((!0===t||!1===t)&&this._paused!=t&&(1!=t||this.playState==wt.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=wt.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==wt.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new wt.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,wt.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=wt.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=wt.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=wt.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=wt.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},wt.AbstractSoundInstance=wt.promote(t,"EventDispatcher"),wt.DefaultSoundInstance=wt.AbstractSoundInstance}(),function(){var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var n=this._soundInstances[t][e];n.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,n){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,n,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(i),i.setMasterVolume&&i.setMasterVolume(wt.Sound.volume),i.setMasterMute&&i.setMasterMute(wt.Sound.muted),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var n=0,i=this._soundInstances[e].length;n<i;n++){var s=this._soundInstances[e][n];s.playbackResource=this._audioSources[e],this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},wt.AbstractPlugin=t}(),function(){function t(t){this.AbstractLoader_constructor(t,!0,wt.Types.SOUND)}var e=wt.extend(t,wt.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new wt.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,wt.proxy(this._handleAudioDecoded,this),wt.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},wt.WebAudioLoader=wt.promote(t,"AbstractLoader")}(),function(){function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=wt.proxy(this._handleSoundComplete,this)}var e=wt.extend(t,wt.AbstractSoundInstance),n=t;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==wt.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==wt.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),wt.BrowserDetect.isIOS)try{t.buffer=n._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(n.destinationNode);var e=.001*this._duration,i=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var s=.001*this._duration;return i.startTime=t+s,i.start(i.startTime,e+.001*this._startTime,s-e),i},e._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==wt.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},wt.WebAudioSoundInstance=wt.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),wt.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=wt.WebAudioLoader,this._soundInstanceClass=wt.WebAudioSoundInstance,this._addPropsToClasses()}var e=wt.extend(t,wt.AbstractPlugin),n=t;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.DEFAULT_SAMPLE_RATE=44100,n.isSupported=function(){var t=wt.BrowserDetect.isIOS||wt.BrowserDetect.isAndroid||wt.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(n._generateCapabilities(),null!=n.context)},n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.context.destination),t.start(0,0,0)}},n._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(n){return t=!1,t}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(n){t=!1}return t},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==n.context&&(n.context=n._createAudioContext(),null==n.context))return null;null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchstart",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=wt.Sound.SUPPORTED_EXTENSIONS,i=wt.Sound.EXTENSION_MAP,s=0,a=e.length;s<a;s++){var o=e[s],r=i[o]||o;n._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&e.sampleRate!==n.DEFAULT_SAMPLE_RATE){var i=e.createBuffer(1,1,n.DEFAULT_SAMPLE_RATE),s=e.createBufferSource();s.buffer=i,s.connect(e.destination),s.start(0),s.disconnect(),e.close(),e=new t}return e},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),document.removeEventListener("touchstart",n._unlock,!0),n._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=n._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=wt.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},wt.WebAudioPlugin=wt.promote(t,"AbstractPlugin")}(),function(){function t(){throw"HTMLAudioTagPool cannot be instantiated"}var e=t;function n(t){this._tags=[]}e._tags={},e._tagPool=new n,e._tagUsed={},e.get=function(t){var n=e._tags[t];return null==n?(n=e._tags[t]=e._tagPool.get(),n.src=t):e._tagUsed[t]?(n=e._tagPool.get(),n.src=t):e._tagUsed[t]=!0,n},e.set=function(t,n){n==e._tags[t]?e._tagUsed[t]=!1:e._tagPool.set(n)},e.remove=function(t){var n=e._tags[t];return null!=n&&(e._tagPool.set(n),delete e._tags[t],delete e._tagUsed[t],!0)},e.getDuration=function(t){var n=e._tags[t];return null!=n&&n.duration?1e3*n.duration:0},wt.HTMLAudioTagPool=t;var i=n.prototype;i.constructor=n,i.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=wt.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),function(){function t(t,e,n,i){this.AbstractSoundInstance_constructor(t,e,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=wt.proxy(this._handleSoundComplete,this),this._readyHandler=wt.proxy(this._handleTagReady,this),this._stalledHandler=wt.proxy(this._playFailed,this),this._audioSpriteEndHandler=wt.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=wt.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(e+n):this._duration=wt.HTMLAudioTagPool.getDuration(this.src)}var e=wt.extend(t,wt.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(wt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(wt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(wt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(wt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}wt.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=wt.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(wt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(wt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(wt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(wt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||wt.Sound._masterMute?0:this._volume*wt.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==wt.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(wt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==wt.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(wt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(wt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=wt.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},wt.HTMLAudioSoundInstance=wt.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._capabilities=n._capabilities,this._loaderClass=wt.SoundLoader,this._soundInstanceClass=wt.HTMLAudioSoundInstance}var e=wt.extend(t,wt.AbstractPlugin),n=t;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=wt.Sound.SUPPORTED_EXTENSIONS,i=wt.Sound.EXTENSION_MAP,s=0,a=e.length;s<a;s++){var o=e[s],r=i[o]||o;n._capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}}},e.register=function(t){var e=wt.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(e),n},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),wt.HTMLAudioTagPool.remove(t)},e.create=function(t,e,n){var i=this.AbstractPlugin_create(t,e,n);return i.playbackResource=null,i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,wt.HTMLAudioPlugin=wt.promote(t,"AbstractPlugin")}();var kt=n("3e83"),Rt=n("e3ee"),Dt=(n("1736"),n("1034"),n("745a"),{debug:!0,state:{message:"Hello!",sourceArrayPreLoad:["imgs/bg-loading.jpg"],sourceArrayLoading:["imgs/1.jpg","imgs/2.jpg","imgs/3.jpg","imgs/4.jpg","imgs/5.jpg","imgs/6.jpg","imgs/7.jpg","imgs/8.jpg","imgs/9.jpg","imgs/10.jpg","imgs/11.jpg","imgs/12.jpg"],testArr:[],backgrundMusicIsPlaying:!1},setBackgroundMusicPause:function(){this.state.backgrundMusicIsPlaying=!1},setBackgroundMusicPlaying:function(){this.state.backgrundMusicIsPlaying=!0}}),Nt={get:function(t,e){return Reflect.get(t,e)},set:function(t,e,n){return Dt.debug&&console.log("store set: prop: ".concat(e,", value: ").concat(n)),Reflect.set.apply(Reflect,arguments)}},Ot=function t(e){for(var n=0,i=Object.entries(e);n<i.length;n++){var s=Object(Rt["a"])(i[n],2),a=s[0],o=s[1];"object"==Object(kt["a"])(o)&&(e[a]=new Proxy(o,Nt),t(o))}return new Proxy(e,Nt)};Dt.state=Ot(Dt.state),window.store=Dt;n("f994");n("2b91"),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(Mt)}}).$mount("#app")},5817:function(t,e,n){"use strict";n("c092")},"5c0b":function(t,e,n){"use strict";n("4422")},7035:function(t,e,n){"use strict";n("0465")},"7c2f":function(t,e,n){"use strict";n("7eb8")},"7eb8":function(t,e,n){},"89a4":function(t,e,n){},"8a83":function(t,e,n){},"91d3":function(t,e,n){"use strict";n("8a83")},"94ba":function(t,e,n){},ae05:function(t,e,n){"use strict";n("94ba")},b3cd:function(t,e,n){},c092:function(t,e,n){},ca8f:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},cfa8:function(t,e,n){t.exports=n.p+"img/3.705da6d3.jpg"},d98f:function(t,e,n){},f994:function(t,e,n){"use strict";n.r(e);var i=n("aac1"),s=n.n(i),a=new s.a;e["default"]=a}});
//# sourceMappingURL=app.12633b93.js.map