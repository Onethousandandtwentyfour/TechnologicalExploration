(function(t){function e(e){for(var i,r,a=e[0],u=e[1],c=e[2],d=0,h=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&h.push(s[r][0]),s[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var u=n[a];0!==s[u]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},s={app:0},o=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0202":function(t,e,n){},"0261":function(t,e,n){"use strict";n("99e1")},"048b":function(t,e,n){"use strict";n("0d34")},"0d34":function(t,e,n){},"0dc0":function(t,e,n){},"1c0a":function(t,e,n){"use strict";n("0dc0")},"2b91":function(t,e){console.log("alert js: loading..."),function(){window.alert=function(t){var e=document.createElement("IFRAME");e.style.display="none",e.setAttribute("src","data:text/plain"),document.documentElement.appendChild(e),window.frames[0].window.alert(t),e.parentNode.removeChild(e)}}(),console.log("alert js: no title alert loaded"),console.log("alert js: load complete.")},"2c54":function(t,e,n){},4422:function(t,e,n){},"568d":function(t,e,n){"use strict";n("0202")},"56d7":function(t,e,n){"use strict";n.r(e);n("25ba"),n("5f1c"),n("6ba0"),n("b47f");var i=n("a593"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"app_ref",style:t.appSizeComputed,attrs:{id:"app"}},[n("swiper",{ref:"mySwiper",staticClass:"content",attrs:{options:t.swiperOptions}},[n("swiper-slide",[n("page-1",{ref:"page1_ref"}),n("page-loading",{ref:"loading_ref",on:{loadingLoadedComplete:t.loadingLoadComplete,pageLoadedComplete:t.pageLoadComplete}}),n("music-component",{ref:"music_ref"})],1)],1),n("screen-rotate",{ref:"screen_rotate_ref"})],1)},r=[],a=(n("d0f2"),{isIE:!1,isAndroid:!1,isIos:!1,isWX:!1,isDD:!1,isKB:!1,isWB:!1,isQQSpace:!1,isWebApp:!1,isMac:!1,isEdge:!1,isQQBrowser:!1,isMobile:!1,isIpad:!1,isPC:!1,init:function(){var t=navigator.userAgent,e={trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),mac:t.indexOf("Mac")>-1,edge:t.indexOf("Edge")>-1,qqBrowser:t.indexOf("QQBrowser")>-1};if(this.isIE=e.trident,this.isEdge=e.edge,this.isMac=e.mac,this.isQQBrowser=e.qqBrowser,this.isMobile=e.mobile,this.isIpad=e.iPad,this.isIos=e.ios,this.isAndroid=e.android,this.isWebApp=e.webApp,this.isPC=!this.isMobile&&!this.isIpad,e.mobile){var n=t.toLowerCase();"micromessenger"==n.match(/MicroMessenger/i)&&(this.isWX=!0),"weibo"==n.match(/WeiBo/i)&&(this.isWB=!0),"qq"==n.match(/QQ/i)&&(this.isQQSpace=!0),"koubeidefined"==n.match(/koubeidefined/i)&&(this.isKB=!0),"dingtalk"==n.match(/dingtalk/i)&&(this.isDD=!0)}},output:function(){console.log("navi controller:",navigator.userAgent),console.log("navi filter:",a)}});a.init();var u=a;function c(){var t,e,n,i,s,o,r,a;return window.body&&(n=document.body.clientWidth,i=document.body.clientHeight),window.documentElement&&(s=document.documentElement.clientWidth,o=document.documentElement.clientHeight),r=window.innerWidth,a=window.innerHeight,t=n||s,e=i||o,t||e||(t=r,e=a),{width:t,height:e}}var l=n("d02f"),d=(n("d2f8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"outer-page",attrs:{hidden:!t.show}},[t._m(0)])}),h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mod-orient-layer",attrs:{id:"orientLayer"}},[n("div",{staticClass:"mod-orient-layer__content"},[n("i",{staticClass:"icon mod-orient-layer__icon-orient"}),n("div",{staticClass:"mod-orient-layer__desc"},[t._v("为了更好的体验，请使用竖屏浏览")])])])}],p={name:"screen-rotate",data:function(){return{show:!1}}},_=p,f=(n("f705"),n("c701")),g=Object(f["a"])(_,d,h,!1,null,"22bdb8cd",null),m=g.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-page",{attrs:{show:t.show}},[n("div",{staticClass:"page bg",style:t.loadingStyleComputed},[t._v("Loading "+t._s(t.showLoadPercent)+"%")])])},y=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abs",attrs:{hidden:!t.show}},[n("div",{staticClass:"page"},[t._t("default")],2)])},P=[],S={name:"base-page",props:{show:{type:Boolean,default:!1}},data:function(){return{}},computed:{},methods:{}},T=S,E=Object(f["a"])(T,b,P,!1,null,"57186f79",null),A=E.exports,L=(n("1bc7"),n("4057"),function(){this.images={},this.imageUrls=[],this.imagesLoaded=0,this.imagesFailedToLoad=0,this.imagesIndex=0,this.imageLoadingProgress=0});L.prototype={getImage:function(t){return this.images[t]},imageLoadedCallback:function(){this.imagesLoaded++},imageLoadedErrorCallback:function(){this.imagesFailedToLoad++},loadImage:function(t){var e=new window.Image,n=this;e.src=t,e.addEventListener("load",(function(t){n.imageLoadedCallback(t)})),e.addEventListener("error",(function(t){n.imageLoadedErrorCallback(t)})),this.images[t]=e},loadImages:function(){return this.imagesIndex<this.imageUrls.length&&(this.loadImage(this.imageUrls[this.imagesIndex]),this.imagesIndex++),(this.imagesLoaded+this.imagesFailedToLoad)/this.imageUrls.length*100},queueImage:function(t){var e=this;return"[object Array]"===Object.prototype.toString.call(t)?t.forEach((function(t){e.imageUrls.push(t)})):this.imageUrls.push(t),this},imageLoadingProgressCallback:function(t,e){var n=this,i=setInterval((function(){n.imageLoadingProgress=isNaN(n.loadImages())?100:n.loadImages(),100===n.imageLoadingProgress&&(clearInterval(i),setTimeout((function(){e.call(n)}),300)),t.call(n,n.imageLoadingProgress)}),10)}};var w=L,M={name:"pageLoading",components:{BasePage:A},data:function(){return{show:!1,sharedState:window.store.state,imageBgSrc:"imgs/test/12.jpg",realLoadPercent:0,showLoadPercent:0,fps:60,lastTime:0}},computed:{loadingStyleComputed:function(){return{"background-image":"url(".concat(this.imageBgSrc,")")}}},created:function(){var t=this,e=new w;e.queueImage(this.sharedState.sourceArrayPreLoad).imageLoadingProgressCallback((function(e){t.preloadPercent=Math.floor(e)}),(function(){t.startLoading()}))},methods:{startLoading:function(){var t=this;this.show=!0,this.loadingAni(),this.$emit("loadingLoadedComplete");var e=new w;e.queueImage(this.sharedState.sourceArrayLoading).imageLoadingProgressCallback((function(e){t.realLoadPercent=Math.floor(e)}),(function(){t.realLoadPercent=100}))},loadingAni:function(){if(this.show){var t=Date.now();t-this.lastTime<1e3/this.fps?requestAnimationFrame(this.loadingAni):(this.lastTime=t,this.showLoadPercent>=100&&this.realLoadPercent>=100?this.$emit("pageLoadedComplete"):(this.showLoadPercent+=1,requestAnimationFrame(this.loadingAni)))}}}},R=M,I=(n("1c0a"),Object(f["a"])(R,v,y,!1,null,"7fcc9aee",null)),x=I.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"abs",attrs:{hidden:!t.show}},[n("music-button",{on:{backgroundMusicPause:t.musicTapPaused,backgroundMusicPlay:t.musicTapPlaying}}),n("bg-music-hint",{attrs:{showBgMusicHint:t.showBgMusicHint},on:{confirm:t.hintTapConfirm,cancel:t.hintTapCancel}})],1)},k=[],D=n("0e4d"),O=n("94ef"),N=function(){function t(){Object(D["a"])(this,t),this.id="bg",this.sound=window.createjs.Sound,this.bgInstanceLoaded=!1,this.bgInstance=null,this.autoPlay=!0,this.sound.alternateExtensions=["mp3"],this.sound.on("fileload",this.loadComplete,this)}return Object(O["a"])(t,[{key:"load",value:function(){this.bgInstanceLoaded?console.log("BGMusic: background music has already been loaded"):this.sound.registerSound("imgs/bgmusic.mp3",this.id)}},{key:"loadComplete",value:function(t){console.log("BGMusic: background music load complete! src: ".concat(t.src)),this.bgInstanceLoaded=!0,this.autoPlay&&this.play()}},{key:"play",value:function(){this.bgInstanceLoaded||console.log("BGMusic: background music has not been loaded yet, play quit!"),this.bgInstance=this.sound.play(this.id,{loop:-1})}},{key:"pause",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, pause quit!"),this.bgInstance.paused=!0}},{key:"resume",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, resume quit!"),this.bgInstance.paused=!1}},{key:"stop",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, stop quit!"),this.bgInstance.stop()}}]),t}(),H=N,U=(n("5289"),n("82ae")),q=n.n(U),B=n("c8d8"),V=n.n(B),j="http://tianmao2020.herdsric.com/share/getJsSignature.go",F={title:"天猫国际“空中预言家”双11超级战报",content:"全球趋势 我先知",img:"http://ifscdn.herdsric.com/tianmao2020/share.png",link:window.location.href},X=function(){q.a.get(j,{params:{url:window.location.href}}).then((function(t){var e=t.data.data;V.a.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),V.a.ready((function(){V.a.onMenuShareTimeline({title:F.title,desc:F.content,link:F.link,imgUrl:F.img}),V.a.onMenuShareAppMessage({title:F.title,desc:F.content,link:F.link,imgUrl:F.img})}))}))},$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-button",style:t.rotateAngleDeg,on:{click:t.musicButtonClick}})},G=[],Y=1e3/60,W=1500,z={name:"MusicButton",data:function(){return{rotateAnglePerFrame:Math.round(360/W*Y*100)/100,lastRotateTime:0,sharedState:window.store.state,rotateAngle:0,playingBg:"imgs/test/music-open.png",pausedBg:"imgs/test/music-open.png"}},computed:{rotateAngleDeg:function(){return{transform:"rotate(".concat(this.rotateAngle,"deg)"),"background-image":this.sharedState.backgrundMusicIsPlaying?this.playing:this.paused}},playing:function(){return"url(".concat(this.playingBg,")")},paused:function(){return"url(".concat(this.pausedBg,")")}},methods:{musicButtonClick:function(){this.sharedState.backgrundMusicIsPlaying?(window.store.setBackgroundMusicPause(),this.$emit("backgroundMusicPause")):(window.store.setBackgroundMusicPlaying(),this.$emit("backgroundMusicPlay"))},rotate:function(t){t-this.lastRotateTime>Y&&(this.lastRotateTime=t,this.rotateAngle+=this.rotateAnglePerFrame,this.rotateAngle>360&&(this.rotateAngle-=360))},initRotate:function(){var t=new Date;this.sharedState.backgrundMusicIsPlaying&&this.rotate(t),requestAnimationFrame(this.initRotate)},init:function(){requestAnimationFrame(this.initRotate)}},mounted:function(){this.init()}},J=z,K=(n("93cf"),Object(f["a"])(J,$,G,!1,null,null,null)),Q=K.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showBgMusicHint?n("div",{staticClass:"page abs hint-bg-music-box"},[n("div",{staticClass:"all-black"}),n("div",{staticClass:"dialog-container"},[n("p",[t._v("是否播放背景音乐")]),n("div",{staticClass:"border-split"}),n("div",{staticClass:"button-container"},[n("div",{staticClass:"confirm",on:{click:t.bgMusicConfirmHandler}},[t._v("是")]),n("div",{staticClass:"cancel",on:{click:t.bgMusicCancelHandler}},[t._v("否")])])])]):t._e()},tt=[],et={name:"pagecommon",props:{showBgMusicHint:{type:Boolean,default:!1}},data:function(){return{}},methods:{bgMusicConfirmHandler:function(){this.$emit("confirm")},bgMusicCancelHandler:function(){this.$emit("cancel")}}},nt=et,it=(n("048b"),Object(f["a"])(nt,Z,tt,!1,null,"3749a7f4",null)),st=it.exports,ot={name:"music",components:{MusicButton:Q,BgMusicHint:st},data:function(){return{show:!1,backgroundMusicAutoPlay:!1,showBgMusicHint:!1,bgMusic:null,userAllowPlaying:!1,beforeDocumentVisibilityMusicPlaying:!1}},mounted:function(){this.backgroundMusicAutoPlay&&this.initBackgroundMusic(),this.windowVisibility()},methods:{initBackgroundMusic:function(){var t=this;this.bgMusic=new H,u.isWX?(document.addEventListener("WeixinJSBridgeReady",(function(){console.log("WeixinJSBridgeReady"),t.bgMusic.load(),window.store.setBackgroundMusicPlaying()}),!1),this.userAllowPlaying=!0,this.showBgMusicHint=!1,X()):(this.showBgMusicHint=!0,this.userAllowPlaying=!1)},musicTapPaused:function(){window.store.setBackgroundMusicPause(),this.bgMusic.pause()},musicTapPlaying:function(){this.userAllowPlaying?(window.store.setBackgroundMusicPlaying(),this.bgMusic.resume()):this.hintTapConfirm()},hintTapConfirm:function(){this.hintTapCancel(),this.bgMusic.load(),window.store.setBackgroundMusicPlaying(),this.userAllowPlaying=!0},hintTapCancel:function(){this.userAllowPlaying=!1,this.showBgMusicHint=!1},windowVisibility:function(){var t=this;document.addEventListener("visibilitychange",(function(){t.userAllowPlaying&&(document.hidden?window.store.state.backgrundMusicIsPlaying?(t.musicTapPaused(),t.beforeDocumentVisibilityMusicPlaying=!0):t.beforeDocumentVisibilityMusicPlaying=!1:t.beforeDocumentVisibilityMusicPlaying&&t.musicTapPlaying())}))}}},rt=ot,at=Object(f["a"])(rt,C,k,!1,null,"69bb71e8",null),ut=at.exports,ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("base-page",{attrs:{show:t.show}},[n("div",{staticClass:"page outer-box"},[n("div",{ref:"scroll_ref",staticClass:"inner-box"},[n("div",{staticClass:"map-img",style:t.mapBgComputed})]),n("rocket",{ref:"rocket_ref"}),n("div",{staticClass:"rocket-box abs"},[n("div",{staticClass:"btn btn-begin",on:{click:t.startAni}},[t._v(t._s(t.bgAni.state?"暂停":"开始"))]),n("div",{staticClass:"btn btn-reload"},[t._v("重新开始")])])],1)])},lt=[],dt=n("28f8"),ht=function(){function t(e,n){var i=this;Object(D["a"])(this,t),Object(dt["a"])(this,"authorized",!1),Object(dt["a"])(this,"app",null),Object(dt["a"])(this,"authState",(function(){i.authorized?i.shakeListener():i.askShake()})),Object(dt["a"])(this,"shakeListener",(function(){window.DeviceMotionEvent?(i.authorized=!0,window.addEventListener("devicemotion",i.deviceMotionHandler,!1),console.log("Android摇一摇,监听时间添加成功")):(console.log("Android摇一摇,监听时间添加失败"),i.authorized=!1)})),Object(dt["a"])(this,"deviceMotionHandler",(function(t){var e=t.accelerationIncludingGravity,n=e.x,s=e.y;i.app.gravityMove({x:n,y:s})})),console.log("isAuth ",e),this.authorized=!e,this.app=n,this.authState()}return Object(O["a"])(t,[{key:"askShake",value:function(){var t=this;console.log("ios 请求摇一摇权限");try{window.DeviceMotionEvent.requestPermission().then((function(e){"granted"==e&&(t.authorized=!0,window.addEventListener("devicemotion",t.deviceMotionHandler,!1))})).catch((function(e){console.log("ios 没有获取许可"),console.error(e),t.authorized=!1}))}catch(e){console.log("ios设备运动许可失败！ 没有这样的许可"),console.error(e),this.authorized=!1}}}]),t}(),pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page abs rocket-box"},[n("div",{staticClass:"rocket-move",style:t.rocketMoveStyleComputed},[n("div",{staticClass:"flex-center"},[n("img",{staticClass:"center",attrs:{src:t.rocket.center_02}}),n("img",{staticClass:"top",attrs:{src:t.rocket.top_01}}),n("img",{staticClass:"bosster_04",attrs:{src:t.rocket.bosster_04}}),n("img",{staticClass:"rocket",attrs:{src:t.rocket.rocket_05}}),n("img",{staticClass:"bosster-06 bosster-center",attrs:{src:t.rocket.bosster_06}}),n("particle",{ref:"par_center_ref",staticClass:"particle-box par-center"}),n("img",{staticClass:"bosster-06 bosster-left",attrs:{src:t.rocket.bosster_06}}),n("particle",{ref:"par_left_ref",staticClass:"particle-box par-left"}),n("img",{staticClass:"bosster-06 bosster-right",attrs:{src:t.rocket.bosster_06}}),n("particle",{ref:"par_right_ref",staticClass:"particle-box par-right"})],1)])])},_t=[],ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"particle-box"},[t._l(t.particleList,(function(e,i){return[n("div",{key:e.id,class:{outer:!0,"p1-outer":t.ani},style:t.outerStyleComputed(i)},[n("div",{class:{particle:!0,"p1-inner":t.ani},style:t.innerStyleComputed(i)})])]}))],2)},gt=[];function mt(t,e){return Math.random()*(e-t)+t}var vt={name:"particle",data:function(){return{debug:!0,particleList:[],ani:!0,paused:!0}},computed:{outerStyleComputed:function(){var t=this;return function(e){var n=t.particleList[1*e];return{"--outer-end-y":"".concat(n.outer[0],"rem"),"--outer-end-scale":n.outer[1],"animation-delay":"".concat(n.delay,"s"),"animation-play-state":t.paused?"paused":"running"}}},innerStyleComputed:function(){var t=this;return function(e){var n=t.particleList[1*e];return{"--inner-center-x":"".concat(n.inner[0],"rem"),"--inner-end-x":"".concat(n.inner[1],"rem"),"animation-delay":"".concat(n.delay,"s"),"animation-play-state":t.paused?"paused":"running"}}}},created:function(){this.initParticles()},methods:{initParticles:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,n=[];if(this.debug)n=[{id:"p0",outer:[1.8548098989672726,.07212436938645782],inner:[-.47328813401195013,-1.6745751383660423],delay:0},{id:"p1",outer:[1.572895611673799,.09642186217782234],inner:[-.8521609352173254,-1.8211061309175132],delay:.1},{id:"p2",outer:[1.6164942420273558,.08917714918685925],inner:[.514122158259751,1.9800262039942949],delay:.2},{id:"p3",outer:[1.76887823885555,.07733489061048285],inner:[-.48805546012611023,-1.7454761448442548],delay:.30000000000000004},{id:"p4",outer:[1.7131941346284885,.07717011344398227],inner:[-.38648971373725205,-1.9212813367563522],delay:.4},{id:"p5",outer:[1.7441177012423095,.10561234901149855],inner:[-.7910213271424369,-1.9971390084701546],delay:.5},{id:"p6",outer:[1.5494037562000584,.012177210537870665],inner:[-.4359896891875854,-1.913391239175394],delay:.6000000000000001},{id:"p7",outer:[1.8155214943368978,.1906877375991035],inner:[.6298622547258277,1.5982630209241562],delay:.7000000000000001},{id:"p8",outer:[1.7436448814831462,.10709520263822317],inner:[-.7899333690444035,-1.664894326264887],delay:.8},{id:"p9",outer:[1.707231112917124,.1405275658047723],inner:[.5554981703793898,1.7689348328272572],delay:.9},{id:"p10",outer:[1.9098489413822008,.07426046697904147],inner:[.6572899947362902,1.5986077389084263],delay:1},{id:"p11",outer:[1.8978860141534935,.09610828542161545],inner:[-.4242849876924897,-1.9524713123891728],delay:1.1},{id:"p12",outer:[1.7092547315810651,.09619175279140785],inner:[-.69160542656634,-1.7012419839053488],delay:1.2000000000000002},{id:"p13",outer:[1.687234727230896,.05192843169033554],inner:[-.01717914845209423,-1.8355566666315113],delay:1.3},{id:"p14",outer:[1.9510883860262258,.01825679168470682],inner:[-.9471867635447513,-1.6686914021333246],delay:1.4000000000000001},{id:"p15",outer:[1.7683920764423449,.11107981351302071],inner:[-.31810339643755414,-1.982531113339464],delay:1.5},{id:"p16",outer:[1.9270599126427401,.19506087242211692],inner:[-.196198372494238,-1.5732532621599278],delay:1.6},{id:"p17",outer:[1.5188475993201171,.12140134088827606],inner:[.8268813592048483,1.9350691323014573],delay:1.7000000000000002},{id:"p18",outer:[1.8220806324331136,.17841216337625646],inner:[-.5946708609000542,-1.6210955731853032],delay:1.8},{id:"p19",outer:[1.8014199632426662,.07950611670919666],inner:[.07833976554298294,1.8831308284867374],delay:1.9000000000000001}];else for(t=0;t<e;t++){var i=mt(-1,1),s=i>0&&mt(1.5,2)||mt(-2,-1.5);n.push({id:"p".concat(t),outer:[mt(1.5,2),mt(0,.2)],inner:[i,s],delay:t%e*.1})}this.particleList=n}}},yt=vt,bt=(n("0261"),Object(f["a"])(yt,ft,gt,!1,null,"5d52f77e",null)),Pt=bt.exports,St={name:"rocket",components:{Particle:Pt},data:function(){return{ani:!1,x:0,rocket:{top_01:"imgs/rocket/01-top.png",center_02:"imgs/rocket/02-center.png",sun_wing_03:"imgs/rocket/03-sun-wing.png",bosster_04:"imgs/rocket/04-bosster.png",rocket_05:"imgs/rocket/05-rocket.png",bosster_06:"imgs/rocket/06-bosster.png"}}},computed:{rocketMoveStyleComputed:function(){return{transform:"translateX(".concat(-3.75*this.x/10,"rem)")}}},watch:{ani:function(t){t?(this.$refs.par_center_ref.paused=!1,this.$refs.par_left_ref.paused=!1,this.$refs.par_right_ref.paused=!1):(this.$refs.par_center_ref.paused=!0,this.$refs.par_left_ref.paused=!0,this.$refs.par_right_ref.paused=!0)}},methods:{}},Tt=St,Et=(n("568d"),Object(f["a"])(Tt,pt,_t,!1,null,"3ce3023d",null)),At=Et.exports,Lt={name:"page1",components:{BasePage:A,Rocket:At},data:function(){return{show:!1,ani:!0,globalState:window.store.state,imgs:{map:"imgs/map/map.png"},bgAni:{state:!1,fps:60,lastTime:0,initScrollTop:0},shakeInstance:null,lastX:0}},computed:{mapBoxScrollTopComputed:function(){var t=this.globalState.content,e=t.full_vw,n=t.ful_vh;return Math.abs(n-10773*e/750)},mapBgComputed:function(){return{"background-image":"url(".concat(this.imgs.map,")")}}},watch:{show:function(t){var e=this;t?this.$nextTick((function(){e.$refs.scroll_ref.scrollTop=e.bgAni.initScrollTop,e.ani=!0,e.animationFrame()})):this.ani=!1}},created:function(){this.bgAni.initScrollTop=this.mapBoxScrollTopComputed,u.isPC||(this.shakeInstance=new ht(u.isIos,this),this.shakeInstance.authorized||this.shakeInstance.authState())},methods:{startAni:function(){this.bgAni.state=!this.bgAni.state,this.$refs.rocket_ref.ani=this.bgAni.state},animationFrame:function(){if(this.ani){var t=Date.now();t-this.bgAni.lastTime<1e3/this.bgAni.fps||(this.bgAni.lastTime=t,this.bgAni.state&&this.bgAniHandler()),requestAnimationFrame(this.animationFrame)}},bgAniHandler:function(){this.bgAni.initScrollTop-=1,this.bgAni.initScrollTop<=0&&(this.bgAni.initScrollTop=0,this.ani=!1),this.$refs.scroll_ref.scrollTop=this.bgAni.initScrollTop},gravityMove:function(t){"undefined"!=this.$refs.rocket_ref&&Math.abs(this.lastX-t.x)>.6&&(this.lastX=t.x,this.$refs.rocket_ref.x=t.x)}}},wt=Lt,Mt=(n("8c23"),Object(f["a"])(wt,ct,lt,!1,null,"5be94134",null)),Rt=Mt.exports,It={name:"app",components:{Swiper:l["Swiper"],SwiperSlide:l["SwiperSlide"],ScreenRotate:m,PageLoading:x,MusicComponent:ut,Page1:Rt},data:function(){return{globalStore:window.store,vh:0,swiperOptions:{direction:"vertical",observer:!0,observeParents:!0,observeSlideChildren:!0,touchRatio:0,resistanceRatio:0}}},computed:{appSizeComputed:function(){return{"--px-content-height":"".concat(this.vh,"px")}}},created:function(){this.resize(),window.onorientationchange=this.showScreenRotatePage},mounted:function(){this.showScreenRotatePage()},methods:{resize:function(){var t=0,e=0,n=c(),i=n.width,s=n.height;t=i>s&&s||i,e=i>s&&i||s,console.log("app",{w0:i,h0:s}),console.log("result",{vw:t,vh:e}),u.isPC?(e=.8*s,t=9*e/18):u.isIpad&&(t=9*e/18),this.vh=e,this.globalStore.setContent({vw:t,vh:e})},resizeHandler:function(){var t=this;"undefined"==typeof this.$refs.screen_rotate_ref||this.$refs.screen_rotate_ref.show?console.log("screen_rotate_ref ---- false "):setTimeout((function(){console.log("Listener ---- resize "),t.resize()}),3e3)},showScreenRotatePage:function(){0==window.orientation||180==window.orientation?this.$refs.screen_rotate_ref.show=!1:u.isMobile||u.isIpad?this.$refs.screen_rotate_ref.show=!0:this.$refs.screen_rotate_ref.show=!1,this.resizeHandler()},loadingLoadComplete:function(){this.showMusic()},pageLoadComplete:function(){this.showPage1()},showMusic:function(){this.$refs.music_ref.show=!0},showPage1:function(){this.$refs.loading_ref.show=!1,this.$refs.page1_ref.show=!0}}},xt=It,Ct=(n("5c0b"),Object(f["a"])(xt,o,r,!1,null,null,null)),kt=Ct.exports,Dt=(n("8dee"),n("e680"),n("a450"),n("fc02"),{});window.createjs?Dt=window.createjs:window.createjs=Dt,function(){var t=Dt.SoundJS=Dt.SoundJS||{};t.version="1.0.0",t.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),Dt.extend=function(t,e){function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},Dt.promote=function(t,e){var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var s in n[(e+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(s)&&"function"==typeof i[s]&&(n[e+s]=i[s]);return t},Dt.deprecate=function(t,e){return function(){var n="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(n):console.log(n)),t&&t.apply(this,arguments)}},Dt.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},function(){Dt.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),function(){function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,Dt.BrowserDetect=t}(),function(){function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=i[t];return s&&this.removeEventListener(t,e,n),s=i[t],s?s.push(e):i[t]=[e],e},e.on=function(t,e,n,i,s,o){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,(function(t){e.call(n,t,s),i&&t.remove()}),o)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var s=i[t];if(s)for(var o=0,r=s.length;o<r;o++)if(s[o]==e){1==r?delete i[t]:s.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!e&&(!i||!i[t]))return!0;t=new Dt.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(u){}if(t.bubbles&&this.parent){var s=this,o=[s];while(s.parent)o.push(s=s.parent);var r,a=o.length;for(r=a-1;r>=0&&!t.propagationStopped;r--)o[r]._dispatchEvent(t,1+(0==r));for(r=1;r<a&&!t.propagationStopped;r++)o[r]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){var e=this;while(e){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(i=s[t.type])&&(n=i.length)){try{t.currentTarget=this}catch(a){}try{t.eventPhase=0|e}catch(a){}t.removed=!1,i=i.slice();for(var o=0;o<n&&!t.immediatePropagationStopped;o++){var r=i[o];r.handleEvent?r.handleEvent(t):r(t),t.removed&&(this.off(t.type,r,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},Dt.EventDispatcher=t}(),function(){function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},Dt.Event=t}(),function(){function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}var e=Dt.extend(t,Dt.Event);e.clone=function(){return new Dt.ErrorEvent(this.title,this.message,this.data)},Dt.ErrorEvent=Dt.promote(t,"Event")}(),function(t){function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var n=Dt.extend(e,Dt.Event);n.clone=function(){return new Dt.ProgressEvent(this.loaded,this.total)},Dt.ProgressEvent=Dt.promote(e,"Event")}(window),function(){function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=Dt.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},Dt.LoadItem=n}(),function(){var t={POST:"POST",GET:"GET"};Dt.Methods=t}(),function(){var t={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};Dt.Types=t}(),function(){var t={a:function(){return t.el("a")},svg:function(){return t.el("svg")},object:function(){return t.el("object")},image:function(){return t.el("image")},img:function(){return t.el("img")},style:function(){return t.el("style")},link:function(){return t.el("link")},script:function(){return t.el("script")},audio:function(){return t.el("audio")},video:function(){return t.el("video")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};Dt.Elements=t}(),function(){var t={container:null,appendToHead:function(e){t.getHead().appendChild(e)},appendToBody:function(e){if(null==t.container){t.container=document.createElement("div"),t.container.id="preloadjs-container";var n=t.container.style;n.visibility="hidden",n.position="absolute",n.width=t.container.style.height="10px",n.overflow="hidden",n.transform=n.msTransform=n.webkitTransform=n.oTransform="translate(-10px, -10px)",t.getBody().appendChild(t.container)}t.container.appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};Dt.DomUtils=t}(),function(){var t={isBinary:function(t){switch(t){case Dt.Types.IMAGE:case Dt.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case Dt.Types.TEXT:case Dt.Types.JSON:case Dt.Types.MANIFEST:case Dt.Types.XML:case Dt.Types.CSS:case Dt.Types.SVG:case Dt.Types.JAVASCRIPT:case Dt.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return Dt.Types.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return Dt.Types.IMAGE;case"ogg":case"mp3":case"webm":return Dt.Types.SOUND;case"mp4":case"ts":return Dt.Types.VIDEO;case"json":return Dt.Types.JSON;case"xml":return Dt.Types.XML;case"css":return Dt.Types.CSS;case"js":return Dt.Types.JAVASCRIPT;case"svg":return Dt.Types.SVG;default:return Dt.Types.TEXT}}};Dt.RequestUtils=t}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var n={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==e)return n;var i=Dt.Elements.a();for(var s in i.href=e,n)s in i&&(n[s]=i[s]);var o,r=e.indexOf("?");return r>-1&&(e=e.substr(0,r)),t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(o=e.match(t.EXTENSION_PATT))&&(n.extension=o[1].toLowerCase()),n},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},buildURI:function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var s=t.slice(i+1);n=n.concat(s.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},isCrossDomain:function(t){var e=Dt.Elements.a();e.href=t.src;var n=Dt.Elements.a();n.href=location.href;var i=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname);return i},isLocal:function(t){var e=Dt.Elements.a();return e.href=t.src,""==e.hostname&&"file:"==e.protocol}};Dt.URLUtils=t}(),function(){function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?Dt.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=Dt.extend(t,Dt.EventDispatcher),n=t;try{Object.defineProperties(n,{POST:{get:Dt.deprecate((function(){return Dt.Methods.POST}),"AbstractLoader.POST")},GET:{get:Dt.deprecate((function(){return Dt.Methods.GET}),"AbstractLoader.GET")},BINARY:{get:Dt.deprecate((function(){return Dt.Types.BINARY}),"AbstractLoader.BINARY")},CSS:{get:Dt.deprecate((function(){return Dt.Types.CSS}),"AbstractLoader.CSS")},FONT:{get:Dt.deprecate((function(){return Dt.Types.FONT}),"AbstractLoader.FONT")},FONTCSS:{get:Dt.deprecate((function(){return Dt.Types.FONTCSS}),"AbstractLoader.FONTCSS")},IMAGE:{get:Dt.deprecate((function(){return Dt.Types.IMAGE}),"AbstractLoader.IMAGE")},JAVASCRIPT:{get:Dt.deprecate((function(){return Dt.Types.JAVASCRIPT}),"AbstractLoader.JAVASCRIPT")},JSON:{get:Dt.deprecate((function(){return Dt.Types.JSON}),"AbstractLoader.JSON")},JSONP:{get:Dt.deprecate((function(){return Dt.Types.JSONP}),"AbstractLoader.JSONP")},MANIFEST:{get:Dt.deprecate((function(){return Dt.Types.MANIFEST}),"AbstractLoader.MANIFEST")},SOUND:{get:Dt.deprecate((function(){return Dt.Types.SOUND}),"AbstractLoader.SOUND")},VIDEO:{get:Dt.deprecate((function(){return Dt.Types.VIDEO}),"AbstractLoader.VIDEO")},SPRITESHEET:{get:Dt.deprecate((function(){return Dt.Types.SPRITESHEET}),"AbstractLoader.SPRITESHEET")},SVG:{get:Dt.deprecate((function(){return Dt.Types.SVG}),"AbstractLoader.SVG")},TEXT:{get:Dt.deprecate((function(){return Dt.Types.TEXT}),"AbstractLoader.TEXT")},XML:{get:Dt.deprecate((function(){return Dt.Types.XML}),"AbstractLoader.XML")}})}catch(i){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new Dt.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new Dt.XHRRequest(this._item):this._request=new Dt.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new Dt.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new Dt.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new Dt.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,Dt.proxy(this._resultFormatSuccess,this),Dt.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new Dt.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"));break}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return"[PreloadJS AbstractLoader]"},Dt.AbstractLoader=Dt.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=Dt.extend(t,Dt.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new Dt.XHRRequest(this._item):this._request=new Dt.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},Dt.AbstractMediaLoader=Dt.promote(t,"AbstractLoader")}(),function(){var t=function(t){this._item=t},e=Dt.extend(t,Dt.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},Dt.AbstractRequest=Dt.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=Dt.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=Dt.extend(t,Dt.AbstractRequest);e.load=function(){this._tag.onload=Dt.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=Dt.proxy(this._handleReadyStateChange,this),this._tag.onerror=Dt.proxy(this._handleError,this);var t=new Dt.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(Dt.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(Dt.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new Dt.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},Dt.TagRequest=Dt.promote(t,"AbstractRequest")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=Dt.proxy(this._handleTagComplete,this)}var e=Dt.extend(t,Dt.TagRequest);e.load=function(){var t=Dt.proxy(this._handleStalled,this);this._stalledCallback=t;var e=Dt.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new Dt.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},Dt.MediaTagRequest=Dt.promote(t,"TagRequest")}(),function(){function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=Dt.proxy(this._handleLoadStart,this),this._handleProgressProxy=Dt.proxy(this._handleProgress,this),this._handleAbortProxy=Dt.proxy(this._handleAbort,this),this._handleErrorProxy=Dt.proxy(this._handleError,this),this._handleTimeoutProxy=Dt.proxy(this._handleTimeout,this),this._handleLoadProxy=Dt.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=Dt.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=Dt.extend(t,Dt.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(Dt.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(Dt.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new Dt.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new Dt.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new Dt.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new Dt.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new Dt.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new Dt.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return t>=400&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=Dt.URLUtils.isCrossDomain(t),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var o=0,r=s.ACTIVEX_VERSIONS.length;o<r;o++){var a=s.ACTIVEX_VERSIONS[o];try{i=new ActiveXObject(a);break}catch(l){}}if(null==i)return!1}null==t.mimeType&&Dt.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"===typeof i.responseType?2:1;var u=null;if(u=t.method==Dt.Methods.GET?Dt.URLUtils.buildURI(t.src,t.values):t.src,i.open(t.method||Dt.Methods.GET,u,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n["Origin"]=location.origin),t.values&&t.method==Dt.Methods.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),e||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var c in t.headers)n[c]=t.headers[c];for(c in n)i.setRequestHeader(c,n[c]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},Dt.XHRRequest=Dt.promote(t,"AbstractRequest")}(),function(){function t(t,e){this.AbstractMediaLoader_constructor(t,e,Dt.Types.SOUND),Dt.DomUtils.isAudioTag(t)||Dt.DomUtils.isAudioTag(t.src)?this._tag=t:Dt.DomUtils.isAudioTag(t.tag)&&(this._tag=Dt.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=Dt.extend(t,Dt.AbstractMediaLoader),n=t;n.canLoadItem=function(t){return t.type==Dt.Types.SOUND},e._createTag=function(t){var e=Dt.Elements.audio();return e.autoplay=!1,e.preload="none",e.src=t,e},Dt.SoundLoader=Dt.promote(t,"AbstractMediaLoader")}(),function(){var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},n=t;n.create=function(t){if("string"===typeof t)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new Dt.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof n||t instanceof Object)return(new Dt.PlayPropsConfig).set(t);if(null==t)throw new Error("PlayProps configuration not recognized.")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},Dt.PlayPropsConfig=n}(),function(){function t(){throw"Sound cannot be instantiated"}var e=t;function n(t,e){this.init(t,e)}e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.alternateExtensions=[],e.activePlugin=null,e._masterVolume=1,e._getMasterVolume=function(){return this._masterVolume},e.getVolume=Dt.deprecate(e._getMasterVolume,"Sound.getVolume"),e._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var n=this._instances,i=0,s=n.length;i<s;i++)n[i].setMasterVolume(t)},e.setVolume=Dt.deprecate(e._setMasterVolume,"Sound.setVolume"),e._masterMute=!1,e._getMute=function(){return this._masterMute},e.getMute=Dt.deprecate(e._getMute,"Sound.getMute"),e._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,n=0,i=e.length;n<i;n++)e[n].setMasterMute(t)},e.setMute=Dt.deprecate(e._setMute,"Sound.setMute"),e._getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin._capabilities},e.getCapabilities=Dt.deprecate(e._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(e,{volume:{get:e._getMasterVolume,set:e._setMasterVolume},muted:{get:e._getMute,set:e._setMute},capabilities:{get:e._getCapabilities}}),e._pluginsRegistered=!1,e._lastID=0,e._instances=[],e._idHash={},e._preloadHash={},e._defaultPlayPropsHash={},e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,Dt.EventDispatcher.initialize(e),e.getPreloadHandlers=function(){return{callback:Dt.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e._handleLoadComplete=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];if(e._preloadHash[n][i]=!0,e.hasEventListener("fileload")){var r=new Dt.Event("fileload");r.src=o.src,r.id=o.id,r.data=o.data,r.sprite=o.sprite,e.dispatchEvent(r)}}},e._handleLoadError=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];if(e._preloadHash[n][i]=!1,e.hasEventListener("fileerror")){var r=new Dt.Event("fileerror");r.src=o.src,r.id=o.id,r.data=o.data,r.sprite=o.sprite,e.dispatchEvent(r)}}},e._registerPlugin=function(t){return!!t.isSupported()&&(e.activePlugin=new t,!0)},e.registerPlugins=function(t){e._pluginsRegistered=!0;for(var n=0,i=t.length;n<i;n++)if(e._registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin||!e._pluginsRegistered&&!!e.registerPlugins([Dt.WebAudioPlugin,Dt.HTMLAudioPlugin])},e.isReady=function(){return null!=e.activePlugin},e.initLoad=function(t){return"video"==t.type||e._registerSound(t)},e._registerSound=function(t){if(!e.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=e._parseSrc(t.src),i.src=t.path+i.src):i=e._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var s=t.data,o=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(o=parseInt(s)):o=parseInt(s.channels),s.audioSprite))for(var r,a=s.audioSprite.length;a--;)r=s.audioSprite[a],e._idHash[r.id]={src:t.src,startTime:parseInt(r.startTime),duration:parseInt(r.duration)},r.defaultPlayProps&&(e._defaultPlayPropsHash[r.id]=Dt.PlayPropsConfig.create(r.defaultPlayProps));null!=t.id&&(e._idHash[t.id]={src:t.src});var u=e.activePlugin.register(t);return n.create(t.src,o),null!=s&&isNaN(s)?t.data.channels=o||n.maxPerChannel():t.data=o||n.maxPerChannel(),u.type&&(t.type=u.type),t.defaultPlayProps&&(e._defaultPlayPropsHash[t.src]=Dt.PlayPropsConfig.create(t.defaultPlayProps)),u},e.registerSound=function(t,n,i,s,o){var r={src:t,id:n,data:i,defaultPlayProps:o};t instanceof Object&&t.src&&(s=n,r=t),r=Dt.LoadItem.create(r),r.path=s,null==s||r.src instanceof Object||(r.src=s+r.src);var a=e._registerSound(r);if(!a)return!1;if(e._preloadHash[r.src]||(e._preloadHash[r.src]=[]),e._preloadHash[r.src].push(r),1==e._preloadHash[r.src].length)a.on("complete",this._handleLoadComplete,this),a.on("error",this._handleLoadError,this),e.activePlugin.preload(a);else if(1==e._preloadHash[r.src][0])return!0;return r},e.registerSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=Dt.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return n},e.removeSound=function(t,i){if(null==e.activePlugin)return!1;var s;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?s=e._parseSrc(t):(t=e._getSrcById(t).src,s=e._parsePath(t)),null==s)return!1;for(var o in t=s.src,null!=i&&(t=i+t),e._idHash)e._idHash[o].src==t&&delete e._idHash[o];return n.removeSrc(t),delete e._preloadHash[t],e.activePlugin.removeSound(t),!0},e.removeSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=Dt.Sound.removeSound(t[i].src,e);return n},e.removeAllSounds=function(){e._idHash={},e._preloadHash={},n.removeAll(),e.activePlugin&&e.activePlugin.removeAllSounds()},e.loadComplete=function(t){if(!e.isReady())return!1;var n=e._parsePath(t);return t=n?e._getSrcById(n.src).src:e._getSrcById(t).src,void 0!=e._preloadHash[t]&&1==e._preloadHash[t][0]},e._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var n=t.match(e.FILE_PATTERN);if(null==n)return!1;var i=n[4],s=n[5],o=e.capabilities,r=0;while(!o[s])if(s=e.alternateExtensions[r++],r>e.alternateExtensions.length)return null;t=t.replace("."+n[5],"."+s);var a={name:i,src:t,extension:s};return a},e._parseSrc=function(t){var n={name:void 0,src:void 0,extension:void 0},i=e.capabilities;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){n.src=t[s],n.extension=s;break}if(!n.src)return!1;var o=n.src.lastIndexOf("/");return n.name=-1!=o?n.src.slice(o+1):n.src,n},e.play=function(t,n){var i=Dt.PlayPropsConfig.create(n),s=e.createInstance(t,i.startTime,i.duration),o=e._playInstance(s,i);return o||s._playFailed(),s},e.createInstance=function(t,i,s){if(!e.initializeDefaultPlugins())return new Dt.DefaultSoundInstance(t,i,s);var o=e._defaultPlayPropsHash[t];t=e._getSrcById(t);var r=e._parsePath(t.src),a=null;return null!=r&&null!=r.src?(n.create(r.src),null==i&&(i=t.startTime),a=e.activePlugin.create(r.src,i,s||t.duration),o=o||e._defaultPlayPropsHash[r.src],o&&a.applyPlayProps(o)):a=new Dt.DefaultSoundInstance(t,i,s),a.uniqueId=e._lastID++,a},e.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},e.setDefaultPlayProps=function(t,n){t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]=Dt.PlayPropsConfig.create(n)},e.getDefaultPlayProps=function(t){return t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]},e._playInstance=function(t,n){var i=e._defaultPlayPropsHash[t.src]||{};if(null==n.interrupt&&(n.interrupt=i.interrupt||e.defaultInterruptBehavior),null==n.delay&&(n.delay=i.delay||0),null==n.offset&&(n.offset=t.position),null==n.loop&&(n.loop=t.loop),null==n.volume&&(n.volume=t.volume),null==n.pan&&(n.pan=t.pan),0==n.delay){var s=e._beginPlaying(t,n);if(!s)return!1}else{var o=setTimeout((function(){e._beginPlaying(t,n)}),n.delay);t.delayTimeoutId=o}return this._instances.push(t),!0},e._beginPlaying=function(t,e){if(!n.add(t,e.interrupt))return!1;var i=t._beginPlaying(e);if(!i){var s=Dt.indexOf(this._instances,t);return s>-1&&this._instances.splice(s,1),!1}return!0},e._getSrcById=function(t){return e._idHash[t]||{src:t}},e._playFinished=function(t){n.remove(t);var e=Dt.indexOf(this._instances,t);e>-1&&this._instances.splice(e,1)},Dt.Sound=t,n.channels={},n.create=function(t,e){var i=n.get(t);return null==i&&(n.channels[t]=new n(t,e),!0)},n.removeSrc=function(t){var e=n.get(t);return null!=e&&(e._removeAll(),delete n.channels[t],!0)},n.removeAll=function(){for(var t in n.channels)n.channels[t]._removeAll();n.channels={}},n.add=function(t,e){var i=n.get(t.src);return null!=i&&i._add(t,e)},n.remove=function(t){var e=n.get(t.src);return null!=e&&(e._remove(t),!0)},n.maxPerChannel=function(){return i.maxDefault},n.get=function(t){return n.channels[t]};var i=n.prototype;i.constructor=n,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},i._remove=function(t){var e=Dt.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e,n){var i,s;if(e!=t.INTERRUPT_NONE&&(s=this._get(0),null==s))return!0;for(var o=0,r=this.max;o<r;o++){if(i=this._get(o),null==i)return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){s=i;break}e!=t.INTERRUPT_NONE&&((e==t.INTERRUPT_EARLY&&i.position<s.position||e==t.INTERRUPT_LATE&&i.position>s.position)&&(s=i))}return null!=s&&(s._interrupt(),this._remove(s),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),function(){var t=function(t,e,n,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=Dt.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=Dt.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=Dt.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=Dt.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=Dt.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=Dt.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=Dt.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=Dt.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==i&&!0!==i&&this._setPlaybackResource(i),this.getPlaybackResource=Dt.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=Dt.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=Dt.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=Dt.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this.getLoop=Dt.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=Dt.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=Dt.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=Dt.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=Dt.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=Dt.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},e=Dt.extend(t,Dt.EventDispatcher);e.play=function(t){var e=Dt.PlayPropsConfig.create(t);return this.playState==Dt.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),Dt.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=Dt.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if((!0===t||!1===t)&&this._paused!=t&&(1!=t||this.playState==Dt.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=Dt.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==Dt.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new Dt.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,Dt.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=Dt.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=Dt.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=Dt.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=Dt.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},Dt.AbstractSoundInstance=Dt.promote(t,"EventDispatcher"),Dt.DefaultSoundInstance=Dt.AbstractSoundInstance}(),function(){var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var n=this._soundInstances[t][e];n.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,n){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,n,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(i),i.setMasterVolume&&i.setMasterVolume(Dt.Sound.volume),i.setMasterMute&&i.setMasterMute(Dt.Sound.muted),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var n=0,i=this._soundInstances[e].length;n<i;n++){var s=this._soundInstances[e][n];s.playbackResource=this._audioSources[e],this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},Dt.AbstractPlugin=t}(),function(){function t(t){this.AbstractLoader_constructor(t,!0,Dt.Types.SOUND)}var e=Dt.extend(t,Dt.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new Dt.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,Dt.proxy(this._handleAudioDecoded,this),Dt.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},Dt.WebAudioLoader=Dt.promote(t,"AbstractLoader")}(),function(){function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=Dt.proxy(this._handleSoundComplete,this)}var e=Dt.extend(t,Dt.AbstractSoundInstance),n=t;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==Dt.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==Dt.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),Dt.BrowserDetect.isIOS)try{t.buffer=n._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(n.destinationNode);var e=.001*this._duration,i=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var s=.001*this._duration;return i.startTime=t+s,i.start(i.startTime,e+.001*this._startTime,s-e),i},e._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==Dt.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},Dt.WebAudioSoundInstance=Dt.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),Dt.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=Dt.WebAudioLoader,this._soundInstanceClass=Dt.WebAudioSoundInstance,this._addPropsToClasses()}var e=Dt.extend(t,Dt.AbstractPlugin),n=t;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.DEFAULT_SAMPLE_RATE=44100,n.isSupported=function(){var t=Dt.BrowserDetect.isIOS||Dt.BrowserDetect.isAndroid||Dt.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(n._generateCapabilities(),null!=n.context)},n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.context.destination),t.start(0,0,0)}},n._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(n){return t=!1,t}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(n){t=!1}return t},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==n.context&&(n.context=n._createAudioContext(),null==n.context))return null;null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchstart",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=Dt.Sound.SUPPORTED_EXTENSIONS,i=Dt.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var r=e[s],a=i[r]||r;n._capabilities[r]="no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&e.sampleRate!==n.DEFAULT_SAMPLE_RATE){var i=e.createBuffer(1,1,n.DEFAULT_SAMPLE_RATE),s=e.createBufferSource();s.buffer=i,s.connect(e.destination),s.start(0),s.disconnect(),e.close(),e=new t}return e},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),document.removeEventListener("touchstart",n._unlock,!0),n._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=n._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=Dt.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},Dt.WebAudioPlugin=Dt.promote(t,"AbstractPlugin")}(),function(){function t(){throw"HTMLAudioTagPool cannot be instantiated"}var e=t;function n(t){this._tags=[]}e._tags={},e._tagPool=new n,e._tagUsed={},e.get=function(t){var n=e._tags[t];return null==n?(n=e._tags[t]=e._tagPool.get(),n.src=t):e._tagUsed[t]?(n=e._tagPool.get(),n.src=t):e._tagUsed[t]=!0,n},e.set=function(t,n){n==e._tags[t]?e._tagUsed[t]=!1:e._tagPool.set(n)},e.remove=function(t){var n=e._tags[t];return null!=n&&(e._tagPool.set(n),delete e._tags[t],delete e._tagUsed[t],!0)},e.getDuration=function(t){var n=e._tags[t];return null!=n&&n.duration?1e3*n.duration:0},Dt.HTMLAudioTagPool=t;var i=n.prototype;i.constructor=n,i.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=Dt.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),function(){function t(t,e,n,i){this.AbstractSoundInstance_constructor(t,e,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=Dt.proxy(this._handleSoundComplete,this),this._readyHandler=Dt.proxy(this._handleTagReady,this),this._stalledHandler=Dt.proxy(this._playFailed,this),this._audioSpriteEndHandler=Dt.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=Dt.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(e+n):this._duration=Dt.HTMLAudioTagPool.getDuration(this.src)}var e=Dt.extend(t,Dt.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(Dt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}Dt.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=Dt.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(Dt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(Dt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||Dt.Sound._masterMute?0:this._volume*Dt.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==Dt.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==Dt.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(Dt.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(Dt.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=Dt.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},Dt.HTMLAudioSoundInstance=Dt.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._capabilities=n._capabilities,this._loaderClass=Dt.SoundLoader,this._soundInstanceClass=Dt.HTMLAudioSoundInstance}var e=Dt.extend(t,Dt.AbstractPlugin),n=t;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=Dt.Sound.SUPPORTED_EXTENSIONS,i=Dt.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var r=e[s],a=i[r]||r;n._capabilities[r]="no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)||"no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)}}},e.register=function(t){var e=Dt.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(e),n},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),Dt.HTMLAudioTagPool.remove(t)},e.create=function(t,e,n){var i=this.AbstractPlugin_create(t,e,n);return i.playbackResource=null,i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,Dt.HTMLAudioPlugin=Dt.promote(t,"AbstractPlugin")}();var Ot=n("3e83"),Nt=n("e3ee"),Ht=(n("096c"),n("d460"),n("8830"),{debug:!1,state:{message:"Hello!",sourceArrayPreLoad:["imgs/test/12.jpg","imgs/test/music-open.png"],sourceArrayLoading:["imgs/map/map.png","imgs/rocket/01-top.png","imgs/rocket/02-center.png","imgs/rocket/03-sun-wing.png","imgs/rocket/04-bosster.png","imgs/rocket/05-rocket.png","imgs/rocket/06-bosster.png"],content:{full_vw:0,ful_vh:0},backgrundMusicIsPlaying:!1},setBackgroundMusicPause:function(){this.state.backgrundMusicIsPlaying=!1},setBackgroundMusicPlaying:function(){this.state.backgrundMusicIsPlaying=!0},setContent:function(t){var e=document.documentElement,n=1*t.vw/7.5;t&&t["vw"]&&t["vh"]&&(e.style.fontSize="".concat(n,"px"),this.state.content={full_vw:t.vw,ful_vh:t.vh})}}),Ut={get:function(t,e){return Reflect.get(t,e)},set:function(t,e,n){return Ht.debug&&console.log("store set: prop: ".concat(e,", value: ").concat(n)),Reflect.set.apply(Reflect,arguments)}},qt=function t(e){for(var n=0,i=Object.entries(e);n<i.length;n++){var s=Object(Nt["a"])(i[n],2),o=s[0],r=s[1];"object"==Object(Ot["a"])(r)&&(e[o]=new Proxy(r,Ut),t(r))}return new Proxy(e,Ut)};Ht.state=qt(Ht.state),window.store=Ht;var Bt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={category:"general",value:null,g:!0,b:!0},s=function(t,e,n,i){window._hmt.push(["_trackEvent",t,e,n,i])},o=function(t,e,n,i){window.gtag("event",e,{event_category:t,event_label:n,value:i})};Object.assign(i,n),i.b&&s(i.category,t,e,i.value),i.g&&o(i.category,t,e,i.value)},Vt=Bt;n("f994"),i["default"].prototype.$statics=Vt,n("2b91"),i["default"].config.productionTip=!1,new i["default"]({render:function(t){return t(kt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("4422")},"66a5":function(t,e,n){},"8c23":function(t,e,n){"use strict";n("2c54")},"93cf":function(t,e,n){"use strict";n("66a5")},"99e1":function(t,e,n){},c13e:function(t,e,n){},f705:function(t,e,n){"use strict";n("c13e")},f994:function(t,e,n){"use strict";n.r(e);var i=n("aac1"),s=n.n(i),o=new s.a;e["default"]=o}});
//# sourceMappingURL=app.e1d2070d.js.map