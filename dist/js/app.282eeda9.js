(function(t){function e(e){for(var i,a,r=e[0],u=e[1],l=e[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);c&&c(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var u=n[r];0!==s[u]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"20e7":function(t,e,n){},2221:function(t,e,n){},"2b91":function(t,e){console.log("alert js: loading..."),function(){window.alert=function(t){var e=document.createElement("IFRAME");e.style.display="none",e.setAttribute("src","data:text/plain"),document.documentElement.appendChild(e),window.frames[0].window.alert(t),e.parentNode.removeChild(e)}}(),console.log("alert js: no title alert loaded"),console.log("alert js: load complete.")},4422:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e44b"),n("6648"),n("5f54"),n("f0e6");var i=n("a593"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page",attrs:{id:"app"}},[n("div",{staticClass:"content",style:t.appSizeComputed},[n("page-loading",{on:{loadComplete:t.handleLoadComplete}}),n("music-component")],1)])},a=[],r=(n("9e76"),{isIE:!1,isAndroid:!1,isIos:!1,isWX:!1,isDD:!1,isKB:!1,isWB:!1,isQQSpace:!1,isWebApp:!1,isMac:!1,isEdge:!1,isQQBrowser:!1,isMobile:!1,isIpad:!1,isPC:!1,init:function(){var t=navigator.userAgent,e={trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),mac:t.indexOf("Mac")>-1,edge:t.indexOf("Edge")>-1,qqBrowser:t.indexOf("QQBrowser")>-1};if(this.isIE=e.trident,this.isEdge=e.edge,this.isMac=e.mac,this.isQQBrowser=e.qqBrowser,this.isMobile=e.mobile,this.isIpad=e.iPad,this.isIos=e.ios,this.isAndroid=e.android,this.isWebApp=e.webApp,e.mobile){var n=t.toLowerCase();"micromessenger"==n.match(/MicroMessenger/i)&&(this.isWX=!0),"weibo"==n.match(/WeiBo/i)&&(this.isWB=!0),"qq"==n.match(/QQ/i)&&(this.isQQSpace=!0),"koubeidefined"==n.match(/koubeidefined/i)&&(this.isKB=!0),"dingtalk"==n.match(/dingtalk/i)&&(this.isDD=!0)}},output:function(){console.log("navi controller:",navigator.userAgent),console.log("navi filter:",r)}});r.init();var u=r;function l(){var t,e,n,i,s,o,a,r;return window.body&&(n=document.body.clientWidth,i=document.body.clientHeight),window.documentElement&&(s=document.documentElement.clientWidth,o=document.documentElement.clientHeight),a=window.innerWidth,r=window.innerHeight,t=n||s,e=i||o,t||e||(t=a,e=r),{width:t,height:e}}var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BasePage",[n("div",{staticClass:"page abs bg",style:{backgroundImage:t.finalImageSrcBg}},[n("div",{staticClass:"test-box"}),n("div",{staticClass:"test-box2"})])])},d=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page abs"},[t._t("default")],2)},p=[],_={name:"pagecommon",data:function(){return{}}},f=_,g=(n("7e0c"),n("c701")),m=Object(g["a"])(f,h,p,!1,null,"c4d7fe5c",null),v=m.exports,y=(n("6d57"),n("2b45"),function(){this.images={},this.imageUrls=[],this.imagesLoaded=0,this.imagesFailedToLoad=0,this.imagesIndex=0,this.imageLoadingProgress=0});y.prototype={getImage:function(t){return this.images[t]},imageLoadedCallback:function(){this.imagesLoaded++},imageLoadedErrorCallback:function(){this.imagesFailedToLoad++},loadImage:function(t){var e=new window.Image,n=this;e.src=t,e.addEventListener("load",(function(t){n.imageLoadedCallback(t)})),e.addEventListener("error",(function(t){n.imageLoadedErrorCallback(t)})),this.images[t]=e},loadImages:function(){return this.imagesIndex<this.imageUrls.length&&(this.loadImage(this.imageUrls[this.imagesIndex]),this.imagesIndex++),(this.imagesLoaded+this.imagesFailedToLoad)/this.imageUrls.length*100},queueImage:function(t){var e=this;return"[object Array]"===Object.prototype.toString.call(t)?t.forEach((function(t){e.imageUrls.push(t)})):this.imageUrls.push(t),this},imageLoadingProgressCallback:function(t,e){var n=this,i=setInterval((function(){n.imageLoadingProgress=isNaN(n.loadImages())?100:n.loadImages(),100===n.imageLoadingProgress&&(clearInterval(i),setTimeout((function(){e.call(n)}),300)),t.call(n,n.imageLoadingProgress)}),10)}};var P=y,E={name:"pageLoading",components:{BasePage:v},data:function(){return{sharedState:window.store.state,loadPercent:0,publicPath:"",imageBgSrc:"imgs/bg-loading.jpg"}},computed:{finalImageSrcBg:function(){return"url(".concat(this.publicPath).concat(this.imageBgSrc,")")}},created:function(){var t=this,e=new P;e.queueImage(this.sharedState.sourceArrayPreLoad).imageLoadingProgressCallback((function(e){t.preloadPercent=Math.floor(e)}),(function(){t.startLoading()}))},methods:{startLoading:function(){var t=this,e=new P;e.queueImage(this.sharedState.sourceArrayLoading).imageLoadingProgressCallback((function(e){t.loadPercent=Math.floor(e)}),(function(){t.$emit("loadComplete")}))}}},T=E,b=(n("6113"),Object(g["a"])(T,c,d,!1,null,"be0ef4f4",null)),S=b.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("music-button",{on:{backgroundMusicPause:t.musicTapPaused,backgroundMusicPlay:t.musicTapPlaying}}),n("bg-music-hint",{attrs:{showBgMusicHint:t.showBgMusicHint},on:{confirm:t.hintTapConfirm,cancel:t.hintTapCancel}})],1)},L=[],w=n("0e4d"),M=n("94ef"),R=function(){function t(){Object(w["a"])(this,t),this.id="bg",this.sound=window.createjs.Sound,this.bgInstanceLoaded=!1,this.bgInstance=null,this.autoPlay=!0,this.sound.alternateExtensions=["mp3"],this.sound.on("fileload",this.loadComplete,this)}return Object(M["a"])(t,[{key:"load",value:function(){this.bgInstanceLoaded?console.log("BGMusic: background music has already been loaded"):this.sound.registerSound("imgs/bgmusic.mp3",this.id)}},{key:"loadComplete",value:function(t){console.log("BGMusic: background music load complete! src: ".concat(t.src)),this.bgInstanceLoaded=!0,this.autoPlay&&this.play()}},{key:"play",value:function(){this.bgInstanceLoaded||console.log("BGMusic: background music has not been loaded yet, play quit!"),this.bgInstance=this.sound.play(this.id,{loop:-1})}},{key:"pause",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, pause quit!"),this.bgInstance.paused=!0}},{key:"resume",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, resume quit!"),this.bgInstance.paused=!1}},{key:"stop",value:function(){this.bgInstance||console.log("BGMusic: background music do not exist, stop quit!"),this.bgInstance.stop()}}]),t}(),I=R,x=(n("5490"),n("82ae")),C=n.n(x),D=n("c8d8"),N=n.n(D),O="http://tianmao2020.herdsric.com/share/getJsSignature.go",k={title:"天猫国际“空中预言家”双11超级战报",content:"全球趋势 我先知",img:"http://ifscdn.herdsric.com/tianmao2020/share.png",link:window.location.href},H=function(){C.a.get(O,{params:{url:window.location.href}}).then((function(t){var e=t.data.data;N.a.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.noncestr,signature:e.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]}),N.a.ready((function(){N.a.onMenuShareTimeline({title:k.title,desc:k.content,link:k.link,imgUrl:k.img}),N.a.onMenuShareAppMessage({title:k.title,desc:k.content,link:k.link,imgUrl:k.img})}))}))},U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"music-button",style:t.rotateAngleDeg,on:{click:t.musicButtonClick}})},q=[],B=1e3/60,V=1500,j={name:"MusicButton",data:function(){return{rotateAnglePerFrame:Math.round(360/V*B*100)/100,lastRotateTime:0,sharedState:window.store.state,rotateAngle:0,playingBg:"imgs/music-open.png",pausedBg:"imgs/music-open.png"}},computed:{rotateAngleDeg:function(){return{transform:"rotate(".concat(this.rotateAngle,"deg)"),"background-image":this.sharedState.backgrundMusicIsPlaying?this.playing:this.paused}},playing:function(){return"url(".concat(this.playingBg,")")},paused:function(){return"url(".concat(this.pausedBg,")")}},methods:{musicButtonClick:function(){this.sharedState.backgrundMusicIsPlaying?(window.store.setBackgroundMusicPause(),this.$emit("backgroundMusicPause")):(window.store.setBackgroundMusicPlaying(),this.$emit("backgroundMusicPlay"))},rotate:function(t){t-this.lastRotateTime>B&&(this.lastRotateTime=t,this.rotateAngle+=this.rotateAnglePerFrame,this.rotateAngle>360&&(this.rotateAngle-=360))},initRotate:function(){var t=new Date;this.sharedState.backgrundMusicIsPlaying&&this.rotate(t),requestAnimationFrame(this.initRotate)},init:function(){requestAnimationFrame(this.initRotate)}},mounted:function(){this.init()}},X=j,F=(n("93cf"),Object(g["a"])(X,U,q,!1,null,null,null)),Y=F.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showBgMusicHint?n("div",{staticClass:"hint-bg-music-box"},[n("div",{staticClass:"all-black"}),n("div",{staticClass:"dialog-container"},[n("p",[t._v("是否播放背景音乐")]),n("div",{staticClass:"border-split"}),n("div",{staticClass:"button-container"},[n("div",{staticClass:"confirm",on:{click:t.bgMusicConfirmHandler}},[t._v("是")]),n("div",{staticClass:"cancel",on:{click:t.bgMusicCancelHandler}},[t._v("否")])])])]):t._e()},W=[],J={name:"pagecommon",props:{showBgMusicHint:{type:Boolean,default:!1}},data:function(){return{}},methods:{bgMusicConfirmHandler:function(){this.$emit("confirm")},bgMusicCancelHandler:function(){this.$emit("cancel")}}},z=J,K=(n("d811"),Object(g["a"])(z,G,W,!1,null,"0c925704",null)),Q=K.exports,$={name:"music",components:{MusicButton:Y,BgMusicHint:Q},data:function(){return{backgroundMusicAutoPlay:!0,showBgMusicHint:!1,bgMusic:null,userAllowPlaying:!1,beforeDocumentVisibilityMusicPlaying:!1}},mounted:function(){this.backgroundMusicAutoPlay&&(this.initBackgroundMusic(),this.windowVisibility())},methods:{initBackgroundMusic:function(){var t=this;this.bgMusic=new I,u.output(),u.isWX?(document.addEventListener("WeixinJSBridgeReady",(function(){console.log("WeixinJSBridgeReady"),t.bgMusic.load(),window.store.setBackgroundMusicPlaying()}),!1),this.userAllowPlaying=!0,this.showBgMusicHint=!1,H()):(this.showBgMusicHint=!0,this.userAllowPlaying=!1)},musicTapPaused:function(){window.store.setBackgroundMusicPause(),this.bgMusic.pause()},musicTapPlaying:function(){this.userAllowPlaying?(window.store.setBackgroundMusicPlaying(),this.bgMusic.resume()):this.hintTapConfirm()},hintTapConfirm:function(){this.hintTapCancel(),this.bgMusic.load(),window.store.setBackgroundMusicPlaying(),this.userAllowPlaying=!0},hintTapCancel:function(){this.userAllowPlaying=!1,this.showBgMusicHint=!1},windowVisibility:function(){var t=this;document.addEventListener("visibilitychange",(function(){t.userAllowPlaying&&(document.hidden?window.store.state.backgrundMusicIsPlaying?(t.musicTapPaused(),t.beforeDocumentVisibilityMusicPlaying=!0):t.beforeDocumentVisibilityMusicPlaying=!1:t.beforeDocumentVisibilityMusicPlaying&&t.musicTapPlaying())}))}}},Z=$,tt=Object(g["a"])(Z,A,L,!1,null,"d63b9bfc",null),et=tt.exports,nt={name:"app",components:{PageLoading:S,MusicComponent:et},data:function(){return{globalState:window.store,vh:0}},computed:{appSizeComputed:function(){return{"--px-content-height":"".concat(this.vh,"px")}}},created:function(){this.resize(),window.onresize=this.resize},methods:{resize:function(){var t=l(),e=t.width,n=t.height,i=0,s=0;u.isPC?(s=.8*n,i=9*s/18):(i=e,s=n),this.vh=s,this.globalState.setContent({vw:i,vh:s})},handleLoadComplete:function(){}}},it=nt,st=(n("5c0b"),Object(g["a"])(it,o,a,!1,null,null,null)),ot=st.exports,at=(n("f548"),n("163d"),n("cc57"),n("9a33"),{});window.createjs?at=window.createjs:window.createjs=at,function(){var t=at.SoundJS=at.SoundJS||{};t.version="1.0.0",t.buildDate="Thu, 12 Oct 2017 16:34:05 GMT"}(),at.extend=function(t,e){function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},at.promote=function(t,e){var n=t.prototype,i=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(i)for(var s in n[(e+="_")+"constructor"]=i.constructor,i)n.hasOwnProperty(s)&&"function"==typeof i[s]&&(n[e+s]=i[s]);return t},at.deprecate=function(t,e){return function(){var n="Deprecated property or method '"+e+"'. See docs for info.";return console&&(console.warn?console.warn(n):console.log(n)),t&&t.apply(this,arguments)}},at.indexOf=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e===t[n])return n;return-1},function(){at.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}}}(),function(){function t(){throw"BrowserDetect cannot be instantiated"}var e=t.agent=window.navigator.userAgent;t.isWindowPhone=e.indexOf("IEMobile")>-1||e.indexOf("Windows Phone")>-1,t.isFirefox=e.indexOf("Firefox")>-1,t.isOpera=null!=window.opera,t.isChrome=e.indexOf("Chrome")>-1,t.isIOS=(e.indexOf("iPod")>-1||e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1)&&!t.isWindowPhone,t.isAndroid=e.indexOf("Android")>-1&&!t.isWindowPhone,t.isBlackberry=e.indexOf("Blackberry")>-1,at.BrowserDetect=t}(),function(){function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var i;i=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=i[t];return s&&this.removeEventListener(t,e,n),s=i[t],s?s.push(e):i[t]=[e],e},e.on=function(t,e,n,i,s,o){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,(function(t){e.call(n,t,s),i&&t.remove()}),o)},e.removeEventListener=function(t,e,n){var i=n?this._captureListeners:this._listeners;if(i){var s=i[t];if(s)for(var o=0,a=s.length;o<a;o++)if(s[o]==e){1==a?delete i[t]:s.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var i=this._listeners;if(!e&&(!i||!i[t]))return!0;t=new at.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(u){}if(t.bubbles&&this.parent){var s=this,o=[s];while(s.parent)o.push(s=s.parent);var a,r=o.length;for(a=r-1;a>=0&&!t.propagationStopped;a--)o[a]._dispatchEvent(t,1+(0==a));for(a=1;a<r&&!t.propagationStopped;a++)o[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){var e=this;while(e){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,i,s=e<=2?this._captureListeners:this._listeners;if(t&&s&&(i=s[t.type])&&(n=i.length)){try{t.currentTarget=this}catch(r){}try{t.eventPhase=0|e}catch(r){}t.removed=!1,i=i.slice();for(var o=0;o<n&&!t.immediatePropagationStopped;o++){var a=i[o];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}2===e&&this._dispatchEvent(t,2.1)},at.EventDispatcher=t}(),function(){function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},at.Event=t}(),function(){function t(t,e,n){this.Event_constructor("error"),this.title=t,this.message=e,this.data=n}var e=at.extend(t,at.Event);e.clone=function(){return new at.ErrorEvent(this.title,this.message,this.data)},at.ErrorEvent=at.promote(t,"Event")}(),function(t){function e(t,e){this.Event_constructor("progress"),this.loaded=t,this.total=null==e?1:e,this.progress=0==e?0:this.loaded/this.total}var n=at.extend(e,at.Event);n.clone=function(){return new at.ProgressEvent(this.loaded,this.total)},at.ProgressEvent=at.promote(e,"Event")}(window),function(){function t(){this.src=null,this.type=null,this.id=null,this.maintainOrder=!1,this.callback=null,this.data=null,this.method=at.Methods.GET,this.values=null,this.headers=null,this.withCredentials=!1,this.mimeType=null,this.crossOrigin=null,this.loadTimeout=n.LOAD_TIMEOUT_DEFAULT}var e=t.prototype={},n=t;n.LOAD_TIMEOUT_DEFAULT=8e3,n.create=function(e){if("string"==typeof e){var i=new t;return i.src=e,i}if(e instanceof n)return e;if(e instanceof Object&&e.src)return null==e.loadTimeout&&(e.loadTimeout=n.LOAD_TIMEOUT_DEFAULT),e;throw new Error("Type not recognized.")},e.set=function(t){for(var e in t)this[e]=t[e];return this},at.LoadItem=n}(),function(){var t={POST:"POST",GET:"GET"};at.Methods=t}(),function(){var t={BINARY:"binary",CSS:"css",FONT:"font",FONTCSS:"fontcss",IMAGE:"image",JAVASCRIPT:"javascript",JSON:"json",JSONP:"jsonp",MANIFEST:"manifest",SOUND:"sound",VIDEO:"video",SPRITESHEET:"spritesheet",SVG:"svg",TEXT:"text",XML:"xml"};at.Types=t}(),function(){var t={a:function(){return t.el("a")},svg:function(){return t.el("svg")},object:function(){return t.el("object")},image:function(){return t.el("image")},img:function(){return t.el("img")},style:function(){return t.el("style")},link:function(){return t.el("link")},script:function(){return t.el("script")},audio:function(){return t.el("audio")},video:function(){return t.el("video")},text:function(t){return document.createTextNode(t)},el:function(t){return document.createElement(t)}};at.Elements=t}(),function(){var t={container:null,appendToHead:function(e){t.getHead().appendChild(e)},appendToBody:function(e){if(null==t.container){t.container=document.createElement("div"),t.container.id="preloadjs-container";var n=t.container.style;n.visibility="hidden",n.position="absolute",n.width=t.container.style.height="10px",n.overflow="hidden",n.transform=n.msTransform=n.webkitTransform=n.oTransform="translate(-10px, -10px)",t.getBody().appendChild(t.container)}t.container.appendChild(e)},getHead:function(){return document.head||document.getElementsByTagName("head")[0]},getBody:function(){return document.body||document.getElementsByTagName("body")[0]},removeChild:function(t){t.parent&&t.parent.removeChild(t)},isImageTag:function(t){return t instanceof HTMLImageElement},isAudioTag:function(t){return!!window.HTMLAudioElement&&t instanceof HTMLAudioElement},isVideoTag:function(t){return!!window.HTMLVideoElement&&t instanceof HTMLVideoElement}};at.DomUtils=t}(),function(){var t={isBinary:function(t){switch(t){case at.Types.IMAGE:case at.Types.BINARY:return!0;default:return!1}},isText:function(t){switch(t){case at.Types.TEXT:case at.Types.JSON:case at.Types.MANIFEST:case at.Types.XML:case at.Types.CSS:case at.Types.SVG:case at.Types.JAVASCRIPT:case at.Types.SPRITESHEET:return!0;default:return!1}},getTypeByExtension:function(t){if(null==t)return at.Types.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return at.Types.IMAGE;case"ogg":case"mp3":case"webm":return at.Types.SOUND;case"mp4":case"ts":return at.Types.VIDEO;case"json":return at.Types.JSON;case"xml":return at.Types.XML;case"css":return at.Types.CSS;case"js":return at.Types.JAVASCRIPT;case"svg":return at.Types.SVG;default:return at.Types.TEXT}}};at.RequestUtils=t}(),function(){var t={ABSOLUTE_PATT:/^(?:\w+:)?\/{2}/i,RELATIVE_PATT:/^[./]*?\//i,EXTENSION_PATT:/\/?[^/]+\.(\w{1,5})$/i,parseURI:function(e){var n={absolute:!1,relative:!1,protocol:null,hostname:null,port:null,pathname:null,search:null,hash:null,host:null};if(null==e)return n;var i=at.Elements.a();for(var s in i.href=e,n)s in i&&(n[s]=i[s]);var o,a=e.indexOf("?");return a>-1&&(e=e.substr(0,a)),t.ABSOLUTE_PATT.test(e)?n.absolute=!0:t.RELATIVE_PATT.test(e)&&(n.relative=!0),(o=e.match(t.EXTENSION_PATT))&&(n.extension=o[1].toLowerCase()),n},formatQueryString:function(t,e){if(null==t)throw new Error("You must specify data.");var n=[];for(var i in t)n.push(i+"="+escape(t[i]));return e&&(n=n.concat(e)),n.join("&")},buildURI:function(t,e){if(null==e)return t;var n=[],i=t.indexOf("?");if(-1!=i){var s=t.slice(i+1);n=n.concat(s.split("&"))}return-1!=i?t.slice(0,i)+"?"+this.formatQueryString(e,n):t+"?"+this.formatQueryString(e,n)},isCrossDomain:function(t){var e=at.Elements.a();e.href=t.src;var n=at.Elements.a();n.href=location.href;var i=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname);return i},isLocal:function(t){var e=at.Elements.a();return e.href=t.src,""==e.hostname&&"file:"==e.protocol}};at.URLUtils=t}(),function(){function t(t,e,n){this.EventDispatcher_constructor(),this.loaded=!1,this.canceled=!1,this.progress=0,this.type=n,this.resultFormatter=null,this._item=t?at.LoadItem.create(t):null,this._preferXHR=e,this._result=null,this._rawResult=null,this._loadedItems=null,this._tagSrcAttribute=null,this._tag=null}var e=at.extend(t,at.EventDispatcher),n=t;try{Object.defineProperties(n,{POST:{get:at.deprecate((function(){return at.Methods.POST}),"AbstractLoader.POST")},GET:{get:at.deprecate((function(){return at.Methods.GET}),"AbstractLoader.GET")},BINARY:{get:at.deprecate((function(){return at.Types.BINARY}),"AbstractLoader.BINARY")},CSS:{get:at.deprecate((function(){return at.Types.CSS}),"AbstractLoader.CSS")},FONT:{get:at.deprecate((function(){return at.Types.FONT}),"AbstractLoader.FONT")},FONTCSS:{get:at.deprecate((function(){return at.Types.FONTCSS}),"AbstractLoader.FONTCSS")},IMAGE:{get:at.deprecate((function(){return at.Types.IMAGE}),"AbstractLoader.IMAGE")},JAVASCRIPT:{get:at.deprecate((function(){return at.Types.JAVASCRIPT}),"AbstractLoader.JAVASCRIPT")},JSON:{get:at.deprecate((function(){return at.Types.JSON}),"AbstractLoader.JSON")},JSONP:{get:at.deprecate((function(){return at.Types.JSONP}),"AbstractLoader.JSONP")},MANIFEST:{get:at.deprecate((function(){return at.Types.MANIFEST}),"AbstractLoader.MANIFEST")},SOUND:{get:at.deprecate((function(){return at.Types.SOUND}),"AbstractLoader.SOUND")},VIDEO:{get:at.deprecate((function(){return at.Types.VIDEO}),"AbstractLoader.VIDEO")},SPRITESHEET:{get:at.deprecate((function(){return at.Types.SPRITESHEET}),"AbstractLoader.SPRITESHEET")},SVG:{get:at.deprecate((function(){return at.Types.SVG}),"AbstractLoader.SVG")},TEXT:{get:at.deprecate((function(){return at.Types.TEXT}),"AbstractLoader.TEXT")},XML:{get:at.deprecate((function(){return at.Types.XML}),"AbstractLoader.XML")}})}catch(i){}e.getItem=function(){return this._item},e.getResult=function(t){return t?this._rawResult:this._result},e.getTag=function(){return this._tag},e.setTag=function(t){this._tag=t},e.load=function(){this._createRequest(),this._request.on("complete",this,this),this._request.on("progress",this,this),this._request.on("loadStart",this,this),this._request.on("abort",this,this),this._request.on("timeout",this,this),this._request.on("error",this,this);var t=new at.Event("initialize");t.loader=this._request,this.dispatchEvent(t),this._request.load()},e.cancel=function(){this.canceled=!0,this.destroy()},e.destroy=function(){this._request&&(this._request.removeAllEventListeners(),this._request.destroy()),this._request=null,this._item=null,this._rawResult=null,this._result=null,this._loadItems=null,this.removeAllEventListeners()},e.getLoadedItems=function(){return this._loadedItems},e._createRequest=function(){this._preferXHR?this._request=new at.XHRRequest(this._item):this._request=new at.TagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._createTag=function(t){return null},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new at.ProgressEvent(this.progress)):(e=t,this.progress=t.loaded/t.total,e.progress=this.progress,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){if(!this._isCanceled()){this.loaded=!0;var t=new at.Event("complete");t.rawResult=this._rawResult,null!=this._result&&(t.result=this._result),this.dispatchEvent(t)}},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new at.ErrorEvent("PRELOAD_ERROR_EMPTY")),this.dispatchEvent(t))},e._isCanceled=function(){return!(null!=window.createjs&&!this.canceled)},e.resultFormatter=null,e.handleEvent=function(t){switch(t.type){case"complete":this._rawResult=t.target._response;var e=this.resultFormatter&&this.resultFormatter(this);e instanceof Function?e.call(this,at.proxy(this._resultFormatSuccess,this),at.proxy(this._resultFormatFailed,this)):(this._result=e||this._rawResult,this._sendComplete());break;case"progress":this._sendProgress(t);break;case"error":this._sendError(t);break;case"loadstart":this._sendLoadStart();break;case"abort":case"timeout":this._isCanceled()||this.dispatchEvent(new at.ErrorEvent("PRELOAD_"+t.type.toUpperCase()+"_ERROR"));break}},e._resultFormatSuccess=function(t){this._result=t,this._sendComplete()},e._resultFormatFailed=function(t){this._sendError(t)},e.toString=function(){return"[PreloadJS AbstractLoader]"},at.AbstractLoader=at.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractLoader_constructor(t,e,n),this.resultFormatter=this._formatResult,this._tagSrcAttribute="src",this.on("initialize",this._updateXHR,this)}var e=at.extend(t,at.AbstractLoader);e.load=function(){this._tag||(this._tag=this._createTag(this._item.src)),this._tag.preload="auto",this._tag.load(),this.AbstractLoader_load()},e._createTag=function(){},e._createRequest=function(){this._preferXHR?this._request=new at.XHRRequest(this._item):this._request=new at.MediaTagRequest(this._item,this._tag||this._createTag(),this._tagSrcAttribute)},e._updateXHR=function(t){t.loader.setResponseType&&t.loader.setResponseType("blob")},e._formatResult=function(t){if(this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.onstalled=null,this._preferXHR){var e=window.URL||window.webkitURL,n=t.getResult(!0);t.getTag().src=e.createObjectURL(n)}return t.getTag()},at.AbstractMediaLoader=at.promote(t,"AbstractLoader")}(),function(){var t=function(t){this._item=t},e=at.extend(t,at.EventDispatcher);e.load=function(){},e.destroy=function(){},e.cancel=function(){},at.AbstractRequest=at.promote(t,"EventDispatcher")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=at.proxy(this._handleTagComplete,this),this._addedToDOM=!1}var e=at.extend(t,at.AbstractRequest);e.load=function(){this._tag.onload=at.proxy(this._handleTagComplete,this),this._tag.onreadystatechange=at.proxy(this._handleReadyStateChange,this),this._tag.onerror=at.proxy(this._handleError,this);var t=new at.Event("initialize");t.loader=this._tag,this.dispatchEvent(t),this._loadTimeout=setTimeout(at.proxy(this._handleTimeout,this),this._item.loadTimeout),this._tag[this._tagSrcAttribute]=this._item.src,null==this._tag.parentNode&&(at.DomUtils.appendToBody(this._tag),this._addedToDOM=!0)},e.destroy=function(){this._clean(),this._tag=null,this.AbstractRequest_destroy()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleError=function(){this._clean(),this.dispatchEvent("error")},e._handleTagComplete=function(){this._rawResult=this._tag,this._result=this.resultFormatter&&this.resultFormatter(this)||this._rawResult,this._clean(),this.dispatchEvent("complete")},e._handleTimeout=function(){this._clean(),this.dispatchEvent(new at.Event("timeout"))},e._clean=function(){this._tag.onload=null,this._tag.onreadystatechange=null,this._tag.onerror=null,this._addedToDOM&&null!=this._tag.parentNode&&this._tag.parentNode.removeChild(this._tag),clearTimeout(this._loadTimeout)},e._handleStalled=function(){},at.TagRequest=at.promote(t,"AbstractRequest")}(),function(){function t(t,e,n){this.AbstractRequest_constructor(t),this._tag=e,this._tagSrcAttribute=n,this._loadedHandler=at.proxy(this._handleTagComplete,this)}var e=at.extend(t,at.TagRequest);e.load=function(){var t=at.proxy(this._handleStalled,this);this._stalledCallback=t;var e=at.proxy(this._handleProgress,this);this._handleProgress=e,this._tag.addEventListener("stalled",t),this._tag.addEventListener("progress",e),this._tag.addEventListener&&this._tag.addEventListener("canplaythrough",this._loadedHandler,!1),this.TagRequest_load()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this._tag;"loaded"!=t.readyState&&"complete"!=t.readyState||this._handleTagComplete()},e._handleStalled=function(){},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new at.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._clean=function(){this._tag.removeEventListener&&this._tag.removeEventListener("canplaythrough",this._loadedHandler),this._tag.removeEventListener("stalled",this._stalledCallback),this._tag.removeEventListener("progress",this._progressCallback),this.TagRequest__clean()},at.MediaTagRequest=at.promote(t,"TagRequest")}(),function(){function t(t){this.AbstractRequest_constructor(t),this._request=null,this._loadTimeout=null,this._xhrLevel=1,this._response=null,this._rawResponse=null,this._canceled=!1,this._handleLoadStartProxy=at.proxy(this._handleLoadStart,this),this._handleProgressProxy=at.proxy(this._handleProgress,this),this._handleAbortProxy=at.proxy(this._handleAbort,this),this._handleErrorProxy=at.proxy(this._handleError,this),this._handleTimeoutProxy=at.proxy(this._handleTimeout,this),this._handleLoadProxy=at.proxy(this._handleLoad,this),this._handleReadyStateChangeProxy=at.proxy(this._handleReadyStateChange,this),this._createXHR(t)}var e=at.extend(t,at.AbstractRequest);t.ACTIVEX_VERSIONS=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null!=this._request){null!=this._request.addEventListener?(this._request.addEventListener("loadstart",this._handleLoadStartProxy,!1),this._request.addEventListener("progress",this._handleProgressProxy,!1),this._request.addEventListener("abort",this._handleAbortProxy,!1),this._request.addEventListener("error",this._handleErrorProxy,!1),this._request.addEventListener("timeout",this._handleTimeoutProxy,!1),this._request.addEventListener("load",this._handleLoadProxy,!1),this._request.addEventListener("readystatechange",this._handleReadyStateChangeProxy,!1)):(this._request.onloadstart=this._handleLoadStartProxy,this._request.onprogress=this._handleProgressProxy,this._request.onabort=this._handleAbortProxy,this._request.onerror=this._handleErrorProxy,this._request.ontimeout=this._handleTimeoutProxy,this._request.onload=this._handleLoadProxy,this._request.onreadystatechange=this._handleReadyStateChangeProxy),1==this._xhrLevel&&(this._loadTimeout=setTimeout(at.proxy(this._handleTimeout,this),this._item.loadTimeout));try{this._item.values?this._request.send(at.URLUtils.formatQueryString(this._item.values)):this._request.send()}catch(t){this.dispatchEvent(new at.ErrorEvent("XHR_SEND",null,t))}}else this._handleError()},e.setResponseType=function(t){"blob"===t&&(t=window.URL?"blob":"arraybuffer",this._responseType=t),this._request.responseType=t},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new at.ProgressEvent(t.loaded,t.total);this.dispatchEvent(e)}},e._handleLoadStart=function(t){clearTimeout(this._loadTimeout),this.dispatchEvent("loadstart")},e._handleAbort=function(t){this._clean(),this.dispatchEvent(new at.ErrorEvent("XHR_ABORTED",null,t))},e._handleError=function(t){this._clean(),this.dispatchEvent(new at.ErrorEvent(t.message))},e._handleReadyStateChange=function(t){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(t){if(!this.loaded){this.loaded=!0;var e=this._checkError();if(e)this._handleError(e);else{if(this._response=this._getResponse(),"arraybuffer"===this._responseType)try{this._response=new Blob([this._response])}catch(i){if(window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,"TypeError"===i.name&&window.BlobBuilder){var n=new BlobBuilder;n.append(this._response),this._response=n.getBlob()}}this._clean(),this.dispatchEvent(new at.Event("complete"))}}},e._handleTimeout=function(t){this._clean(),this.dispatchEvent(new at.ErrorEvent("PRELOAD_TIMEOUT",null,t))},e._checkError=function(){var t=parseInt(this._request.status);return t>=400&&t<=599?new Error(t):0==t&&/^https?:/.test(location.protocol)?new Error(0):null},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=at.URLUtils.isCrossDomain(t),n={},i=null;if(window.XMLHttpRequest)i=new XMLHttpRequest,e&&void 0===i.withCredentials&&window.XDomainRequest&&(i=new XDomainRequest);else{for(var o=0,a=s.ACTIVEX_VERSIONS.length;o<a;o++){var r=s.ACTIVEX_VERSIONS[o];try{i=new ActiveXObject(r);break}catch(c){}}if(null==i)return!1}null==t.mimeType&&at.RequestUtils.isText(t.type)&&(t.mimeType="text/plain; charset=utf-8"),t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),this._xhrLevel="string"===typeof i.responseType?2:1;var u=null;if(u=t.method==at.Methods.GET?at.URLUtils.buildURI(t.src,t.values):t.src,i.open(t.method||at.Methods.GET,u,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&(n["Origin"]=location.origin),t.values&&t.method==at.Methods.POST&&(n["Content-Type"]="application/x-www-form-urlencoded"),e||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),t.headers)for(var l in t.headers)n[l]=t.headers[l];for(l in n)i.setRequestHeader(l,n[l]);return i instanceof XMLHttpRequest&&void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout),null!=this._request.removeEventListener?(this._request.removeEventListener("loadstart",this._handleLoadStartProxy),this._request.removeEventListener("progress",this._handleProgressProxy),this._request.removeEventListener("abort",this._handleAbortProxy),this._request.removeEventListener("error",this._handleErrorProxy),this._request.removeEventListener("timeout",this._handleTimeoutProxy),this._request.removeEventListener("load",this._handleLoadProxy),this._request.removeEventListener("readystatechange",this._handleReadyStateChangeProxy)):(this._request.onloadstart=null,this._request.onprogress=null,this._request.onabort=null,this._request.onerror=null,this._request.ontimeout=null,this._request.onload=null,this._request.onreadystatechange=null)},e.toString=function(){return"[PreloadJS XHRRequest]"},at.XHRRequest=at.promote(t,"AbstractRequest")}(),function(){function t(t,e){this.AbstractMediaLoader_constructor(t,e,at.Types.SOUND),at.DomUtils.isAudioTag(t)||at.DomUtils.isAudioTag(t.src)?this._tag=t:at.DomUtils.isAudioTag(t.tag)&&(this._tag=at.DomUtils.isAudioTag(t)?t:t.src),null!=this._tag&&(this._preferXHR=!1)}var e=at.extend(t,at.AbstractMediaLoader),n=t;n.canLoadItem=function(t){return t.type==at.Types.SOUND},e._createTag=function(t){var e=at.Elements.audio();return e.autoplay=!1,e.preload="none",e.src=t,e},at.SoundLoader=at.promote(t,"AbstractMediaLoader")}(),function(){var t=function(){this.interrupt=null,this.delay=null,this.offset=null,this.loop=null,this.volume=null,this.pan=null,this.startTime=null,this.duration=null},e=t.prototype={},n=t;n.create=function(t){if("string"===typeof t)return console&&(console.warn||console.log)("Deprecated behaviour. Sound.play takes a configuration object instead of individual arguments. See docs for info."),(new at.PlayPropsConfig).set({interrupt:t});if(null==t||t instanceof n||t instanceof Object)return(new at.PlayPropsConfig).set(t);if(null==t)throw new Error("PlayProps configuration not recognized.")},e.set=function(t){if(null!=t)for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[PlayPropsConfig]"},at.PlayPropsConfig=n}(),function(){function t(){throw"Sound cannot be instantiated"}var e=t;function n(t,e){this.init(t,e)}e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS=["mp3","ogg","opus","mpeg","wav","m4a","mp4","aiff","wma","mid"],e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.alternateExtensions=[],e.activePlugin=null,e._masterVolume=1,e._getMasterVolume=function(){return this._masterVolume},e.getVolume=at.deprecate(e._getMasterVolume,"Sound.getVolume"),e._setMasterVolume=function(t){if(null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),e._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t)))for(var n=this._instances,i=0,s=n.length;i<s;i++)n[i].setMasterVolume(t)},e.setVolume=at.deprecate(e._setMasterVolume,"Sound.setVolume"),e._masterMute=!1,e._getMute=function(){return this._masterMute},e.getMute=at.deprecate(e._getMute,"Sound.getMute"),e._setMute=function(t){if(null!=t&&(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t)))for(var e=this._instances,n=0,i=e.length;n<i;n++)e[n].setMasterMute(t)},e.setMute=at.deprecate(e._setMute,"Sound.setMute"),e._getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin._capabilities},e.getCapabilities=at.deprecate(e._getCapabilities,"Sound.getCapabilities"),Object.defineProperties(e,{volume:{get:e._getMasterVolume,set:e._setMasterVolume},muted:{get:e._getMute,set:e._setMute},capabilities:{get:e._getCapabilities}}),e._pluginsRegistered=!1,e._lastID=0,e._instances=[],e._idHash={},e._preloadHash={},e._defaultPlayPropsHash={},e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,at.EventDispatcher.initialize(e),e.getPreloadHandlers=function(){return{callback:at.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e._handleLoadComplete=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];if(e._preloadHash[n][i]=!0,e.hasEventListener("fileload")){var a=new at.Event("fileload");a.src=o.src,a.id=o.id,a.data=o.data,a.sprite=o.sprite,e.dispatchEvent(a)}}},e._handleLoadError=function(t){var n=t.target.getItem().src;if(e._preloadHash[n])for(var i=0,s=e._preloadHash[n].length;i<s;i++){var o=e._preloadHash[n][i];if(e._preloadHash[n][i]=!1,e.hasEventListener("fileerror")){var a=new at.Event("fileerror");a.src=o.src,a.id=o.id,a.data=o.data,a.sprite=o.sprite,e.dispatchEvent(a)}}},e._registerPlugin=function(t){return!!t.isSupported()&&(e.activePlugin=new t,!0)},e.registerPlugins=function(t){e._pluginsRegistered=!0;for(var n=0,i=t.length;n<i;n++)if(e._registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin||!e._pluginsRegistered&&!!e.registerPlugins([at.WebAudioPlugin,at.HTMLAudioPlugin])},e.isReady=function(){return null!=e.activePlugin},e.initLoad=function(t){return"video"==t.type||e._registerSound(t)},e._registerSound=function(t){if(!e.initializeDefaultPlugins())return!1;var i;if(t.src instanceof Object?(i=e._parseSrc(t.src),i.src=t.path+i.src):i=e._parsePath(t.src),null==i)return!1;t.src=i.src,t.type="sound";var s=t.data,o=null;if(null!=s&&(isNaN(s.channels)?isNaN(s)||(o=parseInt(s)):o=parseInt(s.channels),s.audioSprite))for(var a,r=s.audioSprite.length;r--;)a=s.audioSprite[r],e._idHash[a.id]={src:t.src,startTime:parseInt(a.startTime),duration:parseInt(a.duration)},a.defaultPlayProps&&(e._defaultPlayPropsHash[a.id]=at.PlayPropsConfig.create(a.defaultPlayProps));null!=t.id&&(e._idHash[t.id]={src:t.src});var u=e.activePlugin.register(t);return n.create(t.src,o),null!=s&&isNaN(s)?t.data.channels=o||n.maxPerChannel():t.data=o||n.maxPerChannel(),u.type&&(t.type=u.type),t.defaultPlayProps&&(e._defaultPlayPropsHash[t.src]=at.PlayPropsConfig.create(t.defaultPlayProps)),u},e.registerSound=function(t,n,i,s,o){var a={src:t,id:n,data:i,defaultPlayProps:o};t instanceof Object&&t.src&&(s=n,a=t),a=at.LoadItem.create(a),a.path=s,null==s||a.src instanceof Object||(a.src=s+a.src);var r=e._registerSound(a);if(!r)return!1;if(e._preloadHash[a.src]||(e._preloadHash[a.src]=[]),e._preloadHash[a.src].push(a),1==e._preloadHash[a.src].length)r.on("complete",this._handleLoadComplete,this),r.on("error",this._handleLoadError,this),e.activePlugin.preload(r);else if(1==e._preloadHash[a.src][0])return!0;return a},e.registerSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=at.Sound.registerSound(t[i].src,t[i].id,t[i].data,e,t[i].defaultPlayProps);return n},e.removeSound=function(t,i){if(null==e.activePlugin)return!1;var s;if(t instanceof Object&&t.src&&(t=t.src),t instanceof Object?s=e._parseSrc(t):(t=e._getSrcById(t).src,s=e._parsePath(t)),null==s)return!1;for(var o in t=s.src,null!=i&&(t=i+t),e._idHash)e._idHash[o].src==t&&delete e._idHash[o];return n.removeSrc(t),delete e._preloadHash[t],e.activePlugin.removeSound(t),!0},e.removeSounds=function(t,e){var n=[];t.path&&(e?e+=t.path:e=t.path,t=t.manifest);for(var i=0,s=t.length;i<s;i++)n[i]=at.Sound.removeSound(t[i].src,e);return n},e.removeAllSounds=function(){e._idHash={},e._preloadHash={},n.removeAll(),e.activePlugin&&e.activePlugin.removeAllSounds()},e.loadComplete=function(t){if(!e.isReady())return!1;var n=e._parsePath(t);return t=n?e._getSrcById(n.src).src:e._getSrcById(t).src,void 0!=e._preloadHash[t]&&1==e._preloadHash[t][0]},e._parsePath=function(t){"string"!=typeof t&&(t=t.toString());var n=t.match(e.FILE_PATTERN);if(null==n)return!1;var i=n[4],s=n[5],o=e.capabilities,a=0;while(!o[s])if(s=e.alternateExtensions[a++],a>e.alternateExtensions.length)return null;t=t.replace("."+n[5],"."+s);var r={name:i,src:t,extension:s};return r},e._parseSrc=function(t){var n={name:void 0,src:void 0,extension:void 0},i=e.capabilities;for(var s in t)if(t.hasOwnProperty(s)&&i[s]){n.src=t[s],n.extension=s;break}if(!n.src)return!1;var o=n.src.lastIndexOf("/");return n.name=-1!=o?n.src.slice(o+1):n.src,n},e.play=function(t,n){var i=at.PlayPropsConfig.create(n),s=e.createInstance(t,i.startTime,i.duration),o=e._playInstance(s,i);return o||s._playFailed(),s},e.createInstance=function(t,i,s){if(!e.initializeDefaultPlugins())return new at.DefaultSoundInstance(t,i,s);var o=e._defaultPlayPropsHash[t];t=e._getSrcById(t);var a=e._parsePath(t.src),r=null;return null!=a&&null!=a.src?(n.create(a.src),null==i&&(i=t.startTime),r=e.activePlugin.create(a.src,i,s||t.duration),o=o||e._defaultPlayPropsHash[a.src],o&&r.applyPlayProps(o)):r=new at.DefaultSoundInstance(t,i,s),r.uniqueId=e._lastID++,r},e.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},e.setDefaultPlayProps=function(t,n){t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]=at.PlayPropsConfig.create(n)},e.getDefaultPlayProps=function(t){return t=e._getSrcById(t),e._defaultPlayPropsHash[e._parsePath(t.src).src]},e._playInstance=function(t,n){var i=e._defaultPlayPropsHash[t.src]||{};if(null==n.interrupt&&(n.interrupt=i.interrupt||e.defaultInterruptBehavior),null==n.delay&&(n.delay=i.delay||0),null==n.offset&&(n.offset=t.position),null==n.loop&&(n.loop=t.loop),null==n.volume&&(n.volume=t.volume),null==n.pan&&(n.pan=t.pan),0==n.delay){var s=e._beginPlaying(t,n);if(!s)return!1}else{var o=setTimeout((function(){e._beginPlaying(t,n)}),n.delay);t.delayTimeoutId=o}return this._instances.push(t),!0},e._beginPlaying=function(t,e){if(!n.add(t,e.interrupt))return!1;var i=t._beginPlaying(e);if(!i){var s=at.indexOf(this._instances,t);return s>-1&&this._instances.splice(s,1),!1}return!0},e._getSrcById=function(t){return e._idHash[t]||{src:t}},e._playFinished=function(t){n.remove(t);var e=at.indexOf(this._instances,t);e>-1&&this._instances.splice(e,1)},at.Sound=t,n.channels={},n.create=function(t,e){var i=n.get(t);return null==i&&(n.channels[t]=new n(t,e),!0)},n.removeSrc=function(t){var e=n.get(t);return null!=e&&(e._removeAll(),delete n.channels[t],!0)},n.removeAll=function(){for(var t in n.channels)n.channels[t]._removeAll();n.channels={}},n.add=function(t,e){var i=n.get(t.src);return null!=i&&i._add(t,e)},n.remove=function(t){var e=n.get(t.src);return null!=e&&(e._remove(t),!0)},n.maxPerChannel=function(){return i.maxDefault},n.get=function(t){return n.channels[t]};var i=n.prototype;i.constructor=n,i.src=null,i.max=null,i.maxDefault=100,i.length=0,i.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},i._get=function(t){return this._instances[t]},i._add=function(t,e){return!!this._getSlot(e,t)&&(this._instances.push(t),this.length++,!0)},i._remove=function(t){var e=at.indexOf(this._instances,t);return-1!=e&&(this._instances.splice(e,1),this.length--,!0)},i._removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},i._getSlot=function(e,n){var i,s;if(e!=t.INTERRUPT_NONE&&(s=this._get(0),null==s))return!0;for(var o=0,a=this.max;o<a;o++){if(i=this._get(o),null==i)return!0;if(i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED){s=i;break}e!=t.INTERRUPT_NONE&&((e==t.INTERRUPT_EARLY&&i.position<s.position||e==t.INTERRUPT_LATE&&i.position>s.position)&&(s=i))}return null!=s&&(s._interrupt(),this._remove(s),!0)},i.toString=function(){return"[Sound SoundChannel]"}}(),function(){var t=function(t,e,n,i){this.EventDispatcher_constructor(),this.src=t,this.uniqueId=-1,this.playState=null,this.delayTimeoutId=null,this._volume=1,Object.defineProperty(this,"volume",{get:this._getVolume,set:this._setVolume}),this.getVolume=at.deprecate(this._getVolume,"AbstractSoundInstance.getVolume"),this.setVolume=at.deprecate(this._setVolume,"AbstractSoundInstance.setVolume"),this._pan=0,Object.defineProperty(this,"pan",{get:this._getPan,set:this._setPan}),this.getPan=at.deprecate(this._getPan,"AbstractSoundInstance.getPan"),this.setPan=at.deprecate(this._setPan,"AbstractSoundInstance.setPan"),this._startTime=Math.max(0,e||0),Object.defineProperty(this,"startTime",{get:this._getStartTime,set:this._setStartTime}),this.getStartTime=at.deprecate(this._getStartTime,"AbstractSoundInstance.getStartTime"),this.setStartTime=at.deprecate(this._setStartTime,"AbstractSoundInstance.setStartTime"),this._duration=Math.max(0,n||0),Object.defineProperty(this,"duration",{get:this._getDuration,set:this._setDuration}),this.getDuration=at.deprecate(this._getDuration,"AbstractSoundInstance.getDuration"),this.setDuration=at.deprecate(this._setDuration,"AbstractSoundInstance.setDuration"),this._playbackResource=null,Object.defineProperty(this,"playbackResource",{get:this._getPlaybackResource,set:this._setPlaybackResource}),!1!==i&&!0!==i&&this._setPlaybackResource(i),this.getPlaybackResource=at.deprecate(this._getPlaybackResource,"AbstractSoundInstance.getPlaybackResource"),this.setPlaybackResource=at.deprecate(this._setPlaybackResource,"AbstractSoundInstance.setPlaybackResource"),this._position=0,Object.defineProperty(this,"position",{get:this._getPosition,set:this._setPosition}),this.getPosition=at.deprecate(this._getPosition,"AbstractSoundInstance.getPosition"),this.setPosition=at.deprecate(this._setPosition,"AbstractSoundInstance.setPosition"),this._loop=0,Object.defineProperty(this,"loop",{get:this._getLoop,set:this._setLoop}),this.getLoop=at.deprecate(this._getLoop,"AbstractSoundInstance.getLoop"),this.setLoop=at.deprecate(this._setLoop,"AbstractSoundInstance.setLoop"),this._muted=!1,Object.defineProperty(this,"muted",{get:this._getMuted,set:this._setMuted}),this.getMuted=at.deprecate(this._getMuted,"AbstractSoundInstance.getMuted"),this.setMuted=at.deprecate(this._setMuted,"AbstractSoundInstance.setMuted"),this._paused=!1,Object.defineProperty(this,"paused",{get:this._getPaused,set:this._setPaused}),this.getPaused=at.deprecate(this._getPaused,"AbstractSoundInstance.getPaused"),this.setPaused=at.deprecate(this._setPaused,"AbstractSoundInstance.setPaused")},e=at.extend(t,at.EventDispatcher);e.play=function(t){var e=at.PlayPropsConfig.create(t);return this.playState==at.Sound.PLAY_SUCCEEDED?(this.applyPlayProps(e),void(this._paused&&this._setPaused(!1))):(this._cleanUp(),at.Sound._playInstance(this,e),this)},e.stop=function(){return this._position=0,this._paused=!1,this._handleStop(),this._cleanUp(),this.playState=at.Sound.PLAY_FINISHED,this},e.destroy=function(){this._cleanUp(),this.src=null,this.playbackResource=null,this.removeAllEventListeners()},e.applyPlayProps=function(t){return null!=t.offset&&this._setPosition(t.offset),null!=t.loop&&this._setLoop(t.loop),null!=t.volume&&this._setVolume(t.volume),null!=t.pan&&this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),this},e.toString=function(){return"[AbstractSoundInstance]"},e._getPaused=function(){return this._paused},e._setPaused=function(t){if((!0===t||!1===t)&&this._paused!=t&&(1!=t||this.playState==at.Sound.PLAY_SUCCEEDED))return this._paused=t,t?this._pause():this._resume(),clearTimeout(this.delayTimeoutId),this},e._setVolume=function(t){return t==this._volume||(this._volume=Math.max(0,Math.min(1,t)),this._muted||this._updateVolume()),this},e._getVolume=function(){return this._volume},e._setMuted=function(t){if(!0===t||!1===t)return this._muted=t,this._updateVolume(),this},e._getMuted=function(){return this._muted},e._setPan=function(t){return t==this._pan||(this._pan=Math.max(-1,Math.min(1,t)),this._updatePan()),this},e._getPan=function(){return this._pan},e._getPosition=function(){return this._paused||this.playState!=at.Sound.PLAY_SUCCEEDED||(this._position=this._calculateCurrentPosition()),this._position},e._setPosition=function(t){return this._position=Math.max(0,t),this.playState==at.Sound.PLAY_SUCCEEDED&&this._updatePosition(),this},e._getStartTime=function(){return this._startTime},e._setStartTime=function(t){return t==this._startTime||(this._startTime=Math.max(0,t||0),this._updateStartTime()),this},e._getDuration=function(){return this._duration},e._setDuration=function(t){return t==this._duration||(this._duration=Math.max(0,t||0),this._updateDuration()),this},e._setPlaybackResource=function(t){return this._playbackResource=t,0==this._duration&&this._playbackResource&&this._setDurationFromSource(),this},e._getPlaybackResource=function(){return this._playbackResource},e._getLoop=function(){return this._loop},e._setLoop=function(t){null!=this._playbackResource&&(0!=this._loop&&0==t?this._removeLooping(t):0==this._loop&&0!=t&&this._addLooping(t)),this._loop=t},e._sendEvent=function(t){var e=new at.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){clearTimeout(this.delayTimeoutId),this._handleCleanUp(),this._paused=!1,at.Sound._playFinished(this)},e._interrupt=function(){this._cleanUp(),this.playState=at.Sound.PLAY_INTERRUPTED,this._sendEvent("interrupted")},e._beginPlaying=function(t){return this._setPosition(t.offset),this._setLoop(t.loop),this._setVolume(t.volume),this._setPan(t.pan),null!=t.startTime&&(this._setStartTime(t.startTime),this._setDuration(t.duration)),null!=this._playbackResource&&this._position<this._duration?(this._paused=!1,this._handleSoundReady(),this.playState=at.Sound.PLAY_SUCCEEDED,this._sendEvent("succeeded"),!0):(this._playFailed(),!1)},e._playFailed=function(){this._cleanUp(),this.playState=at.Sound.PLAY_FAILED,this._sendEvent("failed")},e._handleSoundComplete=function(t){if(this._position=0,0!=this._loop)return this._loop--,this._handleLoop(),void this._sendEvent("loop");this._cleanUp(),this.playState=at.Sound.PLAY_FINISHED,this._sendEvent("complete")},e._handleSoundReady=function(){},e._updateVolume=function(){},e._updatePan=function(){},e._updateStartTime=function(){},e._updateDuration=function(){},e._setDurationFromSource=function(){},e._calculateCurrentPosition=function(){},e._updatePosition=function(){},e._removeLooping=function(t){},e._addLooping=function(t){},e._pause=function(){},e._resume=function(){},e._handleStop=function(){},e._handleCleanUp=function(){},e._handleLoop=function(){},at.AbstractSoundInstance=at.promote(t,"EventDispatcher"),at.DefaultSoundInstance=at.AbstractSoundInstance}(),function(){var t=function(){this._capabilities=null,this._loaders={},this._audioSources={},this._soundInstances={},this._volume=1,this._loaderClass,this._soundInstanceClass},e=t.prototype;t._capabilities=null,t.isSupported=function(){return!0},e.register=function(t){var e=this._loaders[t.src];return e&&!e.canceled?this._loaders[t.src]:(this._audioSources[t.src]=!0,this._soundInstances[t.src]=[],e=new this._loaderClass(t),e.on("complete",this._handlePreloadComplete,this),this._loaders[t.src]=e,e)},e.preload=function(t){t.on("error",this._handlePreloadError,this),t.load()},e.isPreloadStarted=function(t){return null!=this._audioSources[t]},e.isPreloadComplete=function(t){return!(null==this._audioSources[t]||1==this._audioSources[t])},e.removeSound=function(t){if(this._soundInstances[t]){for(var e=this._soundInstances[t].length;e--;){var n=this._soundInstances[t][e];n.destroy()}delete this._soundInstances[t],delete this._audioSources[t],this._loaders[t]&&this._loaders[t].destroy(),delete this._loaders[t]}},e.removeAllSounds=function(){for(var t in this._audioSources)this.removeSound(t)},e.create=function(t,e,n){this.isPreloadStarted(t)||this.preload(this.register(t));var i=new this._soundInstanceClass(t,e,n,this._audioSources[t]);return this._soundInstances[t]&&this._soundInstances[t].push(i),i.setMasterVolume&&i.setMasterVolume(at.Sound.volume),i.setMasterMute&&i.setMasterMute(at.Sound.muted),i},e.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},e.getVolume=function(){return this._volume},e.setMute=function(t){return this._updateVolume(),!0},e.toString=function(){return"[AbstractPlugin]"},e._handlePreloadComplete=function(t){var e=t.target.getItem().src;this._audioSources[e]=t.result;for(var n=0,i=this._soundInstances[e].length;n<i;n++){var s=this._soundInstances[e][n];s.playbackResource=this._audioSources[e],this._soundInstances[e]=null}},e._handlePreloadError=function(t){},e._updateVolume=function(){},at.AbstractPlugin=t}(),function(){function t(t){this.AbstractLoader_constructor(t,!0,at.Types.SOUND)}var e=at.extend(t,at.AbstractLoader);t.context=null,e.toString=function(){return"[WebAudioLoader]"},e._createRequest=function(){this._request=new at.XHRRequest(this._item,!1),this._request.setResponseType("arraybuffer")},e._sendComplete=function(e){t.context.decodeAudioData(this._rawResult,at.proxy(this._handleAudioDecoded,this),at.proxy(this._sendError,this))},e._handleAudioDecoded=function(t){this._result=t,this.AbstractLoader__sendComplete()},at.WebAudioLoader=at.promote(t,"AbstractLoader")}(),function(){function t(t,e,i,s){this.AbstractSoundInstance_constructor(t,e,i,s),this.gainNode=n.context.createGain(),this.panNode=n.context.createPanner(),this.panNode.panningModel=n._panningModel,this.panNode.connect(this.gainNode),this._updatePan(),this.sourceNode=null,this._soundCompleteTimeout=null,this._sourceNodeNext=null,this._playbackStartTime=0,this._endedHandler=at.proxy(this._handleSoundComplete,this)}var e=at.extend(t,at.AbstractSoundInstance),n=t;n.context=null,n._scratchBuffer=null,n.destinationNode=null,n._panningModel="equalpower",e.destroy=function(){this.AbstractSoundInstance_destroy(),this.panNode.disconnect(0),this.panNode=null,this.gainNode.disconnect(0),this.gainNode=null},e.toString=function(){return"[WebAudioSoundInstance]"},e._updatePan=function(){this.panNode.setPosition(this._pan,0,-.5)},e._removeLooping=function(t){this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)},e._addLooping=function(t){this.playState==at.Sound.PLAY_SUCCEEDED&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._setDurationFromSource=function(){this._duration=1e3*this.playbackResource.duration},e._handleCleanUp=function(){this.sourceNode&&this.playState==at.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout),this._playbackStartTime=0},e._cleanUpAudioNode=function(t){if(t){if(t.stop(0),t.disconnect(0),at.BrowserDetect.isIOS)try{t.buffer=n._scratchBuffer}catch(e){}t=null}return t},e._handleSoundReady=function(t){this.gainNode.connect(n.destinationNode);var e=.001*this._duration,i=Math.min(.001*Math.max(0,this._position),e);this.sourceNode=this._createAndPlayAudioNode(n.context.currentTime-e,i),this._playbackStartTime=this.sourceNode.startTime-i,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(e-i)),0!=this._loop&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0))},e._createAndPlayAudioNode=function(t,e){var i=n.context.createBufferSource();i.buffer=this.playbackResource,i.connect(this.panNode);var s=.001*this._duration;return i.startTime=t+s,i.start(i.startTime,e+.001*this._startTime,s-e),i},e._pause=function(){this._position=1e3*(n.context.currentTime-this._playbackStartTime),this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._soundCompleteTimeout)},e._resume=function(){this._handleSoundReady()},e._updateVolume=function(){var t=this._muted?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},e._calculateCurrentPosition=function(){return 1e3*(n.context.currentTime-this._playbackStartTime)},e._updatePosition=function(){this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout),this._paused||this._handleSoundReady()},e._handleLoop=function(){this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._playbackStartTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._playbackStartTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)},e._updateDuration=function(){this.playState==at.Sound.PLAY_SUCCEEDED&&(this._pause(),this._resume())},at.WebAudioSoundInstance=at.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._panningModel=n._panningModel,this.context=n.context,this.dynamicsCompressorNode=this.context.createDynamicsCompressor(),this.dynamicsCompressorNode.connect(this.context.destination),this.gainNode=this.context.createGain(),this.gainNode.connect(this.dynamicsCompressorNode),at.WebAudioSoundInstance.destinationNode=this.gainNode,this._capabilities=n._capabilities,this._loaderClass=at.WebAudioLoader,this._soundInstanceClass=at.WebAudioSoundInstance,this._addPropsToClasses()}var e=at.extend(t,at.AbstractPlugin),n=t;n._capabilities=null,n._panningModel="equalpower",n.context=null,n._scratchBuffer=null,n._unlocked=!1,n.DEFAULT_SAMPLE_RATE=44100,n.isSupported=function(){var t=at.BrowserDetect.isIOS||at.BrowserDetect.isAndroid||at.BrowserDetect.isBlackberry;return!("file:"==location.protocol&&!t&&!this._isFileXHRSupported())&&(n._generateCapabilities(),null!=n.context)},n.playEmptySound=function(){if(null!=n.context){var t=n.context.createBufferSource();t.buffer=n._scratchBuffer,t.connect(n.context.destination),t.start(0,0,0)}},n._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","WebAudioPluginTest.fail",!1)}catch(n){return t=!1,t}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(n){t=!1}return t},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(null==n.context&&(n.context=n._createAudioContext(),null==n.context))return null;null==n._scratchBuffer&&(n._scratchBuffer=n.context.createBuffer(1,1,22050)),n._compatibilitySetUp(),"ontouchstart"in window&&"running"!=n.context.state&&(n._unlock(),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchstart",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n._capabilities={panning:!0,volume:!0,tracks:-1};for(var e=at.Sound.SUPPORTED_EXTENSIONS,i=at.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var a=e[s],r=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}n.context.destination.numberOfChannels<2&&(n._capabilities.panning=!1)}},n._createAudioContext=function(){var t=window.AudioContext||window.webkitAudioContext;if(null==t)return null;var e=new t;if(/(iPhone|iPad)/i.test(navigator.userAgent)&&e.sampleRate!==n.DEFAULT_SAMPLE_RATE){var i=e.createBuffer(1,1,n.DEFAULT_SAMPLE_RATE),s=e.createBufferSource();s.buffer=i,s.connect(e.destination),s.start(0),s.disconnect(),e.close(),e=new t}return e},n._compatibilitySetUp=function(){if(n._panningModel="equalpower",!n.context.createGain){n.context.createGain=n.context.createGainNode;var t=n.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,n._panningModel=0}},n._unlock=function(){n._unlocked||(n.playEmptySound(),"running"==n.context.state&&(document.removeEventListener("mousedown",n._unlock,!0),document.removeEventListener("touchend",n._unlock,!0),document.removeEventListener("touchstart",n._unlock,!0),n._unlocked=!0))},e.toString=function(){return"[WebAudioPlugin]"},e._addPropsToClasses=function(){var t=this._soundInstanceClass;t.context=this.context,t._scratchBuffer=n._scratchBuffer,t.destinationNode=this.gainNode,t._panningModel=this._panningModel,this._loaderClass.context=this.context},e._updateVolume=function(){var t=at.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},at.WebAudioPlugin=at.promote(t,"AbstractPlugin")}(),function(){function t(){throw"HTMLAudioTagPool cannot be instantiated"}var e=t;function n(t){this._tags=[]}e._tags={},e._tagPool=new n,e._tagUsed={},e.get=function(t){var n=e._tags[t];return null==n?(n=e._tags[t]=e._tagPool.get(),n.src=t):e._tagUsed[t]?(n=e._tagPool.get(),n.src=t):e._tagUsed[t]=!0,n},e.set=function(t,n){n==e._tags[t]?e._tagUsed[t]=!1:e._tagPool.set(n)},e.remove=function(t){var n=e._tags[t];return null!=n&&(e._tagPool.set(n),delete e._tags[t],delete e._tagUsed[t],!0)},e.getDuration=function(t){var n=e._tags[t];return null!=n&&n.duration?1e3*n.duration:0},at.HTMLAudioTagPool=t;var i=n.prototype;i.constructor=n,i.get=function(){var t;return t=0==this._tags.length?this._createTag():this._tags.pop(),null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=at.indexOf(this._tags,t);-1==e&&(this._tags.src=null,this._tags.push(t))},i.toString=function(){return"[TagPool]"},i._createTag=function(){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t}}(),function(){function t(t,e,n,i){this.AbstractSoundInstance_constructor(t,e,n,i),this._audioSpriteStopTime=null,this._delayTimeoutId=null,this._endedHandler=at.proxy(this._handleSoundComplete,this),this._readyHandler=at.proxy(this._handleTagReady,this),this._stalledHandler=at.proxy(this._playFailed,this),this._audioSpriteEndHandler=at.proxy(this._handleAudioSpriteLoop,this),this._loopHandler=at.proxy(this._handleSoundComplete,this),n?this._audioSpriteStopTime=.001*(e+n):this._duration=at.HTMLAudioTagPool.getDuration(this.src)}var e=at.extend(t,at.AbstractSoundInstance);e.setMasterVolume=function(t){this._updateVolume()},e.setMasterMute=function(t){this._updateVolume()},e.toString=function(){return"[HTMLAudioSoundInstance]"},e._removeLooping=function(){null!=this._playbackResource&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._addLooping=function(){null==this._playbackResource||this._audioSpriteStopTime||(this._playbackResource.addEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)},e._handleCleanUp=function(){var t=this._playbackResource;if(null!=t){t.pause(),t.loop=!1,t.removeEventListener(at.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(at.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(at.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),t.removeEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),t.removeEventListener(at.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1);try{t.currentTime=this._startTime}catch(e){}at.HTMLAudioTagPool.set(this.src,t),this._playbackResource=null}},e._beginPlaying=function(t){return this._playbackResource=at.HTMLAudioTagPool.get(this.src),this.AbstractSoundInstance__beginPlaying(t)},e._handleSoundReady=function(t){if(4!==this._playbackResource.readyState){var e=this._playbackResource;return e.addEventListener(at.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(at.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",void e.load()}this._updateVolume(),this._playbackResource.currentTime=.001*(this._startTime+this._position),this._audioSpriteStopTime?this._playbackResource.addEventListener(at.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1):(this._playbackResource.addEventListener(at.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),0!=this._loop&&(this._playbackResource.addEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.loop=!0)),this._playbackResource.play()},e._handleTagReady=function(t){this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),this._handleSoundReady()},e._pause=function(){this._playbackResource.pause()},e._resume=function(){this._playbackResource.play()},e._updateVolume=function(){if(null!=this._playbackResource){var t=this._muted||at.Sound._masterMute?0:this._volume*at.Sound._masterVolume;t!=this._playbackResource.volume&&(this._playbackResource.volume=t)}},e._calculateCurrentPosition=function(){return 1e3*this._playbackResource.currentTime-this._startTime},e._updatePosition=function(){this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1),this._playbackResource.addEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1);try{this._playbackResource.currentTime=.001*(this._position+this._startTime)}catch(t){this._handleSetPositionSeek(null)}},e._handleSetPositionSeek=function(t){null!=this._playbackResource&&(this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._handleSetPositionSeek,!1),this._playbackResource.addEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._handleAudioSpriteLoop=function(t){this._playbackResource.currentTime<=this._audioSpriteStopTime||(this._playbackResource.pause(),0==this._loop?this._handleSoundComplete(null):(this._position=0,this._loop--,this._playbackResource.currentTime=.001*this._startTime,this._paused||this._playbackResource.play(),this._sendEvent("loop")))},e._handleLoop=function(t){0==this._loop&&(this._playbackResource.loop=!1,this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_SEEKED,this._loopHandler,!1))},e._updateStartTime=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==at.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(at.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._updateDuration=function(){this._audioSpriteStopTime=.001*(this._startTime+this._duration),this.playState==at.Sound.PLAY_SUCCEEDED&&(this._playbackResource.removeEventListener(at.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._playbackResource.addEventListener(at.HTMLAudioPlugin._TIME_UPDATE,this._audioSpriteEndHandler,!1))},e._setDurationFromSource=function(){this._duration=at.HTMLAudioTagPool.getDuration(this.src),this._playbackResource=null},at.HTMLAudioSoundInstance=at.promote(t,"AbstractSoundInstance")}(),function(){function t(){this.AbstractPlugin_constructor(),this._capabilities=n._capabilities,this._loaderClass=at.SoundLoader,this._soundInstanceClass=at.HTMLAudioSoundInstance}var e=at.extend(t,at.AbstractPlugin),n=t;n.MAX_INSTANCES=30,n._AUDIO_READY="canplaythrough",n._AUDIO_ENDED="ended",n._AUDIO_SEEKED="seeked",n._AUDIO_STALLED="stalled",n._TIME_UPDATE="timeupdate",n._capabilities=null,n.isSupported=function(){return n._generateCapabilities(),null!=n._capabilities},n._generateCapabilities=function(){if(null==n._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;n._capabilities={panning:!1,volume:!0,tracks:-1};for(var e=at.Sound.SUPPORTED_EXTENSIONS,i=at.Sound.EXTENSION_MAP,s=0,o=e.length;s<o;s++){var a=e[s],r=i[a]||a;n._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+r)&&""!=t.canPlayType("audio/"+r)}}},e.register=function(t){var e=at.HTMLAudioTagPool.get(t.src),n=this.AbstractPlugin_register(t);return n.setTag(e),n},e.removeSound=function(t){this.AbstractPlugin_removeSound(t),at.HTMLAudioTagPool.remove(t)},e.create=function(t,e,n){var i=this.AbstractPlugin_create(t,e,n);return i.playbackResource=null,i},e.toString=function(){return"[HTMLAudioPlugin]"},e.setVolume=e.getVolume=e.setMute=null,at.HTMLAudioPlugin=at.promote(t,"AbstractPlugin")}();var rt=n("3e83"),ut=n("e3ee"),lt=(n("1736"),n("1034"),n("745a"),{debug:!1,state:{message:"Hello!",sourceArrayPreLoad:["imgs/bg-loading.jpg"],sourceArrayLoading:["imgs/music-open.png"],content:{full_vw:0,ful_vh:0},backgrundMusicIsPlaying:!1},setBackgroundMusicPause:function(){this.state.backgrundMusicIsPlaying=!1},setBackgroundMusicPlaying:function(){this.state.backgrundMusicIsPlaying=!0},setContent:function(t){var e=document.documentElement,n=1*t.vw/7.5;t&&t["vw"]&&t["vh"]&&(e.style.fontSize="".concat(n,"px"),this.content={full_vw:t.vw,ful_vh:t.vh})}}),ct={get:function(t,e){return Reflect.get(t,e)},set:function(t,e,n){return lt.debug&&console.log("store set: prop: ".concat(e,", value: ").concat(n)),Reflect.set.apply(Reflect,arguments)}},dt=function t(e){for(var n=0,i=Object.entries(e);n<i.length;n++){var s=Object(ut["a"])(i[n],2),o=s[0],a=s[1];"object"==Object(rt["a"])(a)&&(e[o]=new Proxy(a,ct),t(a))}return new Proxy(e,ct)};lt.state=dt(lt.state),window.store=lt;var ht=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={category:"general",value:null,g:!0,b:!0},s=function(t,e,n,i){window._hmt.push(["_trackEvent",t,e,n,i])},o=function(t,e,n,i){window.gtag("event",e,{event_category:t,event_label:n,value:i})};Object.assign(i,n),i.b&&s(i.category,t,e,i.value),i.g&&o(i.category,t,e,i.value)},pt=ht;n("f994");i["a"].prototype.$statics=pt,n("2b91"),i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(ot)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("4422")},6113:function(t,e,n){"use strict";n("2221")},"66a5":function(t,e,n){},"7e0c":function(t,e,n){"use strict";n("20e7")},"93cf":function(t,e,n){"use strict";n("66a5")},d811:function(t,e,n){"use strict";n("e79a")},e79a:function(t,e,n){},f994:function(t,e,n){"use strict";n.r(e);var i=n("aac1"),s=n.n(i),o=new s.a;e["default"]=o}});
//# sourceMappingURL=app.282eeda9.js.map